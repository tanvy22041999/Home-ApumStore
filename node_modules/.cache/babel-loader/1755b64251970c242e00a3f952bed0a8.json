{"ast":null,"code":"import _classCallCheck from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{compose}from'redux';import{withTranslation}from'react-i18next';// @Actions\nimport AdActions from\"../../redux/actions/ad\";import{Link}from'react-router-dom';// @Functions\nimport{LOCAL}from'../../constants/index';var PromotionPage=/*#__PURE__*/function(_Component){_inherits(PromotionPage,_Component);var _super=_createSuper(PromotionPage);function PromotionPage(){var _this;_classCallCheck(this,PromotionPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.setStatus=function(startedAt,endedAt){var t=_this.props.t;var today=new Date();if(new Date(startedAt)>today)return t('promotion.not-yet');else{if(new Date(endedAt)>today)return t('promotion.now');else return t('promotion.done');}};return _this;}_createClass(PromotionPage,[{key:\"componentDidMount\",value:function componentDidMount(){document.title=\"Quảng cáo | Promotion\";var onGetList=this.props.onGetList;onGetList({active:1});/* FB comment plugin */window.fbAsyncInit=function(){/* eslint-disable */window.FB.init({appId:'308035613517523',xfbml:true,version:'v2.6'});FB.XFBML.parse();/* eslint-disable */};(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return;}js=d.createElement(s);js.id=id;js.src='//connect.facebook.net/en_US/sdk.js';fjs.parentNode.insertBefore(js,fjs);})(document,'script','facebook-jssdk');/* FB comment plugin */}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){try{/*global FB*/if(FB){FB.XFBML.parse();}}catch(err){}}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,t=_this$props.t,listAd=_this$props.listAd,history=_this$props.history;return/*#__PURE__*/React.createElement(\"div\",{className:\"container my-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 my-2\"},/*#__PURE__*/React.createElement(\"a\",{className:\"text-decoration-none directory rounded p-2\",href:\"/#/\"},t('header.home.menu')),/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-chevron-right px-2 w-25-px\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"font-weight-bold\"},t('promotion.page.title'))),listAd&&listAd.map(function(ad,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-md-6 col-xl-4 my-2\",key:index},/*#__PURE__*/React.createElement(Link,{to:_this2.setStatus(ad.startedAt,ad.endedAt)!==t('promotion.done')&&ad.link.replace(\"https://localhost:5000/#\",\"\")},/*#__PURE__*/React.createElement(\"div\",{className:\"rounded shadow-sm my-2\"},/*#__PURE__*/React.createElement(\"img\",{className:\"rounded\",src:ad.image.publicUrl}),/*#__PURE__*/React.createElement(\"div\",{className:\"row px-3 py-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"font-weight-bold float-start\"},ad.name),/*#__PURE__*/React.createElement(\"p\",{className:\"font-weight-bold float-end mb-0 text-danger\"},_this2.setStatus(ad.startedAt,ad.endedAt))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-2\"},/*#__PURE__*/React.createElement(\"p\",{className:\"float-start mb-0\"},ad.content),/*#__PURE__*/React.createElement(\"p\",{className:\"float-end mb-0 font-italic text-danger\"},\"(\",new Date(ad.startedAt).toLocaleDateString(\"vn-VN\"),\" - \",new Date(ad.endedAt).toLocaleDateString(\"vn-VN\"),\")\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 text-right\"},_this2.setStatus(ad.startedAt,ad.endedAt)!==t('promotion.done')&&/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:function onClick(){return history.push(ad.link.replace(\"https://localhost:5000/#\",\"\"));}},t('common.detail.button')))))));})),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fb-comments\",\"data-href\":\"\".concat(LOCAL,\"/#/promotion\"),\"data-width\":\"100%\",\"data-numposts\":\"5\"}))));}}]);return PromotionPage;}(Component);var mapStateToProps=function mapStateToProps(state){return{listAd:state.ad.list};};var mapDispatchToProps=function mapDispatchToProps(dispatch,props){return{onGetList:function onGetList(params){dispatch(AdActions.onGetList(params));}};};var withConnect=connect(mapStateToProps,mapDispatchToProps);export default compose(withConnect,withTranslation())(PromotionPage);","map":{"version":3,"sources":["/Users/vyduong/Desktop/client/Home-ApumStore/src/components/PromotionPage/index.js"],"names":["React","Component","connect","compose","withTranslation","AdActions","Link","LOCAL","PromotionPage","setStatus","startedAt","endedAt","t","props","today","Date","document","title","onGetList","active","window","fbAsyncInit","FB","init","appId","xfbml","version","XFBML","parse","d","s","id","js","fjs","getElementsByTagName","getElementById","createElement","src","parentNode","insertBefore","prevProps","err","listAd","history","map","ad","index","link","replace","image","publicUrl","name","content","toLocaleDateString","push","mapStateToProps","state","list","mapDispatchToProps","dispatch","params","withConnect"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next'\n// @Actions\nimport AdActions from \"../../redux/actions/ad\";\nimport { Link } from 'react-router-dom';\n// @Functions\nimport { LOCAL } from '../../constants/index';\n\nclass PromotionPage extends Component {\n\n  componentDidMount(){\n    document.title = \"Quảng cáo | Promotion\";\n    const { onGetList } = this.props;\n    onGetList({active: 1});\n    /* FB comment plugin */\n    window.fbAsyncInit = () => {\n      /* eslint-disable */\n      window.FB.init({\n        appId: '308035613517523',\n        xfbml: true,\n        version: 'v2.6'\n      });\n      FB.XFBML.parse();\n      /* eslint-disable */\n    };\n\n    (function(d, s, id){\n        let js, fjs = d.getElementsByTagName(s)[0];\n        if (d.getElementById(id)) {return;}\n        js = d.createElement(s); js.id = id;\n        js.src = '//connect.facebook.net/en_US/sdk.js';\n        fjs.parentNode.insertBefore(js, fjs);\n    }(document, 'script', 'facebook-jssdk'));\n    /* FB comment plugin */\n  }\n\n  componentDidUpdate(prevProps) {\n    try{\n      /*global FB*/\n      if (FB) {\n        FB.XFBML.parse();\n      }\n    }\n    catch(err){\n    }\n  }\n  \n  setStatus = (startedAt, endedAt) => {\n    const { t } = this.props;\n    var today = new Date();\n    if(new Date(startedAt) > today) return t('promotion.not-yet')\n    else {\n      if(new Date(endedAt) > today) return t('promotion.now')\n      else return t('promotion.done')\n    }\n  }\n\n  render() {\n    var { t, listAd, history } = this.props;\n    \n    return (\n      <div className=\"container my-3\">\n        <div className=\"row\">\n          <div className=\"col-12 my-2\">\n            <a className=\"text-decoration-none directory rounded p-2\" href=\"/#/\">{t('header.home.menu')}</a>\n            <i className=\"fa fa-chevron-right px-2 w-25-px\"></i>\n          </div>\n          <div className=\"col-12\">\n            <h1 className=\"font-weight-bold\">{t('promotion.page.title')}</h1>\n          </div>\n          {listAd && listAd.map((ad, index) => {\n            return(\n              <div className=\"col-12 col-md-6 col-xl-4 my-2\" key={index}>\n                <Link to={this.setStatus(ad.startedAt, ad.endedAt) !== t('promotion.done') && ad.link.replace(\"https://localhost:5000/#\", \"\")}>\n                <div className=\"rounded shadow-sm my-2\">\n                  <img className=\"rounded\" src={ad.image.publicUrl}></img>\n                  <div className=\"row px-3 py-2\">\n                    <div className=\"col-12\">\n                      <h4 className=\"font-weight-bold float-start\">{ad.name}</h4>\n                      <p className=\"font-weight-bold float-end mb-0 text-danger\">{this.setStatus(ad.startedAt, ad.endedAt)}</p>\n                    </div>\n                    <div className=\"col-12 mb-2\">\n                      <p className=\"float-start mb-0\">{ad.content}</p>\n                      <p className=\"float-end mb-0 font-italic text-danger\">({new Date(ad.startedAt).toLocaleDateString(\"vn-VN\")} - {new Date(ad.endedAt).toLocaleDateString(\"vn-VN\")})</p>\n                    </div>\n                    <div className=\"col-12 text-right\">\n                      {this.setStatus(ad.startedAt, ad.endedAt) !== t('promotion.done') && <button type=\"button\" className=\"btn btn-primary\" onClick={()=> history.push(ad.link.replace(\"https://localhost:5000/#\", \"\"))}>{t('common.detail.button')}</button>}\n                    </div>\n                  </div>\n                </div>\n                </Link>\n              </div>\n            )\n          })}\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <div className=\"fb-comments\" data-href={`${LOCAL}/#/promotion`} data-width=\"100%\" data-numposts=\"5\"></div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) =>{\n  return {\n    listAd: state.ad.list\n  }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    onGetList: (params) => {\n      dispatch(AdActions.onGetList(params))\n    },\n  }\n}\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\nexport default compose(\n  withConnect,\n  withTranslation()\n)(PromotionPage)"]},"metadata":{},"sourceType":"module"}