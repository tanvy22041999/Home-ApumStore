{"ast":null,"code":"import _defineProperty from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{compose}from'redux';import{withTranslation}from'react-i18next';// @Components\nimport Rating from'react-rating';import{CButton,CModal,CModalBody,CModalFooter,CModalHeader}from\"@coreui/react\";// @Actions\nimport ReviewActions from'../../redux/actions/review';var ReviewDetail=/*#__PURE__*/function(_Component){_inherits(ReviewDetail,_Component);var _super=_createSuper(ReviewDetail);function ReviewDetail(props){var _this;_classCallCheck(this,ReviewDetail);_this=_super.call(this,props);_this.onReview=function(){var _this$state=_this.state,rating=_this$state.rating,message=_this$state.message;var _this$props=_this.props,onAddReview=_this$props.onAddReview,onUpdateReview=_this$props.onUpdateReview,authInfo=_this$props.authInfo,product=_this$props.product,review=_this$props.review,onCloseModal=_this$props.onCloseModal,modal=_this$props.modal,onClearDetail=_this$props.onClearDetail;var data={content:message,user:authInfo.id,product:product.product,rating:rating,color:product.color.id};if(review){onUpdateReview(review.id,data);}else{onAddReview(data);}onClearDetail();onCloseModal(\"modal\",!modal);};_this.onChange=function(event){var target=event.target;var name=target.name;var value=target.value;_this.setState(_defineProperty({},name,value));};var _review=props.review;_this.state={rating:_review?_review.rating:0,message:_review?_review.content:\"\"};return _this;}_createClass(ReviewDetail,[{key:\"onExit\",value:function onExit(){var _this$props2=this.props,onCloseModal=_this$props2.onCloseModal,modal=_this$props2.modal,onClearDetail=_this$props2.onClearDetail;onClearDetail();onCloseModal(\"modal\",!modal);}},{key:\"render\",value:function render(){var _this2=this;var _this$props3=this.props,modal=_this$props3.modal,product=_this$props3.product,t=_this$props3.t;var _this$state2=this.state,rating=_this$state2.rating,message=_this$state2.message;return/*#__PURE__*/React.createElement(CModal,{show:modal,onClose:function onClose(){return _this2.onExit();},closeOnBackdrop:false},/*#__PURE__*/React.createElement(CModalHeader,{closeButton:true},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center w-100\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"modal-title m-0\"},t('review.card.header')))),/*#__PURE__*/React.createElement(CModalBody,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 h-80 text-center\"},/*#__PURE__*/React.createElement(\"img\",{className:\"h-100\",src:product.image,alt:product.name})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9  align-self-center\"},/*#__PURE__*/React.createElement(\"p\",{className:\"font-weight-bold mb-0\"},product.name),/*#__PURE__*/React.createElement(\"p\",{className:\"text-secondary mb-0\"},t('common.color'),\": \",product.color.nameVn))),/*#__PURE__*/React.createElement(\"div\",{className:\"review_box\"},/*#__PURE__*/React.createElement(\"p\",null,t('review.card.h4'),\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"ml-3\"},/*#__PURE__*/React.createElement(Rating,{initialRating:rating,emptySymbol:\"fa fa-star text-secondary\",fullSymbol:\"fa fa-star text-warning\",onChange:function onChange(rating){return _this2.setState({rating:rating});}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"textarea\",{className:\"form-control different-control w-100\",name:\"message\",value:message,cols:\"30\",rows:\"5\",onChange:this.onChange})))),/*#__PURE__*/React.createElement(CModalFooter,null,/*#__PURE__*/React.createElement(CButton,{color:\"primary\",onClick:this.onReview},t('review.submit.button')),/*#__PURE__*/React.createElement(CButton,{color:\"secondary\",onClick:function onClick(){return _this2.onExit();}},t('user.close.button'))));}}]);return ReviewDetail;}(Component);var mapStateToProps=function mapStateToProps(state){return{authInfo:state.auth.detail};};var mapDispatchToProps=function mapDispatchToProps(dispatch,props){return{onAddReview:function onAddReview(data){dispatch(ReviewActions.onCreate(data));},onUpdateReview:function onUpdateReview(id,params){dispatch(ReviewActions.onUpdate(id,params));},onClearDetail:function onClearDetail(){dispatch(ReviewActions.onClearDetail());}};};var withConnect=connect(mapStateToProps,mapDispatchToProps);export default compose(withConnect,withTranslation())(ReviewDetail);","map":{"version":3,"sources":["/Users/vyduong/Desktop/client/Home-ApumStore/src/containers/ReviewDetail/index.js"],"names":["React","Component","connect","compose","withTranslation","Rating","CButton","CModal","CModalBody","CModalFooter","CModalHeader","ReviewActions","ReviewDetail","props","onReview","state","rating","message","onAddReview","onUpdateReview","authInfo","product","review","onCloseModal","modal","onClearDetail","data","content","user","id","color","onChange","event","target","name","value","setState","t","onExit","image","nameVn","mapStateToProps","auth","detail","mapDispatchToProps","dispatch","onCreate","params","onUpdate","withConnect"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {connect} from 'react-redux';\nimport {compose} from 'redux';\nimport { withTranslation } from 'react-i18next'\n// @Components\nimport Rating from 'react-rating'\nimport {\n  CButton,\n  CModal,\n  CModalBody,\n  CModalFooter,\n  CModalHeader,\n} from \"@coreui/react\";\n// @Actions\nimport ReviewActions from '../../redux/actions/review'\n\nclass ReviewDetail extends Component {\n  constructor(props){\n    super(props);\n    const {review} = props;\n    this.state = {\n      rating: review ? review.rating : 0,\n      message: review ? review.content : \"\"\n    }\n  }\n\n  onReview = () =>{\n    const { rating, message } = this.state;\n    const { onAddReview, onUpdateReview,  authInfo, product, review, onCloseModal, modal, onClearDetail } = this.props;\n    var data = {\n      content: message,\n      user: authInfo.id,\n      product: product.product,\n      rating,\n      color: product.color.id\n    }\n    if(review){\n      onUpdateReview(review.id, data)\n    }\n    else{\n      onAddReview(data);\n    }\n    onClearDetail();\n    onCloseModal(\"modal\", !modal)\n  }\n\n  onChange = (event) => {\n    var target = event.target;\n    var name = target.name;\n    var value = target.value;\n    this.setState({\n      [name]: value,\n    })\n  }\n\n  onExit(){\n    const {onCloseModal, modal, onClearDetail} = this.props;\n    onClearDetail();\n    onCloseModal(\"modal\", !modal)\n  }\n\n  render() {\n    const { modal, product, t } = this.props\n    const { rating, message } = this.state;\n    return (\n      <CModal show={modal} onClose={() => this.onExit()} closeOnBackdrop={false}>\n        <CModalHeader closeButton>\n          <div className=\"text-center w-100\">\n            <h3 className=\"modal-title m-0\">{t('review.card.header')}</h3>\n          </div>\n        </CModalHeader>\n        <CModalBody>\n          <div className=\"row mb-2\">\n            <div className=\"col-3 h-80 text-center\">\n              <img className=\"h-100\" src={product.image} alt={product.name}></img>\n            </div>\n            <div className=\"col-9  align-self-center\">\n              <p className=\"font-weight-bold mb-0\">{product.name}</p>\n              <p className=\"text-secondary mb-0\">{t('common.color')}: {product.color.nameVn}</p>\n            </div>\n          </div>\n          <div className=\"review_box\">\n            <p>{t('review.card.h4')} <span className=\"ml-3\"><Rating\n              initialRating={rating}\n              emptySymbol=\"fa fa-star text-secondary\"\n              fullSymbol=\"fa fa-star text-warning\"\n              onChange={(rating)=> this.setState({rating})}\n              /></span></p>\n            <div className=\"form-group\">\n              <textarea className=\"form-control different-control w-100\" name=\"message\" value={message} cols=\"30\" rows=\"5\"  onChange={this.onChange}></textarea>\n            </div>\n          </div>\n        </CModalBody>\n        <CModalFooter>\n          <CButton color=\"primary\" onClick={this.onReview}>\n            {t('review.submit.button')}\n          </CButton>\n          <CButton color=\"secondary\" onClick={() => this.onExit()}>\n            {t('user.close.button')}\n          </CButton>\n        </CModalFooter>\n      </CModal>\n    )\n  }\n}\n\nconst mapStateToProps = (state) =>{\n  return {\n    authInfo: state.auth.detail,\n  }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    onAddReview: (data) => {\n      dispatch(ReviewActions.onCreate(data));\n    },\n    onUpdateReview: (id, params) => {\n      dispatch(ReviewActions.onUpdate(id, params));\n    },\n    onClearDetail: () =>{\n      dispatch(ReviewActions.onClearDetail());\n    }\n  }\n}\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(\n  withConnect,\n  withTranslation()\n)(ReviewDetail);"]},"metadata":{},"sourceType":"module"}