{"ast":null,"code":"import _objectSpread from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(handleGetList),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(handleGetAccessory),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(handleGetBestSeller),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(handleGetNewest),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(handleCompare),_marked6=/*#__PURE__*/_regeneratorRuntime.mark(handleFilter),_marked7=/*#__PURE__*/_regeneratorRuntime.mark(handleCompareFilter),_marked8=/*#__PURE__*/_regeneratorRuntime.mark(handleGetLike),_marked9=/*#__PURE__*/_regeneratorRuntime.mark(handleGetRelate),_marked10=/*#__PURE__*/_regeneratorRuntime.mark(handleGetDetail),_marked11=/*#__PURE__*/_regeneratorRuntime.mark(watchGetList),_marked12=/*#__PURE__*/_regeneratorRuntime.mark(watchCompare),_marked13=/*#__PURE__*/_regeneratorRuntime.mark(watchGetAccessory),_marked14=/*#__PURE__*/_regeneratorRuntime.mark(watchGetBestSeller),_marked15=/*#__PURE__*/_regeneratorRuntime.mark(watchGetRelate),_marked16=/*#__PURE__*/_regeneratorRuntime.mark(watchGetLike),_marked17=/*#__PURE__*/_regeneratorRuntime.mark(watchGetNewest),_marked18=/*#__PURE__*/_regeneratorRuntime.mark(watchGetDetail),_marked19=/*#__PURE__*/_regeneratorRuntime.mark(watchFilter),_marked20=/*#__PURE__*/_regeneratorRuntime.mark(watchCompareFilter),_marked21=/*#__PURE__*/_regeneratorRuntime.mark(rootSaga);import{takeEvery,fork,all,call,put,delay}from\"redux-saga/effects\";import{get}from\"lodash\";import UIActions from\"../actions/ui\";import ProductsActions,{ProductsActionTypes}from\"../actions/products\";import{getAllProducts,getDetailProduct,getBestSeller,getNewest,getLikeProducts,getRelateProducts,getAllAccessory,compareProduct}from\"../apis/products\";import GroupActions from\"../actions/group\";function handleGetList(_ref){var payload,result,data;return _regeneratorRuntime.wrap(function handleGetList$(_context){while(1){switch(_context.prev=_context.next){case 0:payload=_ref.payload;_context.prev=1;_context.next=4;return call(getAllProducts,payload);case 4:result=_context.sent;data=get(result,\"data\");if(!(data.code!==200)){_context.next=8;break;}throw data;case 8:_context.next=10;return put(ProductsActions.onGetListSuccess(data.products,data.total));case 10:_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);_context.next=16;return put(ProductsActions.onGetListError(_context.t0));case 16:case\"end\":return _context.stop();}}},_marked,null,[[1,12]]);}function handleGetAccessory(_ref2){var payload,result,data;return _regeneratorRuntime.wrap(function handleGetAccessory$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:payload=_ref2.payload;_context2.prev=1;_context2.next=4;return call(getAllAccessory,payload);case 4:result=_context2.sent;data=get(result,\"data\");if(!(data.code!==200)){_context2.next=8;break;}throw data;case 8:_context2.next=10;return put(ProductsActions.onGetAccessorySuccess(data.products,data.total));case 10:_context2.next=16;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](1);_context2.next=16;return put(ProductsActions.onGetAccessoryError(_context2.t0));case 16:case\"end\":return _context2.stop();}}},_marked2,null,[[1,12]]);}function handleGetBestSeller(_ref3){var payload,result,data;return _regeneratorRuntime.wrap(function handleGetBestSeller$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:payload=_ref3.payload;_context3.next=3;return put(UIActions.showLoading());case 3:_context3.prev=3;_context3.next=6;return call(getBestSeller,payload);case 6:result=_context3.sent;data=get(result,\"data\");if(!(data.code!==200)){_context3.next=10;break;}throw data;case 10:_context3.next=12;return put(ProductsActions.onGetBestSellerSuccess(data.products));case 12:_context3.next=18;break;case 14:_context3.prev=14;_context3.t0=_context3[\"catch\"](3);_context3.next=18;return put(ProductsActions.onGetBestSellerError(_context3.t0));case 18:_context3.next=20;return put(UIActions.hideLoading());case 20:case\"end\":return _context3.stop();}}},_marked3,null,[[3,14]]);}function handleGetNewest(_ref4){var payload,result,data;return _regeneratorRuntime.wrap(function handleGetNewest$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:payload=_ref4.payload;_context4.next=3;return put(UIActions.showLoading());case 3:_context4.prev=3;_context4.next=6;return call(getNewest,payload);case 6:result=_context4.sent;data=get(result,\"data\");if(!(data.code!==200)){_context4.next=10;break;}throw data;case 10:_context4.next=12;return put(ProductsActions.onGetNewestSuccess(data.products));case 12:_context4.next=18;break;case 14:_context4.prev=14;_context4.t0=_context4[\"catch\"](3);_context4.next=18;return put(ProductsActions.onGetNewestError(_context4.t0));case 18:_context4.next=20;return put(UIActions.hideLoading());case 20:case\"end\":return _context4.stop();}}},_marked4,null,[[3,14]]);}function handleCompare(_ref5){var payload,result,data;return _regeneratorRuntime.wrap(function handleCompare$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:payload=_ref5.payload;_context5.next=3;return put(UIActions.showLoading());case 3:_context5.prev=3;_context5.next=6;return call(compareProduct,payload);case 6:result=_context5.sent;data=get(result,\"data\");if(!(data.code!==200)){_context5.next=10;break;}throw data;case 10:_context5.next=12;return put(ProductsActions.onCompareSuccess(data.products));case 12:_context5.next=18;break;case 14:_context5.prev=14;_context5.t0=_context5[\"catch\"](3);_context5.next=18;return put(ProductsActions.onCompareError(_context5.t0));case 18:_context5.next=20;return put(UIActions.hideLoading());case 20:case\"end\":return _context5.stop();}}},_marked5,null,[[3,14]]);}function handleFilter(_ref6){var payload,result,data;return _regeneratorRuntime.wrap(function handleFilter$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:payload=_ref6.payload;_context6.prev=1;_context6.next=4;return delay(300);case 4:_context6.next=6;return call(getAllProducts,_objectSpread(_objectSpread({},payload),{},{limit:5,active:1}));case 6:result=_context6.sent;data=get(result,\"data\");if(!(data.code!==200)){_context6.next=10;break;}throw data;case 10:_context6.next=12;return put(ProductsActions.onFilterSuccess(data.products));case 12:_context6.next=17;break;case 14:_context6.prev=14;_context6.t0=_context6[\"catch\"](1);console.log(_context6.t0);case 17:case\"end\":return _context6.stop();}}},_marked6,null,[[1,14]]);}function handleCompareFilter(_ref7){var payload,result,data;return _regeneratorRuntime.wrap(function handleCompareFilter$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:payload=_ref7.payload;_context7.prev=1;_context7.next=4;return delay(300);case 4:_context7.next=6;return call(getAllProducts,_objectSpread(_objectSpread({},payload),{},{limit:5,active:1}));case 6:result=_context7.sent;data=get(result,\"data\");if(!(data.code!==200)){_context7.next=10;break;}throw data;case 10:_context7.next=12;return put(ProductsActions.onCompareFilterSuccess(data.products));case 12:_context7.next=17;break;case 14:_context7.prev=14;_context7.t0=_context7[\"catch\"](1);console.log(_context7.t0);case 17:case\"end\":return _context7.stop();}}},_marked7,null,[[1,14]]);}function handleGetLike(_ref8){var id,result,data;return _regeneratorRuntime.wrap(function handleGetLike$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:id=_ref8.id;_context8.prev=1;_context8.next=4;return call(getLikeProducts,id);case 4:result=_context8.sent;data=get(result,\"data\",{});if(!(data.code!==200)){_context8.next=8;break;}throw data;case 8:_context8.next=10;return put(ProductsActions.onGetLikeSuccess(data.result.recommend));case 10:_context8.next=16;break;case 12:_context8.prev=12;_context8.t0=_context8[\"catch\"](1);_context8.next=16;return put(ProductsActions.onGetLikeError(_context8.t0));case 16:case\"end\":return _context8.stop();}}},_marked8,null,[[1,12]]);}function handleGetRelate(_ref9){var id,result,data;return _regeneratorRuntime.wrap(function handleGetRelate$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:id=_ref9.id;_context9.prev=1;_context9.next=4;return call(getRelateProducts,id);case 4:result=_context9.sent;data=get(result,\"data\",{});if(!(data.code!==200)){_context9.next=8;break;}throw data;case 8:_context9.next=10;return put(ProductsActions.onGetRelateSuccess(data.result.recommend));case 10:_context9.next=16;break;case 12:_context9.prev=12;_context9.t0=_context9[\"catch\"](1);_context9.next=16;return put(ProductsActions.onGetRelateError(_context9.t0));case 16:case\"end\":return _context9.stop();}}},_marked9,null,[[1,12]]);}function handleGetDetail(_ref10){var id,result,data;return _regeneratorRuntime.wrap(function handleGetDetail$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:id=_ref10.id;_context10.prev=1;_context10.next=4;return call(getDetailProduct,id);case 4:result=_context10.sent;data=get(result,\"data\",{});if(!(data.code!==200)){_context10.next=8;break;}throw data;case 8:_context10.next=10;return delay(2000);case 10:_context10.next=12;return put(ProductsActions.onGetDetailSuccess(data.product));case 12:if(!data.product.group){_context10.next=15;break;}_context10.next=15;return put(GroupActions.onGetDetail(data.product.group.id));case 15:_context10.next=21;break;case 17:_context10.prev=17;_context10.t0=_context10[\"catch\"](1);_context10.next=21;return put(ProductsActions.onGetDetailError(_context10.t0));case 21:case\"end\":return _context10.stop();}}},_marked10,null,[[1,17]]);}/**\n *\n */export function watchGetList(){return _regeneratorRuntime.wrap(function watchGetList$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return takeEvery(ProductsActionTypes.GET_LIST,handleGetList);case 2:case\"end\":return _context11.stop();}}},_marked11);}export function watchCompare(){return _regeneratorRuntime.wrap(function watchCompare$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return takeEvery(ProductsActionTypes.COMPARE,handleCompare);case 2:case\"end\":return _context12.stop();}}},_marked12);}export function watchGetAccessory(){return _regeneratorRuntime.wrap(function watchGetAccessory$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return takeEvery(ProductsActionTypes.GET_ACCESSORY,handleGetAccessory);case 2:case\"end\":return _context13.stop();}}},_marked13);}export function watchGetBestSeller(){return _regeneratorRuntime.wrap(function watchGetBestSeller$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.next=2;return takeEvery(ProductsActionTypes.GET_BEST_SELLER,handleGetBestSeller);case 2:case\"end\":return _context14.stop();}}},_marked14);}export function watchGetRelate(){return _regeneratorRuntime.wrap(function watchGetRelate$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_context15.next=2;return takeEvery(ProductsActionTypes.GET_RELATE,handleGetRelate);case 2:case\"end\":return _context15.stop();}}},_marked15);}export function watchGetLike(){return _regeneratorRuntime.wrap(function watchGetLike$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:_context16.next=2;return takeEvery(ProductsActionTypes.GET_LIKE,handleGetLike);case 2:case\"end\":return _context16.stop();}}},_marked16);}export function watchGetNewest(){return _regeneratorRuntime.wrap(function watchGetNewest$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:_context17.next=2;return takeEvery(ProductsActionTypes.GET_NEWEST,handleGetNewest);case 2:case\"end\":return _context17.stop();}}},_marked17);}export function watchGetDetail(){return _regeneratorRuntime.wrap(function watchGetDetail$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_context18.next=2;return takeEvery(ProductsActionTypes.GET_DETAIL,handleGetDetail);case 2:case\"end\":return _context18.stop();}}},_marked18);}export function watchFilter(){return _regeneratorRuntime.wrap(function watchFilter$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:_context19.next=2;return takeEvery(ProductsActionTypes.FILTER,handleFilter);case 2:case\"end\":return _context19.stop();}}},_marked19);}export function watchCompareFilter(){return _regeneratorRuntime.wrap(function watchCompareFilter$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:_context20.next=2;return takeEvery(ProductsActionTypes.COMPARE_FILTER,handleCompareFilter);case 2:case\"end\":return _context20.stop();}}},_marked20);}export default function rootSaga(){return _regeneratorRuntime.wrap(function rootSaga$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:_context21.next=2;return all([fork(watchGetList),fork(watchCompare),fork(watchGetAccessory),fork(watchGetBestSeller),fork(watchGetNewest),fork(watchGetLike),fork(watchGetRelate),fork(watchGetDetail),fork(watchFilter),fork(watchCompareFilter)]);case 2:case\"end\":return _context21.stop();}}},_marked21);}","map":{"version":3,"sources":["/Users/vyduong/Desktop/client/Home-ApumStore/src/redux/sagas/products.js"],"names":["handleGetList","handleGetAccessory","handleGetBestSeller","handleGetNewest","handleCompare","handleFilter","handleCompareFilter","handleGetLike","handleGetRelate","handleGetDetail","watchGetList","watchCompare","watchGetAccessory","watchGetBestSeller","watchGetRelate","watchGetLike","watchGetNewest","watchGetDetail","watchFilter","watchCompareFilter","rootSaga","takeEvery","fork","all","call","put","delay","get","UIActions","ProductsActions","ProductsActionTypes","getAllProducts","getDetailProduct","getBestSeller","getNewest","getLikeProducts","getRelateProducts","getAllAccessory","compareProduct","GroupActions","payload","result","data","code","onGetListSuccess","products","total","onGetListError","onGetAccessorySuccess","onGetAccessoryError","showLoading","onGetBestSellerSuccess","onGetBestSellerError","hideLoading","onGetNewestSuccess","onGetNewestError","onCompareSuccess","onCompareError","limit","active","onFilterSuccess","console","log","onCompareFilterSuccess","id","onGetLikeSuccess","recommend","onGetLikeError","onGetRelateSuccess","onGetRelateError","onGetDetailSuccess","product","group","onGetDetail","onGetDetailError","GET_LIST","COMPARE","GET_ACCESSORY","GET_BEST_SELLER","GET_RELATE","GET_LIKE","GET_NEWEST","GET_DETAIL","FILTER","COMPARE_FILTER"],"mappings":"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","sourcesContent":["import { takeEvery, fork, all, call, put, delay } from \"redux-saga/effects\";\nimport { get } from \"lodash\";\nimport UIActions from \"../actions/ui\";\nimport ProductsActions, { ProductsActionTypes } from \"../actions/products\";\nimport { \n  getAllProducts, getDetailProduct, getBestSeller, getNewest, getLikeProducts, getRelateProducts,\n  getAllAccessory, compareProduct\n} from \"../apis/products\";\nimport GroupActions from \"../actions/group\";\n\nfunction* handleGetList({ payload }) {\n  try {\n    const result = yield call(getAllProducts, payload);\n    const data = get(result, \"data\");\n    if (data.code !== 200) throw data;\n    yield put(ProductsActions.onGetListSuccess(data.products, data.total));\n  } catch (error) {\n    yield put(ProductsActions.onGetListError(error));\n  }\n}\n\nfunction* handleGetAccessory({ payload }) {\n  try {\n    const result = yield call(getAllAccessory, payload);\n    const data = get(result, \"data\");\n    if (data.code !== 200) throw data;\n    yield put(ProductsActions.onGetAccessorySuccess(data.products, data.total));\n  } catch (error) {\n    yield put(ProductsActions.onGetAccessoryError(error));\n  }\n}\n\nfunction* handleGetBestSeller({ payload }) {\n  yield put(UIActions.showLoading());\n  try {\n    const result = yield call(getBestSeller, payload);\n    const data = get(result, \"data\");\n    if (data.code !== 200) throw data;\n    yield put(ProductsActions.onGetBestSellerSuccess(data.products));\n  } catch (error) {\n    yield put(ProductsActions.onGetBestSellerError(error));\n  }\n  yield put(UIActions.hideLoading());\n}\n\nfunction* handleGetNewest({ payload }) {\n  yield put(UIActions.showLoading());\n  try {\n    const result = yield call(getNewest, payload);\n    const data = get(result, \"data\");\n    if (data.code !== 200) throw data;\n    yield put(ProductsActions.onGetNewestSuccess(data.products));\n  } catch (error) {\n    yield put(ProductsActions.onGetNewestError(error));\n  }\n  yield put(UIActions.hideLoading());\n}\n\nfunction* handleCompare({ payload }) {\n  yield put(UIActions.showLoading());\n  try {\n    const result = yield call(compareProduct, payload);\n    const data = get(result, \"data\");\n    if (data.code !== 200) throw data;\n    yield put(ProductsActions.onCompareSuccess(data.products));\n  } catch (error) {\n    yield put(ProductsActions.onCompareError(error));\n  }\n  yield put(UIActions.hideLoading());\n}\n\nfunction* handleFilter({ payload }) {\n  try {\n    yield delay(300);\n    var result = yield call(getAllProducts, {\n      ...payload,\n      limit: 5,\n      active: 1\n    });\n    const data = get(result, \"data\");\n    if (data.code !== 200) throw data;\n    yield put(ProductsActions.onFilterSuccess(data.products));\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nfunction* handleCompareFilter({ payload }) {\n  try {\n    yield delay(300);\n    var result = yield call(getAllProducts, {\n      ...payload,\n      limit: 5,\n      active: 1\n    });\n    const data = get(result, \"data\");\n    if (data.code !== 200) throw data;\n    yield put(ProductsActions.onCompareFilterSuccess(data.products));\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nfunction* handleGetLike({ id }) {\n  try {\n    const result = yield call(getLikeProducts, id);\n    const data = get(result, \"data\", {});\n    if (data.code !== 200) throw data;\n    yield put(ProductsActions.onGetLikeSuccess(data.result.recommend));\n  } catch (error) {\n    yield put(ProductsActions.onGetLikeError(error));\n  }\n}\n\nfunction* handleGetRelate({ id }) {\n  try {\n    const result = yield call(getRelateProducts, id);\n    const data = get(result, \"data\", {});\n    if (data.code !== 200) throw data;\n    yield put(ProductsActions.onGetRelateSuccess(data.result.recommend));\n  } catch (error) {\n    yield put(ProductsActions.onGetRelateError(error));\n  }\n}\n\nfunction* handleGetDetail({ id }) {\n  try {\n    const result = yield call(getDetailProduct, id);\n    const data = get(result, \"data\", {});\n    if (data.code !== 200) throw data;\n    yield delay(2000)\n    yield put(ProductsActions.onGetDetailSuccess(data.product));\n    if(data.product.group) yield put(GroupActions.onGetDetail(data.product.group.id))\n  } catch (error) {\n    yield put(ProductsActions.onGetDetailError(error));\n  }\n}\n\n\n/**\n *\n */\nexport function* watchGetList() {\n  yield takeEvery(ProductsActionTypes.GET_LIST, handleGetList);\n}\nexport function* watchCompare() {\n  yield takeEvery(ProductsActionTypes.COMPARE, handleCompare);\n}\nexport function* watchGetAccessory() {\n  yield takeEvery(ProductsActionTypes.GET_ACCESSORY, handleGetAccessory);\n}\nexport function* watchGetBestSeller() {\n  yield takeEvery(ProductsActionTypes.GET_BEST_SELLER, handleGetBestSeller);\n}\nexport function* watchGetRelate() {\n  yield takeEvery(ProductsActionTypes.GET_RELATE, handleGetRelate);\n}\nexport function* watchGetLike() {\n  yield takeEvery(ProductsActionTypes.GET_LIKE, handleGetLike);\n}\nexport function* watchGetNewest() {\n  yield takeEvery(ProductsActionTypes.GET_NEWEST, handleGetNewest);\n}\nexport function* watchGetDetail() {\n  yield takeEvery(ProductsActionTypes.GET_DETAIL, handleGetDetail);\n}\nexport function* watchFilter() {\n  yield takeEvery(ProductsActionTypes.FILTER, handleFilter);\n}\nexport function* watchCompareFilter() {\n  yield takeEvery(ProductsActionTypes.COMPARE_FILTER, handleCompareFilter);\n}\n\nexport default function* rootSaga() {\n  yield all([\n    fork(watchGetList),\n    fork(watchCompare),\n    fork(watchGetAccessory),\n    fork(watchGetBestSeller),\n    fork(watchGetNewest),\n    fork(watchGetLike),\n    fork(watchGetRelate),\n    fork(watchGetDetail),\n    fork(watchFilter),\n    fork(watchCompareFilter),\n  ]);\n}\n"]},"metadata":{},"sourceType":"module"}