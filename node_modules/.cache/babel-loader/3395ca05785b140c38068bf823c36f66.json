{"ast":null,"code":"var _jsxFileName = \"/Users/vyduong/Desktop/DOChoi_FE/WebBanDienThoai-master 2/FE_WebBanDienThoai/src/components/AccessoryPage/index.js\";\nimport React, { Component } from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport qs from \"query-string\"; // @Actions\n\nimport CategoryActions from \"../../redux/actions/categories\";\nimport BrandActions from \"../../redux/actions/brands\";\nimport ProductsActions from \"../../redux/actions/products\"; // @Components\n\nimport ProductItem from \"../../containers/ProductItem\";\nimport Loader from '../../containers/ProductItem/ItemLoader';\nimport Pagination from \"react-js-pagination\"; // @Functions\n\nimport { LOCAL } from '../../constants/index';\nimport accessoryData from './accessory.json';\nimport getFilterParams from \"../../utils/getFilterParams\";\n\nclass AccessoryPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.redirectCategory = category => {\n      const {\n        history\n      } = this.props;\n      history.push(`/products/${category.pathseo}.${category._id}`);\n    };\n\n    this.onSetBrand = value => {\n      this.handleUpdateFilter({\n        brand: value,\n        page: 0\n      });\n    };\n\n    this.handleChangeSortPrice = event => {\n      this.handleUpdateFilter({\n        sort_p: event.target.value,\n        page: 0\n      });\n    };\n\n    this.handleUpdateFilter = data => {\n      const {\n        location,\n        history\n      } = this.props;\n      const {\n        pathname,\n        search\n      } = location;\n      let queryParams = getFilterParams(search);\n      queryParams = { ...queryParams,\n        ...data\n      };\n      history.push(`${pathname}?${qs.stringify(queryParams)}`);\n    };\n\n    this.destroyFilter = () => {\n      const {\n        location,\n        history\n      } = this.props;\n      const {\n        pathname\n      } = location;\n      history.push(pathname);\n    };\n\n    const {\n      location: _location\n    } = props;\n    const filter = getFilterParams(_location.search);\n    this.state = {\n      more: false,\n      min_p: filter.min_p === null ? \"\" : filter.min_p,\n      max_p: filter.max_p === null ? \"\" : filter.max_p,\n      filter: {\n        limit: 20,\n        page: 0\n      }\n    };\n  }\n\n  componentWillMount() {\n    /* FB comment plugin */\n    window.fbAsyncInit = () => {\n      /* eslint-disable */\n      window.FB.init({\n        appId: '308035613517523',\n        xfbml: true,\n        version: 'v2.6'\n      });\n      FB.XFBML.parse();\n      /* eslint-disable */\n    };\n\n    (function (d, s, id) {\n      let js,\n          fjs = d.getElementsByTagName(s)[0];\n\n      if (d.getElementById(id)) {\n        return;\n      }\n\n      js = d.createElement(s);\n      js.id = id;\n      js.src = '//connect.facebook.net/en_US/sdk.js';\n      fjs.parentNode.insertBefore(js, fjs);\n    })(document, 'script', 'facebook-jssdk');\n    /* FB comment plugin */\n\n  }\n\n  componentDidMount() {\n    document.title = \"Phụ kiện | Accessories\";\n    const {\n      onGetAccessory,\n      onGetListBrand,\n      onGetListProduct,\n      location\n    } = this.props;\n    const {\n      filter\n    } = this.state;\n    const filters = getFilterParams(location.search);\n    var params = { ...filter,\n      ...filters\n    };\n    onGetAccessory({ ...params,\n      accessories: 1\n    });\n    onGetListBrand();\n    onGetListProduct(params);\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      location,\n      onGetListProduct\n    } = this.props;\n\n    try {\n      /*global FB*/\n      if (FB) {\n        FB.XFBML.parse();\n      }\n\n      if (prevProps.location.search !== location.search) {\n        const filters = getFilterParams(location.search);\n        const {\n          filter\n        } = this.state;\n        var params = { ...filter,\n          ...filters\n        };\n        onGetListProduct(params);\n      }\n    } catch (err) {}\n  }\n\n  // phân trang\n  handlePageChange(pageNumber) {\n    this.handleUpdateFilter({\n      page: pageNumber - 1\n    });\n  } // Chuyển router (thêm vào params) \n\n\n  componentWillUnmount() {\n    const {\n      onClearStateBrand\n    } = this.props;\n    onClearStateBrand();\n  }\n\n  render() {\n    const {\n      more\n    } = this.state;\n    const {\n      t,\n      listAccessory,\n      totalBrand,\n      listProducts,\n      total,\n      location\n    } = this.props;\n    const filter = getFilterParams(location.search);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container my-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 my-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"text-decoration-none directory rounded p-2\",\n      href: \"/#/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }, t('header.home.menu')), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-chevron-right px-2 w-25-px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }\n    }, t('accessory.page.title'))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 my-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rounded shadow-sm my-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"px-3 py-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"mb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }\n    }, t('accessory.category.title')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-2 border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }\n    }, listAccessory && listAccessory.map(item => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3 col-md-2 col-xl-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"square\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"rounded content bg-light\",\n        onClick: () => this.redirectCategory(item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: item.image.public_url,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"text-center font-weight-bold x-small\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 23\n        }\n      }, item.name));\n    })))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: filter.brand === null || filter.brand === undefined ? \"rounded-pill shadow-sm bg-aqua text-dark my-2 mr-2 position-relative btn-padding\" : \"rounded-pill shadow-sm bg-light text-dark my-2 mr-2 position-relative btn-padding\",\n      onClick: () => this.onSetBrand(null),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 13\n      }\n    }, t('common.all')), totalBrand && totalBrand.map((brand, index) => {\n      return /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: filter.brand === brand._id._id ? \"rounded-pill shadow-sm bg-aqua text-dark mr-2 my-2 position-relative btn-padding\" : \"rounded-pill shadow-sm bg-light text-dark mr-2 my-2 position-relative btn-padding\",\n        key: index,\n        onClick: () => this.onSetBrand(brand._id._id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        alt: brand._id.name,\n        style: {\n          height: \"20px\"\n        },\n        src: brand._id.image && brand._id.image.public_url,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"product-count\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 17\n        }\n      }, brand.count));\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }\n    }, t('shop.search.first'), \" \", total, \" \", t('shop.search.last'))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      value: filter.sort_p,\n      className: \"form-select float-end w-fit-content\",\n      onChange: this.handleChangeSortPrice,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      key: -1,\n      value: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 15\n      }\n    }, t('shop.sort.price')), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 15\n      }\n    }, t('shop.sort.inc')), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 15\n      }\n    }, t('shop.sort.des'))), location.search.length > 0 && /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-light float-end shadow-sm mr-2\",\n      onClick: () => this.destroyFilter(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 44\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-eraser mr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 15\n      }\n    }), t('common.clear-filter.button')))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }\n    }, listProducts ? listProducts.map((product, index) => {\n      return /*#__PURE__*/React.createElement(ProductItem, {\n        product: product,\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 17\n        }\n      });\n    }) : /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 16\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-pagination text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"float-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Pagination, {\n      activePage: filter.page ? parseInt(filter.page) + 1 : 1,\n      itemsCountPerPage: 12,\n      totalItemsCount: total ? total : 10,\n      pageRangeDisplayed: 3,\n      linkClass: \"page-link\",\n      itemClass: \"page-item\",\n      prevPageText: t('shop.pagination.prev'),\n      nextPageText: t('shop.pagination.next'),\n      hideFirstLastPages: true,\n      onChange: this.handlePageChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 15\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: more ? \"row\" : \"row description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }\n    }, accessoryData.accessoryAd.map(item => {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 17\n        }\n      }, item.title), item.content.map(line => {\n        return /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 21\n          }\n        }, line);\n      }), item.image && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: item.image,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 19\n        }\n      })));\n    })), !more && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"view-more\",\n      onClick: () => this.setState({\n        more: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 13\n      }\n    }, t('common.readmore.button'), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-angle-down ml-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 51\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fb-comments\",\n      \"data-href\": `${LOCAL}/#/products/accessories`,\n      \"data-width\": \"100%\",\n      \"data-numposts\": \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    listAccessory: state.categories.accessories,\n    totalBrand: state.brands.list,\n    listProducts: state.products.list,\n    total: state.products.total\n  };\n};\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    onClearStateBrand: () => {\n      dispatch(BrandActions.onClearState());\n    },\n    onGetListProduct: params => {\n      dispatch(ProductsActions.onGetAccessory(params));\n    },\n    onGetAccessory: payload => {\n      dispatch(CategoryActions.onGetAccessory(payload));\n    },\n    onGetListBrand: params => {\n      dispatch(BrandActions.onGetAccessory(params));\n    }\n  };\n};\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\nexport default compose(withConnect, withTranslation())(AccessoryPage);","map":{"version":3,"sources":["/Users/vyduong/Desktop/DOChoi_FE/WebBanDienThoai-master 2/FE_WebBanDienThoai/src/components/AccessoryPage/index.js"],"names":["React","Component","withTranslation","connect","compose","qs","CategoryActions","BrandActions","ProductsActions","ProductItem","Loader","Pagination","LOCAL","accessoryData","getFilterParams","AccessoryPage","constructor","props","redirectCategory","category","history","push","pathseo","_id","onSetBrand","value","handleUpdateFilter","brand","page","handleChangeSortPrice","event","sort_p","target","data","location","pathname","search","queryParams","stringify","destroyFilter","filter","state","more","min_p","max_p","limit","componentWillMount","window","fbAsyncInit","FB","init","appId","xfbml","version","XFBML","parse","d","s","id","js","fjs","getElementsByTagName","getElementById","createElement","src","parentNode","insertBefore","document","componentDidMount","title","onGetAccessory","onGetListBrand","onGetListProduct","filters","params","accessories","componentDidUpdate","prevProps","err","handlePageChange","pageNumber","componentWillUnmount","onClearStateBrand","render","t","listAccessory","totalBrand","listProducts","total","map","item","image","public_url","name","undefined","index","height","count","length","product","parseInt","bind","accessoryAd","content","line","setState","mapStateToProps","categories","brands","list","products","mapDispatchToProps","dispatch","onClearState","payload","withConnect"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { withTranslation } from 'react-i18next'\nimport {connect} from 'react-redux';\nimport {compose} from 'redux';\nimport qs from \"query-string\";\n// @Actions\nimport CategoryActions from \"../../redux/actions/categories\";\nimport BrandActions from \"../../redux/actions/brands\";\nimport ProductsActions from \"../../redux/actions/products\";\n// @Components\nimport ProductItem from \"../../containers/ProductItem\"\nimport Loader from '../../containers/ProductItem/ItemLoader';\nimport Pagination from \"react-js-pagination\";\n// @Functions\nimport {LOCAL} from '../../constants/index';\nimport accessoryData from './accessory.json'\nimport getFilterParams from \"../../utils/getFilterParams\";\n\nclass AccessoryPage extends Component {\n  constructor(props){\n    super(props);\n    const {location} = props;\n    const filter = getFilterParams(location.search);\n    this.state = {\n      more: false,\n      min_p: filter.min_p ===null ? \"\" : filter.min_p,\n      max_p: filter.max_p ===null ? \"\" : filter.max_p,\n      filter: {\n        limit: 20,\n        page: 0,\n      },\n    }\n  }\n\n  componentWillMount(){\n    /* FB comment plugin */\n    window.fbAsyncInit = () => {\n      /* eslint-disable */\n      window.FB.init({\n        appId: '308035613517523',\n        xfbml: true,\n        version: 'v2.6'\n      });\n      FB.XFBML.parse();\n      /* eslint-disable */\n    };\n\n    (function(d, s, id){\n        let js, fjs = d.getElementsByTagName(s)[0];\n        if (d.getElementById(id)) {return;}\n        js = d.createElement(s); js.id = id;\n        js.src = '//connect.facebook.net/en_US/sdk.js';\n        fjs.parentNode.insertBefore(js, fjs);\n    }(document, 'script', 'facebook-jssdk'));\n    /* FB comment plugin */\n  }\n\n  componentDidMount(){\n    document.title = \"Phụ kiện | Accessories\";\n    const { onGetAccessory, onGetListBrand, onGetListProduct, location } = this.props;\n    const { filter } = this.state;\n    const filters = getFilterParams(location.search);\n    var params = {\n      ...filter,\n      ...filters\n    };\n    onGetAccessory({\n      ...params,\n      accessories : 1\n    })\n    onGetListBrand();\n    onGetListProduct(params)\n  }\n\n  componentDidUpdate(prevProps) {\n    const {location, onGetListProduct} = this.props\n    try{\n      /*global FB*/\n      if (FB) {\n        FB.XFBML.parse();\n      }\n      if (prevProps.location.search !== location.search) {\n        const filters = getFilterParams(location.search);\n        const { filter } = this.state;\n        var params = {\n          ...filter,\n          ...filters\n        };\n        onGetListProduct(params);\n      }\n    }\n    catch(err){\n    }\n  }\n\n  redirectCategory = (category) =>{\n    const {history} = this.props;\n    history.push(`/products/${category.pathseo}.${category._id}`)\n  }\n\n  // Sort with brands\n  onSetBrand = (value) => {\n    this.handleUpdateFilter({ brand: value, page: 0 });\n  }\n\n  // Sort price\n  handleChangeSortPrice = (event) =>{\n    this.handleUpdateFilter({ sort_p: event.target.value, page : 0 });\n  }\n\n  // phân trang\n  handlePageChange(pageNumber) {\n    this.handleUpdateFilter({ page: pageNumber-1 });\n  }\n\n  // Chuyển router (thêm vào params) \n  handleUpdateFilter = (data) => {\n    const {location, history} = this.props;\n    const {pathname, search} = location;\n    let queryParams = getFilterParams(search);\n    queryParams = {\n      ...queryParams,\n      ...data,\n    };\n    history.push(`${pathname}?${qs.stringify(queryParams)}`);\n  };\n\n  destroyFilter = () => {\n    const {location, history} = this.props;\n    const {pathname} = location;\n    history.push(pathname)\n  }\n\n  componentWillUnmount(){\n    const {onClearStateBrand} = this.props;\n    onClearStateBrand();\n  }\n\n  render() {\n    const { more } = this.state;\n    const { t, listAccessory, totalBrand, listProducts, total, location } = this.props;\n    const filter = getFilterParams(location.search);\n    return (\n      <div className=\"container my-3\">\n        <div className=\"row\">\n          <div className=\"col-12 my-2\">\n            <a className=\"text-decoration-none directory rounded p-2\" href=\"/#/\">{t('header.home.menu')}</a>\n            <i className=\"fa fa-chevron-right px-2 w-25-px\"></i>\n          </div>\n          <div className=\"col-12\">\n            <h1 className=\"font-weight-bold\">{t('accessory.page.title')}</h1>\n          </div>\n          <div className=\"col-12 my-2\">\n            <div className=\"rounded shadow-sm my-2\">\n              <div className=\"px-3 py-2\">\n                <h3 className=\"mb-1\">{t('accessory.category.title')}</h3>\n                <div className=\"mb-2 border-bottom\"></div>\n                <div className=\"row\">\n                  {listAccessory && listAccessory.map(item => {\n                    return (\n                    <div className=\"col-3 col-md-2 col-xl-1\">\n                      <div className=\"square\">\n                        <button className=\"rounded content bg-light\" onClick={() => this.redirectCategory(item)}>\n                        <img src={item.image.public_url} alt=\"\"></img>\n                        </button>\n                      </div>\n                      <p className=\"text-center font-weight-bold x-small\">{item.name}</p>\n                    </div>\n                    )\n                  })}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <button type=\"button\" \n            className={(filter.brand === null || filter.brand === undefined) ? \"rounded-pill shadow-sm bg-aqua text-dark my-2 mr-2 position-relative btn-padding\" : \"rounded-pill shadow-sm bg-light text-dark my-2 mr-2 position-relative btn-padding\"} \n            onClick={()=>this.onSetBrand(null)}>{t('common.all')}</button>\n            {totalBrand && \n            totalBrand.map((brand, index) =>{\n            return(\n              <button type=\"button\" \n              className={filter.brand === brand._id._id ? \"rounded-pill shadow-sm bg-aqua text-dark mr-2 my-2 position-relative btn-padding\" : \"rounded-pill shadow-sm bg-light text-dark mr-2 my-2 position-relative btn-padding\"} \n              key={index} onClick={()=>this.onSetBrand(brand._id._id)}>\n                <img alt={brand._id.name} style={{height: \"20px\"}} src={brand._id.image && brand._id.image.public_url}/>\n                <span className=\"product-count\">{brand.count}</span>\n              </button>\n            )})}\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-6\">\n            <p>{t('shop.search.first')} {total} {t('shop.search.last')}</p>\n          </div>\n          <div className=\"col-6\">\n            <select value={filter.sort_p} className=\"form-select float-end w-fit-content\" onChange={this.handleChangeSortPrice}>\n              <option key={-1} value=\"0\">{t('shop.sort.price')}</option>\n              <option value=\"1\">{t('shop.sort.inc')}</option>\n              <option value=\"-1\">{t('shop.sort.des')}</option>\n            </select>\n            {location.search.length > 0 && <button type=\"button\" className=\"btn btn-light float-end shadow-sm mr-2\" onClick={()=> this.destroyFilter()}>\n              <i className=\"fa fa-eraser mr-1\"></i>\n              {t('common.clear-filter.button')}\n            </button>}\n          </div>\n        </div>\n        <div className=\"row\">\n          {listProducts ? listProducts.map((product, index) => {\n            return (\n                <ProductItem product={product} key={index}/>\n              )\n          }) : <Loader/>}\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <div className=\"product-pagination text-center\">\n              <nav className=\"float-end\">\n              <Pagination\n                activePage={filter.page ? parseInt(filter.page)+1 : 1}\n                itemsCountPerPage={12}\n                totalItemsCount={total ? total : 10}\n                pageRangeDisplayed={3}\n                linkClass=\"page-link\"\n                itemClass=\"page-item\"\n                prevPageText={t('shop.pagination.prev')}\n                nextPageText={t('shop.pagination.next')}\n                hideFirstLastPages={true}\n                onChange={this.handlePageChange.bind(this)}\n              />\n              </nav>\n            </div>\n          </div>\n        </div>\n        <div className={ more ? \"row\" : \"row description\"}>\n          <div className=\"col-12\">\n          {accessoryData.accessoryAd.map(item => {\n            return (\n              <>\n                <h3>{item.title}</h3>\n                {item.content.map(line => {\n                  return (\n                    <p>{line}</p>\n                  )\n                })}\n                {item.image && \n                <div className=\"text-center\">\n                  <img src={item.image} alt=\"\"></img>\n                </div> }\n              </>\n            )\n          })}\n          </div>\n          {!more && <div className=\"view-more\" onClick={() => this.setState({ more: true })}>\n            <p>{t('common.readmore.button')}<span><i className=\"fa fa-angle-down ml-2\"></i></span></p>\n          </div>}\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <div className=\"fb-comments\" data-href={`${LOCAL}/#/products/accessories`} data-width=\"100%\" data-numposts=\"5\"></div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) =>{\n  return {\n    listAccessory: state.categories.accessories,\n    totalBrand: state.brands.list,\n    listProducts: state.products.list,\n    total: state.products.total,\n  }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    onClearStateBrand: () =>{\n      dispatch(BrandActions.onClearState())\n    },\n    onGetListProduct: (params) => {\n      dispatch(ProductsActions.onGetAccessory(params))\n    },\n    onGetAccessory: (payload) => {\n      dispatch(CategoryActions.onGetAccessory(payload))\n    },\n    onGetListBrand: (params) => {\n      dispatch(BrandActions.onGetAccessory(params))\n    },\n  }\n}\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(\n  withConnect,\n  withTranslation()\n)(AccessoryPage);"]},"metadata":{},"sourceType":"module"}