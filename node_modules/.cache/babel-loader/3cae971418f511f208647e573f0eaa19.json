{"ast":null,"code":"import _classCallCheck from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{compose}from'redux';import{withTranslation}from'react-i18next';import{INITIAL_IMAGE}from'../../constants';import'./styles.css';//@Components\nimport UserDetail from'../../containers/UserDetail';import ChangePassword from'../../containers/ChangePassword';//@Actions\nimport AddressActions from\"../../redux/actions/address\";var UserInfoPage=/*#__PURE__*/function(_Component){_inherits(UserInfoPage,_Component);var _super=_createSuper(UserInfoPage);function UserInfoPage(props){var _this;_classCallCheck(this,UserInfoPage);_this=_super.call(this,props);_this.handleFileInputChange=function(e){var file=e.target.files[0];_this.previewFile(file);_this.setState({selectedFile:file});};_this.previewFile=function(file){var reader=new FileReader();reader.readAsDataURL(file);reader.onloadend=function(){_this.setState({previewSource:reader.result});};};_this.state={previewSource:'',selectedFile:''};return _this;}_createClass(UserInfoPage,[{key:\"componentDidMount\",value:function componentDidMount(){var onGetListCity=this.props.onGetListCity;onGetListCity();document.title=\"[ApumStore] Trang bán hàng\";}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var onClearState=this.props.onClearState;onClearState();}},{key:\"render\",value:function render(){var _this$props=this.props,authInfo=_this$props.authInfo,t=_this$props.t,listCity=_this$props.listCity;var _this$state=this.state,previewSource=_this$state.previewSource,selectedFile=_this$state.selectedFile;return/*#__PURE__*/React.createElement(\"div\",{className:\"bg-user-info py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container emp-profile\"},authInfo&&listCity&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 text-center\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmitFile,className:\"form\"},authInfo.image?/*#__PURE__*/React.createElement(\"div\",{className:\"profile-img\"},previewSource?/*#__PURE__*/React.createElement(\"img\",{src:previewSource,alt:\"\"}):/*#__PURE__*/React.createElement(\"img\",{src:authInfo.image.publicUrl,alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"file btn btn-lg btn-primary\"},t('user.file.input'),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",name:\"image\",id:\"fileInput\",onChange:this.handleFileInputChange}))):/*#__PURE__*/React.createElement(\"div\",{className:\"profile-img\"},previewSource?/*#__PURE__*/React.createElement(\"img\",{src:previewSource,alt:\"\"}):/*#__PURE__*/React.createElement(\"img\",{src:INITIAL_IMAGE,alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"file btn btn-lg btn-primary\"},t('user.file.input'),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",name:\"image\",id:\"fileInput\",onChange:this.handleFileInputChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center\"})),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn mx-5 my-2 shadow-sm\",style:{width:\"-webkit-fill-available\",backgroundColor:\"#E9F3FF\"},\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#passwdModal\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-unlock-alt rounded-circle bg-primary p-2 text-white h-36-px w-auto\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-9 align-self-center h-100 text-left\",style:{fontWeight:500}},t('user.change-password.button'))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 my-2\"},/*#__PURE__*/React.createElement(\"a\",{className:\"text-decoration-none directory rounded p-2\",href:\"/#/\"},t('header.home.menu')),/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-chevron-right px-2 w-25-px\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"font-weight-bold\"},t('user.page.title')))),/*#__PURE__*/React.createElement(UserDetail,{userInfo:authInfo,listCity:listCity,selectedFile:selectedFile}))),/*#__PURE__*/React.createElement(ChangePassword,{userInfo:authInfo}))));}}]);return UserInfoPage;}(Component);var mapStateToProps=function mapStateToProps(state){return{authInfo:state.auth.detail,listCity:state.address.city};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onGetListCity:function onGetListCity(){dispatch(AddressActions.onGetCity());},onClearState:function onClearState(){dispatch(AddressActions.onClearState());}};};var withConnect=connect(mapStateToProps,mapDispatchToProps);export default compose(withConnect,withTranslation())(UserInfoPage);","map":{"version":3,"sources":["/Users/vyduong/Desktop/client/Home-ApumStore/src/components/UserInfoPage/index.js"],"names":["React","Component","connect","compose","withTranslation","INITIAL_IMAGE","UserDetail","ChangePassword","AddressActions","UserInfoPage","props","handleFileInputChange","e","file","target","files","previewFile","setState","selectedFile","reader","FileReader","readAsDataURL","onloadend","previewSource","result","state","onGetListCity","document","title","onClearState","authInfo","t","listCity","handleSubmitFile","image","publicUrl","width","backgroundColor","fontWeight","mapStateToProps","auth","detail","address","city","mapDispatchToProps","dispatch","onGetCity","withConnect"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {connect} from 'react-redux';\nimport {compose} from 'redux';\nimport { withTranslation } from 'react-i18next'\nimport {INITIAL_IMAGE} from '../../constants';\nimport './styles.css'\n//@Components\nimport UserDetail from '../../containers/UserDetail';\nimport ChangePassword from '../../containers/ChangePassword';\n//@Actions\nimport AddressActions from \"../../redux/actions/address\";\n\nclass UserInfoPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      previewSource: '',\n      selectedFile: '',\n    }\n  }\n\n  componentDidMount(){\n    const {onGetListCity} = this.props;\n    onGetListCity();\n    document.title = \"[ApumStore] Trang bán hàng\";\n  }\n\n  componentWillUnmount(){\n    const {onClearState} = this.props;\n    onClearState();\n  }\n\n  handleFileInputChange = (e) => {\n    const file = e.target.files[0];\n    this.previewFile(file);\n    this.setState({ \n      selectedFile: file,\n    })\n  }\n  // Hàm xử lý file - set hiển thị ảnh mới thêm vào state previewSource\n  previewFile = (file) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onloadend = () => {\n      this.setState({ \n        previewSource: reader.result\n      })\n    };\n  };\n\n  render() {\n    const {authInfo, t, listCity} = this.props;\n    const {previewSource, selectedFile} = this.state;\n    return (\n      <div className=\"bg-user-info py-4\">\n        <div className=\"container emp-profile\">\n          {authInfo && listCity && <>\n            <div className=\"row\">\n              <div className=\"col-md-4 text-center\">\n                <form onSubmit={this.handleSubmitFile} className=\"form\">\n                  {authInfo.image ? <div className=\"profile-img\">\n                    {\n                      previewSource ? (\n                        <img src={previewSource} alt=\"\"/>\n                      ) : <img src={authInfo.image.publicUrl} alt=\"\" />\n                    }\n                      <div className=\"file btn btn-lg btn-primary\">\n                      {t('user.file.input')}\n                        <input type=\"file\" name=\"image\" id=\"fileInput\"\n                        onChange={this.handleFileInputChange} />\n                      </div>\n                    </div>\n                    : <div className=\"profile-img\">\n                    {\n                      previewSource ? (\n                        <img src={previewSource} alt=\"\"/>\n                      ) : <img src={INITIAL_IMAGE} alt=\"\" />\n                    }\n                      <div className=\"file btn btn-lg btn-primary\">\n                      {t('user.file.input')}\n                        <input type=\"file\" name=\"image\" id=\"fileInput\"\n                        onChange={this.handleFileInputChange} />\n                      </div>\n                    </div>\n                  }\n                  <div className=\"row justify-content-center\">\n                  </div>\n                </form>\n                <button type=\"button\" className=\"btn mx-5 my-2 shadow-sm\" style={{width: \"-webkit-fill-available\", backgroundColor: \"#E9F3FF\"}} data-bs-toggle=\"modal\" data-bs-target=\"#passwdModal\">\n                  <div className=\"row\">\n                    <div className=\"col-3\">\n                      <i className=\"fa fa-unlock-alt rounded-circle bg-primary p-2 text-white h-36-px w-auto\"></i>\n                    </div>\n                    <div className=\"col-9 align-self-center h-100 text-left\" style={{fontWeight: 500}}>\n                      {t('user.change-password.button')}\n                    </div>\n                  </div>\n                </button>\n             \n              </div>\n              <div className=\"col-md-8\">\n                <div className=\"row\">\n                  <div className=\"col-12 my-2\">\n                    <a className=\"text-decoration-none directory rounded p-2\" href=\"/#/\">{t('header.home.menu')}</a>\n                    <i className=\"fa fa-chevron-right px-2 w-25-px\"></i>\n                  </div>\n                  <div className=\"col-12\">\n                    <h1 className=\"font-weight-bold\">{t('user.page.title')}</h1>\n                  </div>\n                </div>\n                <UserDetail userInfo={authInfo} listCity={listCity} selectedFile={selectedFile}/>\n              </div>\n            </div>\n            <ChangePassword userInfo={authInfo}/>\n          </>}\n        </div>\n        \n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) =>{\n  return {\n    authInfo: state.auth.detail,\n    listCity: state.address.city,\n  }\n}\n\nconst mapDispatchToProps =(dispatch)=> {\n\treturn {\n    onGetListCity: () => {\n      dispatch(AddressActions.onGetCity())\n    },\n    onClearState: () =>{\n      dispatch(AddressActions.onClearState())\n    }\n\t}\n};\n\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(\n  withConnect,\n  withTranslation()\n)(UserInfoPage);"]},"metadata":{},"sourceType":"module"}