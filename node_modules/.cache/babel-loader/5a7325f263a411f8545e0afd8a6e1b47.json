{"ast":null,"code":"import _defineProperty from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./loginStyles.css';import{assets}from'../../constants/assetsImage';import{connect}from\"react-redux\";import{compose}from\"redux\";import{withTranslation}from\"react-i18next\";// @Actions\nimport AuthorizationActions from'../../redux/actions/auth';// @Components\nimport ForgotPassword from'./ForgotPass';import{toastError}from'../../utils/toastHelper';// @Constance\nimport brandpng from'../../img/identification-documents.png';import bgsvg from'../../img/brand.png';var LoginPage=/*#__PURE__*/function(_Component){_inherits(LoginPage,_Component);var _super=_createSuper(LoginPage);function LoginPage(props){var _this;_classCallCheck(this,LoginPage);_this=_super.call(this,props);_this.onLogin=function(){var _this$state=_this.state,phonenumber=_this$state.phonenumber,password=_this$state.password;var _this$props=_this.props,onLogin=_this$props.onLogin,t=_this$props.t;var data={phonenumber:phonenumber,password:password};if(phonenumber&&password){onLogin(data);}else{toastError(\"\".concat(t('login.toastify.error')));}};_this.onSubmit=function(event){event.preventDefault();};_this.onChange=function(event){var target=event.target;var name=target.name;var value=target.value;_this.setState(_defineProperty({},name,value));};_this.state={phonenumber:'',password:''};return _this;}_createClass(LoginPage,[{key:\"componentDidMount\",value:function componentDidMount(){document.title=\"[ApumStore] Đăng nhập\";this.improveScreen();}},{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(props){var loggedIn=props.loggedIn,history=props.history;if(loggedIn&&loggedIn===true){history.push('/');}}},{key:\"improveScreen\",value:function improveScreen(){var inputs=document.querySelectorAll(\".input\");function addcl(){var parent=this.parentNode.parentNode;parent.classList.add(\"focus\");}function remcl(){var parent=this.parentNode.parentNode;if(this.value===\"\"){parent.classList.remove(\"focus\");}}inputs.forEach(function(input){input.addEventListener(\"focus\",addcl);input.addEventListener(\"blur\",remcl);});}},{key:\"render\",value:function render(){var _this2=this;var t=this.props.t;var _this$state2=this.state,phonenumber=_this$state2.phonenumber,password=_this$state2.password;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{className:\"wave\",src:assets(\"wave.png\"),alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"container_login\"},/*#__PURE__*/React.createElement(\"div\",{className:\"img\"},/*#__PURE__*/React.createElement(\"img\",{src:bgsvg,alt:\"\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"login-content\"},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"h2\",{className:\"title\"},\"Trang \\u0111\\u0103ng nh\\u1EADp kh\\xE1ch h\\xE0ng\"),/*#__PURE__*/React.createElement(\"img\",{className:\"pb-4\",src:brandpng,alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"input-div one\"},/*#__PURE__*/React.createElement(\"div\",{className:\"i\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-user\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"div\"},/*#__PURE__*/React.createElement(\"h5\",null,\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"),/*#__PURE__*/React.createElement(\"input\",{type:\"phonenumber\",className:\"input\",name:\"phonenumber\",value:phonenumber,onChange:this.onChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"input-div pass\"},/*#__PURE__*/React.createElement(\"div\",{className:\"i\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-lock\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"div\"},/*#__PURE__*/React.createElement(\"h5\",null,\"M\\u1EADt kh\\u1EA9u\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"input\",name:\"password\",value:password,onChange:this.onChange}))),/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return _this2.onForgotPass;},className:\"text-right\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#forgotPassword\"},\"Qu\\xEAn m\\u1EADt kh\\u1EA9u?\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn\",value:\"\\u0110\\u0103ng nh\\u1EADp\",onClick:function onClick(){return _this2.onLogin();}},t('header.login.button'))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"form\",{action:\"/user/dang-ky\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn\",value:\"\\u0110\\u0103ng k\\xFD\"},t('header.signup.button')))))),/*#__PURE__*/React.createElement(ForgotPassword,null))));}}]);return LoginPage;}(Component);var mapStateToProps=function mapStateToProps(state){return{loggedIn:state.auth.loggedIn};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onLogin:function onLogin(data){dispatch(AuthorizationActions.onLogin(data));}};};var withConnect=connect(mapStateToProps,mapDispatchToProps);export default compose(withConnect,withTranslation())(LoginPage);","map":{"version":3,"sources":["/Users/vyduong/Desktop/client/Home-ApumStore/src/components/LoginPage/index.js"],"names":["React","Component","assets","connect","compose","withTranslation","AuthorizationActions","ForgotPassword","toastError","brandpng","bgsvg","LoginPage","props","onLogin","state","phonenumber","password","t","data","onSubmit","event","preventDefault","onChange","target","name","value","setState","document","title","improveScreen","loggedIn","history","push","inputs","querySelectorAll","addcl","parent","parentNode","classList","add","remcl","remove","forEach","input","addEventListener","onForgotPass","mapStateToProps","auth","mapDispatchToProps","dispatch","withConnect"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport './loginStyles.css'\nimport { assets } from '../../constants/assetsImage';\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { withTranslation } from \"react-i18next\";\n// @Actions\nimport AuthorizationActions from '../../redux/actions/auth'\n// @Components\nimport ForgotPassword from './ForgotPass';\nimport { toastError } from '../../utils/toastHelper';\n// @Constance\nimport brandpng from '../../img/identification-documents.png'\nimport bgsvg from '../../img/brand.png'\nclass LoginPage extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tphonenumber: '',\n\t\t\tpassword: '',\n\t\t}\n\t}\n\n\tonLogin = () =>{\n\t\tconst { phonenumber, password } = this.state;\n\t\tconst { onLogin, t } = this.props;\n\t\tconst data = {\n\t\t\tphonenumber, \n\t\t\tpassword\n\t\t};\n\t\tif(phonenumber && password){\n\t\t\tonLogin(data);\n\t\t}\n\t\telse{\n\t\t\ttoastError(`${t('login.toastify.error')}`)\n\t\t}\n\t}\n\tonSubmit = (event) =>{\n    event.preventDefault();\n  }\n\n\tonChange = (event) =>{\n    var target=event.target;\n    var name=target.name;\n    var value=target.value;\n    this.setState({\n      [name]:  value\n    })\n\t}\n\n\tcomponentDidMount(){ \n\t\tdocument.title = \"[ApumStore] Đăng nhập\"\n\t\tthis.improveScreen()\n\t}\n\n\tUNSAFE_componentWillReceiveProps(props){\n\t\tconst { loggedIn, history } = props;\n\t\tif(loggedIn && loggedIn===true){\n\t\t\thistory.push('/');\n\t\t}\n\t}\n\n\timproveScreen() {\n\t\tconst inputs = document.querySelectorAll(\".input\");\n\t\tfunction addcl(){\n\t\t\tlet parent = this.parentNode.parentNode;\n\t\t\tparent.classList.add(\"focus\");\n\t\t}\n\n\t\tfunction remcl(){\n\t\t\tlet parent = this.parentNode.parentNode;\n\t\t\tif(this.value === \"\"){\n\t\t\t\tparent.classList.remove(\"focus\");\n\t\t\t}\n\t\t}\n\t\tinputs.forEach(input => {\n\t\t\tinput.addEventListener(\"focus\", addcl);\n\t\t\tinput.addEventListener(\"blur\", remcl);\n\t\t});\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tconst { phonenumber, password } = this.state;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<img className=\"wave\" src={ assets(\"wave.png\")} alt=\"\" />\n\t\t\t\t<div className=\"container_login\">\n\t\t\t\t<div className=\"img\">\n\t\t\t\t\t\t<img src={ bgsvg} alt=\"\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"login-content\">\n\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t<h2 className=\"title\">Trang đăng nhập khách hàng</h2>\n\t\t\t\t\t\t\t<img className=\"pb-4\" src={brandpng} alt=\"\"></img>\n\t\t\t\t\t\t\t<div className=\"input-div one\">\n\t\t\t\t\t\t\t\t<div className=\"i\">\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-user\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"div\">\n\t\t\t\t\t\t\t\t\t<h5>Số điện thoại</h5>\n\t\t\t\t\t\t\t\t\t<input type=\"phonenumber\" className=\"input\" name=\"phonenumber\" value={phonenumber} onChange={this.onChange}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"input-div pass\">\n\t\t\t\t\t\t\t\t<div className=\"i\">\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-lock\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"div\">\n\t\t\t\t\t\t\t\t\t<h5>Mật khẩu</h5>\n\t\t\t\t\t\t\t\t\t<input type=\"password\" className=\"input\" name=\"password\" value={password} onChange={this.onChange}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div onClick={()=> this.onForgotPass} className=\"text-right\" data-bs-toggle=\"modal\" data-bs-target=\"#forgotPassword\">Quên mật khẩu?</div>\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn\" value=\"Đăng nhập\" onClick={()=> this.onLogin()}>{t('header.login.button')}</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t\t\t<form action=\"/user/dang-ky\">\n\t\t\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn\" value=\"Đăng ký\">{t('header.signup.button')}</button>\n\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<ForgotPassword/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n  return {\n\t\tloggedIn: state.auth.loggedIn\n  };\n};\n\nconst mapDispatchToProps =(dispatch)=> {\n\treturn {\n\t\tonLogin : (data) =>{\n\t\t\tdispatch(AuthorizationActions.onLogin(data))\n\t\t}\n\t}\n};\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\nexport default compose(withConnect, withTranslation())(LoginPage);\n"]},"metadata":{},"sourceType":"module"}