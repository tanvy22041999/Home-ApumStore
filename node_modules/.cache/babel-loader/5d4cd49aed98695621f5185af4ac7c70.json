{"ast":null,"code":"import _defineProperty from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import OrdersActions from'../../redux/actions/order';import{connect}from'react-redux';import{compose}from'redux';import{withTranslation}from'react-i18next';// Components\nimport ReviewDetail from'../ReviewDetail';// Actions\nimport ReviewActions from'../../redux/actions/review';// @Functions\nimport numberWithCommas from'../../utils/formatPrice';import{INITIAL_IMAGE}from'../../constants';import tryConvert from'../../utils/changeMoney';var OrderDetail=/*#__PURE__*/function(_Component){_inherits(OrderDetail,_Component);var _super=_createSuper(OrderDetail);function OrderDetail(props){var _this;_classCallCheck(this,OrderDetail);_this=_super.call(this,props);_this.confirmOrder=function(id){var onSendConfirmEmail=_this.props.onSendConfirmEmail;onSendConfirmEmail(id);};_this.onRenderDetail=function(id){var history=_this.props.history;history.push(\"/product/undefined.\".concat(id));window.location.reload();};_this.onCloseModal=function(name,value){_this.setState(_defineProperty({},name,value));};_this.onReview=function(product){var _this$props=_this.props,onGetReview=_this$props.onGetReview,authInfo=_this$props.authInfo;_this.setState({product:product});var params={user:authInfo.id,product:product.product,color:product.color.id};onGetReview(params);_this.onCloseModal(\"modal\",true);};_this.onClose=function(){var onClearDetail=_this.props.onClearDetail;onClearDetail();};_this.state={modal:false,product:null};return _this;}_createClass(OrderDetail,[{key:\"render\",value:function render(){var _this2=this;var _this$props2=this.props,orderItem=_this$props2.orderItem,t=_this$props2.t,review=_this$props2.review,currency=_this$props2.currency;var _this$state=this.state,modal=_this$state.modal,product=_this$state.product;return/*#__PURE__*/React.createElement(\"div\",{show:\"true\",className:\"modal fade\",id:\"orderModal\",role:\"dialog\",\"data-bs-keyboard\":\"false\",\"data-bs-backdrop\":\"static\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-dialog modal-lg\"},orderItem?/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center w-100\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"modal-title m-0\"},t('order.info-bill.card'),\" \",orderItem.id)),/*#__PURE__*/React.createElement(\"div\",{className:\"form-check form-switch\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn-close rounded-circle bg-light p-2\",onClick:function onClick(){return _this2.onClose();},\"data-bs-dismiss\":\"modal\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 form-inline\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bill-icon\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control border-0\",id:\"createdAt\",name:\"createdAt\",defaultValue:orderItem.createTimeStamp.slice(0,10)}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"createdAt\"},t('order.date.input')))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 form-inline\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bill-icon\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-money-bill-wave text-xl\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control border-0\",id:\"total_price\",name:\"total_price\",defaultValue:currency===\"VND\"?numberWithCommas(orderItem.totalPrice):numberWithCommas(parseFloat(tryConvert(orderItem.totalPrice,currency,false)).toFixed(2))}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"total_price\"},t('order.total.input'),\" (\",currency,\")\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 form-inline\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bill-icon\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-gifts text-xl\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control border-0 \",id:\"status\",name:\"status\",defaultValue:orderItem.status===1?\"\".concat(t('order.status.true')):\"\".concat(t('order.status.false'))}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"status\"},t('order.status.label')))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 form-inline\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bill-icon\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-money-check-alt text-xl\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control border-0\",id:\"payment_method\",name:\"payment_method\",defaultValue:orderItem.paymentMethod===\"paypal\"?'Paypal':\"\".concat(t('checkout.cod.button'))}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"payment_method\"},t('order.payment.way')))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 form-inline\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bill-icon\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-file-invoice-dollar text-xl\"})),orderItem.payment_method===\"local\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control border-0\",name:\"confirmed\",id:\"confirmed\",defaultValue:orderItem.confirmed===true?\"\".concat(t('order.confirm.true')):\"\".concat(t('order.confirm.false'))}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"confirmed\"},t('order.confirm.label')),/*#__PURE__*/React.createElement(\"span\",{className:orderItem.confirmed===true&&\"d-none\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success\",onClick:function onClick(){_this2.confirmOrder(orderItem.id);}},t('order.confirm.button'))))):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control border-0\",id:\"paid\",name:\"paid\",defaultValue:orderItem.paid===true?\"\".concat(t('order.payment.true')):\"\".concat(t('order.payment.false'))}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"paid\"},t('order.payment.label')))))),/*#__PURE__*/React.createElement(\"div\",{className:\"rounded shadow-sm\"},orderItem.orderList.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"card my-1\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"row no-gutters text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-3 h-120\",onClick:function onClick(){return _this2.onRenderDetail(item.product);}},/*#__PURE__*/React.createElement(\"img\",{className:\"h-100\",src:item.image?item.image.publicUrl:INITIAL_IMAGE,alt:item.name})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-3 align-self-center text-left\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-dark m-0 font-weight-bold\"},item.name),/*#__PURE__*/React.createElement(\"p\",{className:\"text-dark m-0\"},t('common.color'),\" \",item.color&&item.color.nameColor)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-3 align-self-center\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-0\"},numberWithCommas(item.price),\" VND x \",item.quantity)),orderItem.status===1&&/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-3 align-self-center\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-info\",onClick:function onClick(){return _this2.onReview(item);}},t('detail.review.tab')))));})),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 form-inline\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bill-icon\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-mobile-alt text-xl\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating\",style:{width:\"90%\"}},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control border-0\",id:\"shipping_phonenumber\",name:\"shipping_phonenumber\",defaultValue:orderItem.shippingPhonenumber}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"shipping_phonenumber\"},t('order.phone.order')))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 form-inline\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bill-icon\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-envelope text-xl\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating\"},/*#__PURE__*/React.createElement(\"input\",{type:\"email\",className:\"form-control border-0\",name:\"email\",id:\"email\",defaultValue:orderItem.email}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},t('order.email.order'),\":\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 form-inline\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bill-icon\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-home text-xl\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating\",style:{width:\"90%\"}},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control border-0 w-100\",name:\"shipping_address\",id:\"shipping_address\",defaultValue:orderItem.shippingAddress}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"shipping_address\"},t('order.address.order'),\":\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-footer\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:function onClick(){return _this2.onClose();},\"data-bs-dismiss\":\"modal\"},t('user.close.button')))):/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-header\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"modal-title\"},\"404 Not founded\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"close\",\"data-bs-dismiss\":\"modal\",onClick:function onClick(){return _this2.onClose();}},\"\\xD7\")),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center my-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"h-120\"},/*#__PURE__*/React.createElement(\"img\",{className:\"h-100\",src:\"https://deo.shopeemobile.com/shopee/shopee-mall-live/images/ic_no_expired.png?_version=2\",alt:\"404 not found\"})),/*#__PURE__*/React.createElement(\"h4\",null,t('order.toastify.not-founded')))))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-footer\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:function onClick(){return _this2.onClose();},\"data-bs-dismiss\":\"modal\"},t('user.close.button'))))),modal&&product&&/*#__PURE__*/React.createElement(ReviewDetail,{modal:modal,onCloseModal:this.onCloseModal,product:product}),modal&&product&&review&&/*#__PURE__*/React.createElement(ReviewDetail,{modal:modal,onCloseModal:this.onCloseModal,product:product,review:review}));}}]);return OrderDetail;}(Component);var mapStateToProps=function mapStateToProps(state){return{authInfo:state.auth.detail,review:state.review.detail,currency:state.currency};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onSendConfirmEmail:function onSendConfirmEmail(id){dispatch(OrdersActions.onSendConfirmEmail(id));},onGetReview:function onGetReview(params){dispatch(ReviewActions.onGetDetail(params));},onClearDetail:function onClearDetail(){dispatch(OrdersActions.onClearDetail());}};};var withConnect=connect(mapStateToProps,mapDispatchToProps);export default compose(withConnect,withTranslation())(OrderDetail);","map":{"version":3,"sources":["/Users/vyduong/Desktop/client/Home-ApumStore/src/containers/OrderDetail/index.js"],"names":["React","Component","OrdersActions","connect","compose","withTranslation","ReviewDetail","ReviewActions","numberWithCommas","INITIAL_IMAGE","tryConvert","OrderDetail","props","confirmOrder","id","onSendConfirmEmail","onRenderDetail","history","push","window","location","reload","onCloseModal","name","value","setState","onReview","product","onGetReview","authInfo","params","user","color","onClose","onClearDetail","state","modal","orderItem","t","review","currency","createTimeStamp","slice","totalPrice","parseFloat","toFixed","status","paymentMethod","payment_method","confirmed","paid","orderList","map","item","index","image","publicUrl","nameColor","price","quantity","width","shippingPhonenumber","email","shippingAddress","mapStateToProps","auth","detail","mapDispatchToProps","dispatch","onGetDetail","withConnect"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport OrdersActions from '../../redux/actions/order'\nimport {connect} from 'react-redux';\nimport {compose} from 'redux';\nimport { withTranslation } from 'react-i18next'\n// Components\nimport ReviewDetail from '../ReviewDetail'\n// Actions\nimport ReviewActions from '../../redux/actions/review'\n// @Functions\nimport numberWithCommas from '../../utils/formatPrice'\nimport {INITIAL_IMAGE} from '../../constants';\nimport tryConvert from '../../utils/changeMoney'\n\nclass OrderDetail extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      modal: false,\n      product: null,\n    }\n  }\n\n  confirmOrder = (id) => {\n    const {onSendConfirmEmail} = this.props;\n    onSendConfirmEmail(id);\n  }\n\n  onRenderDetail = (id) =>{\n    const {history} = this.props;\n    history.push(`/product/undefined.${id}`);\n    window.location.reload();\n  }\n\n  onCloseModal = (name, value) =>{\n    this.setState({\n      [name] : value\n    })\n  }\n\n  onReview = (product) =>{\n    const {onGetReview, authInfo} = this.props;\n    this.setState({product});\n    var params = {\n      user: authInfo.id,\n      product: product.product,\n      color: product.color.id\n    }\n    onGetReview(params);\n    this.onCloseModal(\"modal\", true)\n  }\n\n  onClose = () => {\n    const { onClearDetail } = this.props;\n    onClearDetail();\n  }\n\n  render() {\n    const { orderItem, t, review, currency } = this.props;\n    const { modal, product } = this.state;\n    return (\n      <div show=\"true\" className=\"modal fade\" id=\"orderModal\" role=\"dialog\" data-bs-keyboard=\"false\" data-bs-backdrop=\"static\">\n        <div className=\"modal-dialog modal-lg\">\n          {orderItem ? <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <div className=\"text-center w-100\">\n                <h3 className=\"modal-title m-0\">{t('order.info-bill.card')} {orderItem.id}</h3>\n              </div>\n              <div className=\"form-check form-switch\">\n                <button type=\"button\" className=\"btn-close rounded-circle bg-light p-2\" onClick={() => this.onClose()} data-bs-dismiss=\"modal\"></button>\n              </div>\n            </div>\n            <div className=\"modal-body\">\n              <div className=\"row\">\n                <div className=\"col-6 form-inline\">\n                  <div className=\"bill-icon\">\n                    {/* <i className=\"fa fa-calendar-alt text-xl \"></i> */}\n                  </div>\n                  <div className=\"form-floating\">\n                    <input type=\"text\" className=\"form-control border-0\" id=\"createdAt\" name=\"createdAt\" defaultValue={orderItem.createTimeStamp.slice(0,10)} />\n                    <label htmlFor=\"createdAt\">{t('order.date.input')}</label>\n                  </div>\n                </div>\n                <div className=\"col-6 form-inline\">\n                  <div className=\"bill-icon\">\n                    <i className=\"fa fa-money-bill-wave text-xl\"></i>\n                  </div>\n                  <div className=\"form-floating\">\n                    <input type=\"text\" className=\"form-control border-0\" id=\"total_price\" name=\"total_price\" \n                    defaultValue={currency===\"VND\" \n                    ? numberWithCommas(orderItem.totalPrice) \n                    : numberWithCommas(parseFloat(tryConvert(orderItem.totalPrice, currency, false)).toFixed(2))}/>\n                    <label htmlFor=\"total_price\">{t('order.total.input')} ({currency})</label>\n                  </div>\n                </div>\n                <div className=\"col-6 form-inline\">\n                  <div className=\"bill-icon\">\n                    <i className=\"fa fa-gifts text-xl\"></i>\n                  </div>\n                  <div className=\"form-floating\">\n                    <input type=\"text\" className=\"form-control border-0 \" id=\"status\" name=\"status\" \n                    defaultValue={orderItem.status===1 ? `${t('order.status.true')}` : `${t('order.status.false')}`}/>\n                    <label htmlFor=\"status\">{t('order.status.label')}</label>\n                  </div>\n                </div>\n                <div className=\"col-6 form-inline\">\n                  <div className=\"bill-icon\">\n                    <i className=\"fa fa-money-check-alt text-xl\"></i>\n                  </div>\n                  <div className=\"form-floating\">\n                    <input type=\"text\" className=\"form-control border-0\" id=\"payment_method\" name=\"payment_method\" \n                    defaultValue={orderItem.paymentMethod === \"paypal\" ? 'Paypal' : `${t('checkout.cod.button')}`}/>\n                    <label htmlFor=\"payment_method\">{t('order.payment.way')}</label>\n                  </div>\n                </div>\n                <div className=\"col-6 form-inline\">\n                  <div className=\"bill-icon\">\n                    <i className=\"fa fa-file-invoice-dollar text-xl\"></i>\n                  </div>\n                  {orderItem.payment_method===\"local\" \n                  ? <>\n                  <div className=\"form-floating\">\n                    <input type=\"text\" className=\"form-control border-0\" name=\"confirmed\" id=\"confirmed\" defaultValue={ orderItem.confirmed===true ? `${t('order.confirm.true')}` : `${t('order.confirm.false')}`}/>\n                    <label htmlFor=\"confirmed\">{t('order.confirm.label')}</label>\n                    <span className={orderItem.confirmed===true && \"d-none\"}>\n                      <button className=\"btn btn-success\" onClick={() => {this.confirmOrder(orderItem.id)}}>{t('order.confirm.button')}</button>\n                    </span>\n                  </div>\n                  </>\n                  : <>\n                  <div className=\"form-floating\">\n                    <input type=\"text\" className=\"form-control border-0\" id=\"paid\" name=\"paid\" defaultValue={ orderItem.paid===true ? `${t('order.payment.true')}` : `${t('order.payment.false')}`}/>\n                    <label htmlFor=\"paid\">{t('order.payment.label')}</label>  \n                  </div>\n                  </>}\n                </div>\n              </div>\n              <div className=\"rounded shadow-sm\">\n                {orderItem.orderList.map((item, index) =>{\n                  return (\n                  <div className=\"card my-1\" key={index}>\n                    <div className=\"row no-gutters text-center\">\n                      <div className=\"col-sm-3 h-120\" onClick={()=>this.onRenderDetail(item.product)}>\n                        <img className=\"h-100\" src={item.image ? item.image.publicUrl : INITIAL_IMAGE} alt={item.name} />\n                      </div>\n                      <div className=\"col-sm-3 align-self-center text-left\">\n                        <p className=\"text-dark m-0 font-weight-bold\">{item.name}</p>\n                        <p className=\"text-dark m-0\">{t('common.color')} {item.color && item.color.nameColor}</p>\n                      </div>\n                      <div className=\"col-sm-3 align-self-center\">\n                        <p className=\"m-0\">{numberWithCommas(item.price)} VND x {item.quantity}</p>\n                      </div>\n                      {orderItem.status===1 && <div className=\"col-sm-3 align-self-center\">\n                        <button className=\"btn btn-info\" onClick={()=> this.onReview(item)}>{t('detail.review.tab')}</button>\n                      </div>}\n                    </div>\n                  </div>\n                  )\n                })\n                }\n              </div>\n              <div className=\"row\">\n                <div className=\"col-6 form-inline\">\n                  <div className=\"bill-icon\">\n                    <i className=\"fa fa-mobile-alt text-xl\"></i>\n                  </div>\n                  <div className=\"form-floating\" style={{width: \"90%\"}}>\n                    <input type=\"number\" className=\"form-control border-0\" id=\"shipping_phonenumber\" name=\"shipping_phonenumber\" defaultValue={orderItem.shippingPhonenumber}/>\n                    <label htmlFor=\"shipping_phonenumber\">{t('order.phone.order')}</label>\n                  </div>\n                </div>\n                <div className=\"col-6 form-inline\">\n                  <div className=\"bill-icon\">\n                    <i className=\"fa fa-envelope text-xl\"></i>\n                  </div>\n                  <div className=\"form-floating\">\n                    <input type=\"email\" className=\"form-control border-0\" name=\"email\" id=\"email\" defaultValue={orderItem.email}/>\n                    <label htmlFor=\"email\">{t('order.email.order')}:</label>\n                  </div>\n                </div>\n                <div className=\"col-12 form-inline\">\n                  <div className=\"bill-icon\">\n                    <i className=\"fa fa-home text-xl\"></i>\n                  </div>\n                  <div className=\"form-floating\" style={{width: \"90%\"}}>\n                    <input type=\"text\" className=\"form-control border-0 w-100\" name=\"shipping_address\" id=\"shipping_address\" defaultValue={orderItem.shippingAddress}/>\n                    <label htmlFor=\"shipping_address\">{t('order.address.order')}:</label>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button type=\"button\" className=\"btn btn-secondary\" onClick={() => this.onClose()} data-bs-dismiss=\"modal\">{t('user.close.button')}</button>\n            </div>\n          </div> : <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">404 Not founded</h5>\n            <button type=\"button\" className=\"close\" data-bs-dismiss=\"modal\" onClick={() => this.onClose()}>&times;</button>\n          </div>\n          <div className=\"modal-body\">\n            <div className=\"row\">\n              <div className=\"col-12\">\n                <div className=\"text-center my-5\">\n                  <div className=\"h-120\">\n                    <img className=\"h-100\" src=\"https://deo.shopeemobile.com/shopee/shopee-mall-live/images/ic_no_expired.png?_version=2\" alt=\"404 not found\"></img>\n                  </div>\n                  <h4>{t('order.toastify.not-founded')}</h4>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button type=\"button\" className=\"btn btn-secondary\" onClick={() => this.onClose()} data-bs-dismiss=\"modal\">{t('user.close.button')}</button>\n          </div>\n          </div>}\n        </div>\n        {modal && product && <ReviewDetail modal={modal} onCloseModal={this.onCloseModal} product={product}/>}\n        {modal && product && review && <ReviewDetail modal={modal} onCloseModal={this.onCloseModal} product={product} review={review}/>}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) =>{\n  return {\n    authInfo: state.auth.detail,\n    review: state.review.detail,\n    currency: state.currency,\n  }\n}\n\nconst mapDispatchToProps =(dispatch)=> {\n  return {\n\t\tonSendConfirmEmail : (id) =>{\n\t\t\tdispatch(OrdersActions.onSendConfirmEmail(id))\n    },\n    onGetReview: (params) => {\n      dispatch(ReviewActions.onGetDetail(params));\n    },\n    onClearDetail: () =>{\n      dispatch(OrdersActions.onClearDetail())\n    },\n\t}\n};\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(\n  withConnect,\n  withTranslation()\n)(OrderDetail);"]},"metadata":{},"sourceType":"module"}