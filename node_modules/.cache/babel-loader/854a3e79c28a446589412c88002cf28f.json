{"ast":null,"code":"var _jsxFileName = \"/Users/vyduong/Documents/HOME_ApumStoreSua/src/components/NotificationPage/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport qs from \"query-string\"; // @Components\n\nimport Pagination from \"react-js-pagination\";\nimport OrderDetail from '../../containers/OrderDetail';\nimport InstallmentDetail from '../../containers/InstallmentDetail'; // @Functions\n\nimport getFilterParams from \"../../utils/getFilterParams\";\nimport { INITIAL_IMAGE } from '../../constants'; // @Actions\n\nimport NotificationActions from \"../../redux/actions/notification\";\nimport InstallmentActions from \"../../redux/actions/installment\";\nimport OrdersActions from \"../../redux/actions/order\";\nconst statusList = [{\n  name: \"Đơn hàng\",\n  name_en: \"Purchase\"\n}, {\n  name: \"Khuyến mãi\",\n  name_en: \"Promotion\"\n}, {\n  name: \"Trả góp\",\n  name_en: \"Installment\"\n}];\n\nclass NotificationPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleUpdateFilter = data => {\n      const {\n        location,\n        history\n      } = this.props;\n      const {\n        pathname,\n        search\n      } = location;\n      let queryParams = getFilterParams(search);\n      queryParams = data;\n      this.setState({\n        queryParams\n      });\n      history.push(`${pathname}?${qs.stringify(queryParams)}`);\n    };\n\n    this.onReadAllNoti = () => {\n      const {\n        authInfo,\n        onUpdateAll\n      } = this.props;\n      const {\n        queryParams\n      } = this.state;\n      const data = {\n        user: authInfo._id\n      };\n      onUpdateAll(data, queryParams);\n    };\n\n    this.onDeleteAllNoti = () => {\n      const {\n        authInfo,\n        onDeleteAll\n      } = this.props;\n      const {\n        queryParams\n      } = this.state;\n      const id = authInfo._id;\n      onDeleteAll(id, queryParams);\n    };\n\n    this.onReadNoti = (id, type, link) => {\n      const {\n        onUpdate,\n        history,\n        onGetDetailInstallment,\n        onGetDetailOrder\n      } = this.props;\n      const {\n        queryParams\n      } = this.state;\n      const data = {\n        active: false\n      };\n\n      switch (type) {\n        case 0:\n          this.setState({\n            type\n          });\n          onGetDetailOrder(link);\n          break;\n\n        case 1:\n          history.push(link.replace(\"https://localhost:5000/#\", \"\"));\n          break;\n\n        case 2:\n          this.setState({\n            type\n          });\n          onGetDetailInstallment(link);\n          break;\n\n        default:\n          return null;\n      }\n\n      onUpdate(id, data, queryParams);\n    };\n\n    this.handlePageChange = pageNumber => {\n      this.handleUpdateFilter({\n        page: pageNumber - 1\n      });\n    };\n\n    this.onDeleteNoti = id => {\n      const {\n        onDelete\n      } = this.props;\n      const {\n        queryParams\n      } = this.state;\n      onDelete(id, queryParams);\n    };\n\n    this.setModal = type => {\n      switch (type) {\n        case 0:\n          return \"#orderModal\";\n\n        case 1:\n          return \"\";\n\n        case 2:\n          return \"#myModal\";\n\n        default:\n          return \"\";\n      }\n    };\n\n    this.state = {\n      keyword: \"\",\n      filter: {\n        limit: 10,\n        page: 0\n      },\n      queryParams: {\n        limit: 10,\n        page: 0\n      },\n      type: 2\n    };\n  }\n\n  componentDidMount() {\n    const {\n      onGetList,\n      authInfo,\n      location\n    } = this.props;\n    const {\n      filter\n    } = this.state;\n\n    if (authInfo) {\n      const filters = getFilterParams(location.search);\n      var params = { ...filter,\n        ...filters,\n        user: authInfo && authInfo._id\n      };\n      this.setState({\n        queryParams: params\n      });\n      onGetList(params);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      location,\n      onGetList,\n      authInfo\n    } = this.props;\n    const {\n      filter\n    } = this.state;\n    const filters = getFilterParams(location.search);\n\n    if (prevProps.location !== location) {\n      var params = { ...filter,\n        ...filters,\n        user: authInfo && authInfo._id\n      };\n      this.setState({\n        queryParams: params\n      });\n      onGetList(params);\n    }\n  }\n\n  componentWillReceiveProps(props) {\n    const {\n      authInfo\n    } = this.props;\n    document.title = \"[ApumStore] Trang bán hàng\";\n\n    if (props.authInfo !== authInfo) {\n      const {\n        onGetList,\n        location\n      } = this.props;\n      const {\n        filter\n      } = this.state;\n      const filters = getFilterParams(location.search);\n      var params = { ...filter,\n        ...filters,\n        user: props.authInfo && props.authInfo._id\n      };\n      this.setState({\n        queryParams: params\n      });\n      if (props.authInfo) onGetList(params);\n    }\n  }\n\n  render() {\n    const {\n      listNotification,\n      location,\n      t,\n      installmentItem,\n      orderItem,\n      history,\n      total,\n      language\n    } = this.props;\n    const filter = getFilterParams(location.search);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bg-user-info py-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container emp-profile p-0 mt-5 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mx-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: filter.type === undefined ? \"col-2 text-center pt-1 bg-selected font-weight-bold \" : \"col-2 text-center pt-1 font-weight-bold text-secondary\",\n      onClick: () => this.handleUpdateFilter(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `${filter.type !== undefined && \"rounded directory\"} py-3`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 15\n      }\n    }, t('common.all'))), statusList.map((status, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        className: filter.type === index.toString() ? \"col-2 text-center pt-1 bg-selected font-weight-bold\" : \"col-2 text-center pt-1 font-weight-bold text-secondary\",\n        onClick: () => this.handleUpdateFilter({\n          type: index\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `${filter.type !== index.toString() && \"rounded directory\"} py-3`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 19\n        }\n      }, language === \"vn\" ? status.name : status.name_en));\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4 text-right align-self-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary mr-2\",\n      onClick: () => this.onReadAllNoti(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 15\n      }\n    }, t('notification.read-all.button')), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => this.onDeleteAllNoti(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 15\n      }\n    }, t('notification.delete-all.button'))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container emp-profile py-3 my-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }\n    }, listNotification && listNotification.length > 0 ? listNotification.map((notification, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: notification.active === true ? \"row h-120 rounded shadow-sm py-2 my-4 bg-active\" : \"row h-120 rounded shadow-sm py-2 my-4\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 text-center align-self-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"mb-0 text-secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 19\n        }\n      }, new Date(notification.createdAt).toLocaleDateString(\"vi-VN\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2 text-center h-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"h-100\",\n        src: notification.image ? notification.image.public_url : INITIAL_IMAGE,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-7 align-self-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"font-weight-bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }\n      }, notification.name), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"mb-0 text-secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }\n      }, notification.content)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2 text-right align-self-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-success mr-2\",\n        \"data-bs-toggle\": notification.type === 1 ? \"\" : \"modal\",\n        \"data-bs-target\": this.setModal(notification.type),\n        onClick: () => this.onReadNoti(notification._id, notification.type, notification.link),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-book-reader\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-info\",\n        onClick: () => this.onDeleteNoti(notification._id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-trash-alt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 21\n        }\n      }))));\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row my-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center my-5 py-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h-120\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"h-100\",\n      src: \"https://deo.shopeemobile.com/shopee/shopee-pcmall-live-sg/assets/fa4e2b534c2928596a6deded9c730a21.png\",\n      alt: \"404 not found\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 17\n      }\n    }, t('header.notification.empty')))))), /*#__PURE__*/React.createElement(InstallmentDetail, {\n      installmentItem: installmentItem,\n      history: history,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(OrderDetail, {\n      orderItem: orderItem,\n      history: history,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }\n    }, total && total > 8 && /*#__PURE__*/React.createElement(Pagination, {\n      activePage: filter.page ? parseInt(filter.page) + 1 : 1,\n      itemsCountPerPage: 8,\n      totalItemsCount: total ? total : 8,\n      pageRangeDisplayed: 3,\n      linkClass: \"page-link\",\n      itemClass: \"page-item\",\n      prevPageText: t('shop.pagination.prev'),\n      nextPageText: t('shop.pagination.next'),\n      hideFirstLastPages: true,\n      onChange: this.handlePageChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 34\n      }\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    language: state.language,\n    authInfo: state.auth.detail,\n    listNotification: state.notification.list,\n    total: state.notification.total,\n    installmentItem: state.installment.detail,\n    orderItem: state.order.detail\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onGetList: payload => {\n      dispatch(NotificationActions.onGetList(payload));\n    },\n    onGetDetailInstallment: id => {\n      dispatch(InstallmentActions.onGetDetail(id));\n    },\n    onGetDetailOrder: id => {\n      dispatch(OrdersActions.onGetDetail(id));\n    },\n    onUpdate: (id, data, params) => {\n      dispatch(NotificationActions.onUpdate(id, data, params));\n    },\n    onUpdateAll: (data, params) => {\n      dispatch(NotificationActions.onUpdateAll(data, params));\n    },\n    onDelete: (id, params) => {\n      dispatch(NotificationActions.onDelete(id, params));\n    },\n    onDeleteAll: (id, params) => {\n      dispatch(NotificationActions.onDeleteAll(id, params));\n    }\n  };\n};\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\nexport default compose(withConnect, withTranslation())(NotificationPage);","map":{"version":3,"sources":["/Users/vyduong/Documents/HOME_ApumStoreSua/src/components/NotificationPage/index.js"],"names":["React","Component","connect","compose","withTranslation","qs","Pagination","OrderDetail","InstallmentDetail","getFilterParams","INITIAL_IMAGE","NotificationActions","InstallmentActions","OrdersActions","statusList","name","name_en","NotificationPage","constructor","props","handleUpdateFilter","data","location","history","pathname","search","queryParams","setState","push","stringify","onReadAllNoti","authInfo","onUpdateAll","state","user","_id","onDeleteAllNoti","onDeleteAll","id","onReadNoti","type","link","onUpdate","onGetDetailInstallment","onGetDetailOrder","active","replace","handlePageChange","pageNumber","page","onDeleteNoti","onDelete","setModal","keyword","filter","limit","componentDidMount","onGetList","filters","params","componentDidUpdate","prevProps","componentWillReceiveProps","document","title","render","listNotification","t","installmentItem","orderItem","total","language","undefined","map","status","index","toString","length","notification","Date","createdAt","toLocaleDateString","image","public_url","content","parseInt","bind","mapStateToProps","auth","detail","list","installment","order","mapDispatchToProps","dispatch","payload","onGetDetail","withConnect"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from \"react-redux\";\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next'\nimport qs from \"query-string\";\n// @Components\nimport Pagination from \"react-js-pagination\";\nimport OrderDetail from '../../containers/OrderDetail'\nimport InstallmentDetail from '../../containers/InstallmentDetail'\n// @Functions\nimport getFilterParams from \"../../utils/getFilterParams\";\nimport {INITIAL_IMAGE} from '../../constants';\n// @Actions\nimport NotificationActions from \"../../redux/actions/notification\";\nimport InstallmentActions from \"../../redux/actions/installment\";\nimport OrdersActions from \"../../redux/actions/order\";\n\nconst statusList = [\n  { \n    name: \"Đơn hàng\",\n    name_en: \"Purchase\"\n  },\n  {\n    name: \"Khuyến mãi\",\n    name_en: \"Promotion\"\n  },\n  {\n    name: \"Trả góp\",\n    name_en: \"Installment\"\n  }\n];\n\nclass NotificationPage extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      keyword: \"\",\n      filter: {\n        limit: 10,\n        page: 0,\n      },\n      queryParams: {\n        limit: 10,\n        page: 0,\n      },\n      type: 2,\n    }\n  }\n\n  componentDidMount(){\n    const {onGetList, authInfo, location} = this.props;\n    const { filter } = this.state;\n    if(authInfo){\n      const filters = getFilterParams(location.search);\n      var params = {\n        ...filter,\n        ...filters,\n        user: authInfo && authInfo._id\n      };\n      this.setState({queryParams: params})\n      onGetList(params);\n    }\n  }\n\n  componentDidUpdate(prevProps){\n    const {location, onGetList, authInfo} = this.props;\n    const { filter } = this.state;\n    const filters = getFilterParams(location.search);\n    if(prevProps.location !== location){\n      var params = {\n        ...filter,\n        ...filters,\n        user: authInfo && authInfo._id\n      };\n      this.setState({queryParams: params})\n      onGetList(params);\n    }\n  }\n\n  componentWillReceiveProps(props){\n    const {authInfo} = this.props;\n    document.title = \"[ApumStore] Trang bán hàng\"\n    if(props.authInfo !== authInfo){\n      const { onGetList, location } = this.props;\n      const { filter } = this.state;\n      const filters = getFilterParams(location.search);\n      var params = {\n        ...filter,\n        ...filters,\n        user: props.authInfo && props.authInfo._id\n      };\n      this.setState({queryParams: params})\n      if(props.authInfo)onGetList(params);\n    }\n  }\n\n  handleUpdateFilter = (data) => {\n    const {location, history} = this.props;\n    const {pathname, search} = location;\n    let queryParams = getFilterParams(search);\n    queryParams = data;\n    this.setState({queryParams})\n    history.push(`${pathname}?${qs.stringify(queryParams)}`)\n  };\n\n  onReadAllNoti = () =>{\n    const {authInfo, onUpdateAll} = this.props;\n    const {queryParams} = this.state;\n    const data = {user : authInfo._id}\n    onUpdateAll(data, queryParams)\n  }\n\n  onDeleteAllNoti = () =>{\n    const {authInfo, onDeleteAll} = this.props;\n    const {queryParams} = this.state;\n    const id = authInfo._id\n    onDeleteAll(id, queryParams)\n  }\n\n  onReadNoti = (id, type, link) =>{\n    const { onUpdate, history, onGetDetailInstallment, onGetDetailOrder } = this.props;\n    const { queryParams } = this.state;\n    const data = {\n      active : false\n    }\n    switch(type){\n      case 0:\n        this.setState({type})\n        onGetDetailOrder(link);\n        break;\n      case 1:\n        history.push(link.replace(\"https://localhost:5000/#\", \"\"))\n        break;\n      case 2:\n        this.setState({type})\n        onGetDetailInstallment(link);\n        break;\n      default:\n        return null\n    }\n    onUpdate(id, data, queryParams)\n  }\n  \n  // phân trang\n  handlePageChange = (pageNumber) => {\n    this.handleUpdateFilter({ page: pageNumber-1 });\n  }\n\n  onDeleteNoti = (id) =>{\n    const {onDelete} = this.props;\n    const {queryParams} = this.state;\n    onDelete(id, queryParams)\n  }\n\n  setModal = (type) => {\n    switch(type){\n      case 0:\n        return \"#orderModal\"\n      case 1:\n        return \"\"\n      case 2:\n        return \"#myModal\"\n      default:\n        return \"\"\n    }\n  }\n\n  render() {\n    const { listNotification, location, t, installmentItem, orderItem, history, total, language } = this.props;\n    const filter = getFilterParams(location.search);\n    return (\n      <div className=\"bg-user-info py-4\">\n        <div className=\"container emp-profile p-0 mt-5 mb-2\">\n          <div className=\"row mx-3\">\n            <div className={filter.type===undefined ? \"col-2 text-center pt-1 bg-selected font-weight-bold \" : \"col-2 text-center pt-1 font-weight-bold text-secondary\"}\n            onClick={() => this.handleUpdateFilter()}>\n              <div className={`${filter.type!==undefined && \"rounded directory\"} py-3`}>{t('common.all')}</div>\n            </div>\n            {statusList.map((status, index)=>{\n              return (\n                <div key={index} className={filter.type===(index).toString() ? \"col-2 text-center pt-1 bg-selected font-weight-bold\" : \"col-2 text-center pt-1 font-weight-bold text-secondary\"} \n                onClick={() => this.handleUpdateFilter({type : index})}>\n                  <div className={`${filter.type!==(index).toString() && \"rounded directory\"} py-3`}>{language===\"vn\" ? status.name : status.name_en}</div>\n                </div>\n              )\n            })}\n            <div className=\"col-4 text-right align-self-center\">\n              <button className=\"btn btn-primary mr-2\" onClick={()=> this.onReadAllNoti()}>{t('notification.read-all.button')}</button>\n              <button className=\"btn btn-danger\" onClick={()=> this.onDeleteAllNoti()}>{t('notification.delete-all.button')}</button>\n            </div>\n          </div>\n        </div>\n        <div className=\"container emp-profile py-3 my-2\">\n          {listNotification && listNotification.length>0 ? listNotification.map((notification, index) =>{\n            return(\n              <div className={notification.active === true ? \"row h-120 rounded shadow-sm py-2 my-4 bg-active\" : \"row h-120 rounded shadow-sm py-2 my-4\"} key={index}>\n                <div className=\"col-1 text-center align-self-center\">\n                  <p className=\"mb-0 text-secondary\">{new Date(notification.createdAt).toLocaleDateString(\"vi-VN\")}</p>\n                </div>\n                <div className=\"col-2 text-center h-100\">\n                  <img className=\"h-100\" src={notification.image ? notification.image.public_url : INITIAL_IMAGE} alt=\"\"></img>\n                </div>\n                <div className=\"col-7 align-self-center\">\n            <p className=\"font-weight-bold\">{notification.name}</p>\n            <p className=\"mb-0 text-secondary\">{notification.content}</p>\n                </div>\n                <div className=\"col-2 text-right align-self-center\">\n                  <button type=\"button\" className=\"btn btn-success mr-2\" \n                  data-bs-toggle={notification.type === 1 ? \"\" : \"modal\"} data-bs-target={this.setModal(notification.type)} \n                  onClick={()=> this.onReadNoti(notification._id, notification.type, notification.link)}>\n                    <i className=\"fa fa-book-reader\"></i>\n                  </button>\n                  <button type=\"button\" className=\"btn btn-info\" onClick={()=> this.onDeleteNoti(notification._id)}>\n                    <i className=\"fa fa-trash-alt\"></i>\n                  </button>\n                </div>\n              </div>\n            )\n          })\n        : <div className=\"row my-1\">\n          <div className=\"col-12\">\n              <div className=\"text-center my-5 py-5\">\n                <div className=\"h-120\">\n                  <img className=\"h-100\" src=\"https://deo.shopeemobile.com/shopee/shopee-pcmall-live-sg/assets/fa4e2b534c2928596a6deded9c730a21.png\" alt=\"404 not found\"></img>\n                </div>\n                <p>{t('header.notification.empty')}</p>\n              </div>\n            </div>\n          </div>}\n        </div>\n        <InstallmentDetail installmentItem={installmentItem} history={history}/>\n        <OrderDetail orderItem={orderItem} history={history}/>\n        <div className=\"content-center\">\n          {total && total > 8 && <Pagination\n            activePage={filter.page ? parseInt(filter.page)+1 : 1}\n            itemsCountPerPage={8}\n            totalItemsCount={total ? total : 8}\n            pageRangeDisplayed={3}\n            linkClass=\"page-link\"\n            itemClass=\"page-item\"\n            prevPageText={t('shop.pagination.prev')}\n            nextPageText={t('shop.pagination.next')}\n            hideFirstLastPages={true}\n            onChange={this.handlePageChange.bind(this)}\n          />}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) =>{\n  return {\n    language: state.language,\n    authInfo: state.auth.detail,\n    listNotification: state.notification.list,\n    total : state.notification.total,\n    installmentItem: state.installment.detail,\n    orderItem: state.order.detail\n  }\n}\n\nconst mapDispatchToProps =(dispatch)=> {\n\treturn {\n    onGetList: (payload) => {\n      dispatch(NotificationActions.onGetList(payload))\n    },\n    onGetDetailInstallment: (id) => {\n      dispatch(InstallmentActions.onGetDetail(id))\n    },\n    onGetDetailOrder: (id) => {\n      dispatch(OrdersActions.onGetDetail(id))\n    },\n    onUpdate: (id, data, params) => {\n      dispatch(NotificationActions.onUpdate(id, data, params))\n    },\n    onUpdateAll: (data, params) => {\n      dispatch(NotificationActions.onUpdateAll(data, params))\n    },\n    onDelete: (id, params) => {\n      dispatch(NotificationActions.onDelete(id, params))\n    },\n    onDeleteAll: (id, params) => {\n      dispatch(NotificationActions.onDeleteAll(id, params))\n    },\n\t}\n};\n\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(\n  withConnect,\n  withTranslation()\n)(NotificationPage);"]},"metadata":{},"sourceType":"module"}