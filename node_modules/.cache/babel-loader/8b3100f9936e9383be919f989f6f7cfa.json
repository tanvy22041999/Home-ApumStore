{"ast":null,"code":"import _defineProperty from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{compose}from'redux';import{withTranslation}from'react-i18next';// @Functions\nimport{toastError}from'../../utils/toastHelper';// @Actions\nimport UsersActions from'../../redux/actions/user';var ChangePassword=/*#__PURE__*/function(_Component){_inherits(ChangePassword,_Component);var _super=_createSuper(ChangePassword);function ChangePassword(props){var _this;_classCallCheck(this,ChangePassword);_this=_super.call(this,props);_this.onChange=function(event){var target=event.target;var name=target.name;var value=target.value;_this.setState(_defineProperty({},name,value));};_this.state={oldPassword:\"\",newPassword:\"\",confirmPassword:\"\"};return _this;}_createClass(ChangePassword,[{key:\"changePassword\",value:function changePassword(){var _this$state=this.state,oldPassword=_this$state.oldPassword,newPassword=_this$state.newPassword,confirmPassword=_this$state.confirmPassword;var _this$props=this.props,onChangePassword=_this$props.onChangePassword,t=_this$props.t,userInfo=_this$props.userInfo;if(newPassword===confirmPassword&&newPassword!==null){if(userInfo.password){onChangePassword({password:oldPassword,new_password:newPassword});}else{onChangePassword({new_password:newPassword});}}else{toastError(t('user.password.error'));}}},{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,oldPassword=_this$state2.oldPassword,newPassword=_this$state2.newPassword,confirmPassword=_this$state2.confirmPassword;var _this$props2=this.props,t=_this$props2.t,userInfo=_this$props2.userInfo;return/*#__PURE__*/React.createElement(\"div\",{show:\"true\",className:\"modal fade\",id:\"passwdModal\",role:\"dialog\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-dialog modal-dialog-centered\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center w-100\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"modal-title m-0\"},t('user.change-password.card'))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-check form-switch\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn-close rounded-circle bg-light p-2\",\"data-bs-dismiss\":\"modal\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"},userInfo.password&&/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,t('user.old.input'),\":\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"form-control\",name:\"oldPassword\",value:oldPassword,onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,t('user.new.input'),\":\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"form-control\",name:\"newPassword\",value:newPassword,onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,t('user.confirm.input'),\":\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"form-control\",name:\"confirmPassword\",value:confirmPassword,onChange:this.onChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-footer\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-success\",\"data-bs-dismiss\":\"modal\",onClick:function onClick(){return _this2.changePassword();}},t('user.save-password.button')),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\"},t('user.close.button'))))));}}]);return ChangePassword;}(Component);var mapStateToProps=function mapStateToProps(state){return{};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onChangePassword:function onChangePassword(data){dispatch(UsersActions.onChangePassword(data));}};};var withConnect=connect(mapStateToProps,mapDispatchToProps);export default compose(withConnect,withTranslation())(ChangePassword);","map":{"version":3,"sources":["/Users/vyduong/Desktop/client/Home-ApumStore/src/containers/ChangePassword/index.js"],"names":["React","Component","connect","compose","withTranslation","toastError","UsersActions","ChangePassword","props","onChange","event","target","name","value","setState","state","oldPassword","newPassword","confirmPassword","onChangePassword","t","userInfo","password","new_password","changePassword","mapStateToProps","mapDispatchToProps","dispatch","data","withConnect"],"mappings":"iyBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,OAAR,KAAsB,OAAtB,CACA,OAASC,eAAT,KAAgC,eAAhC,CAEA;AACA,OAASC,UAAT,KAA2B,yBAA3B,CAEA;AACA,MAAOC,CAAAA,YAAP,KAAyB,0BAAzB,C,GAEMC,CAAAA,c,gHACJ,wBAAYC,KAAZ,CAAmB,gDACjB,uBAAMA,KAAN,EADiB,MASnBC,QATmB,CASR,SAACC,KAAD,CAAW,CACpB,GAAIC,CAAAA,MAAM,CAAGD,KAAK,CAACC,MAAnB,CACA,GAAIC,CAAAA,IAAI,CAAGD,MAAM,CAACC,IAAlB,CACA,GAAIC,CAAAA,KAAK,CAAGF,MAAM,CAACE,KAAnB,CACA,MAAKC,QAAL,oBACGF,IADH,CACUC,KADV,GAGD,CAhBkB,CAEjB,MAAKE,KAAL,CAAa,CACXC,WAAW,CAAE,EADF,CAEXC,WAAW,CAAE,EAFF,CAGXC,eAAe,CAAE,EAHN,CAAb,CAFiB,aAOlB,C,yDAWD,yBAAiB,CACf,gBAAoD,KAAKH,KAAzD,CAAOC,WAAP,aAAOA,WAAP,CAAoBC,WAApB,aAAoBA,WAApB,CAAiCC,eAAjC,aAAiCA,eAAjC,CACA,gBAAwC,KAAKV,KAA7C,CAAOW,gBAAP,aAAOA,gBAAP,CAAyBC,CAAzB,aAAyBA,CAAzB,CAA4BC,QAA5B,aAA4BA,QAA5B,CACA,GAAGJ,WAAW,GAAKC,eAAhB,EAAmCD,WAAW,GAAI,IAArD,CAA2D,CACzD,GAAGI,QAAQ,CAACC,QAAZ,CAAqB,CACnBH,gBAAgB,CAAC,CACfG,QAAQ,CAAEN,WADK,CAEfO,YAAY,CAAEN,WAFC,CAAD,CAAhB,CAID,CALD,IAMI,CACFE,gBAAgB,CAAC,CACfI,YAAY,CAAEN,WADC,CAAD,CAAhB,CAGD,CACF,CAZD,IAaI,CACFZ,UAAU,CAACe,CAAC,CAAC,qBAAD,CAAF,CAAV,CACD,CACF,C,sBAID,iBAAS,iBACP,iBAAoD,KAAKL,KAAzD,CAAOC,WAAP,cAAOA,WAAP,CAAoBC,WAApB,cAAoBA,WAApB,CAAiCC,eAAjC,cAAiCA,eAAjC,CACA,iBAAsB,KAAKV,KAA3B,CAAOY,CAAP,cAAOA,CAAP,CAAUC,QAAV,cAAUA,QAAV,CACA,mBACE,2BAAK,IAAI,CAAC,MAAV,CAAiB,SAAS,CAAC,YAA3B,CAAwC,EAAE,CAAC,aAA3C,CAAyD,IAAI,CAAC,QAA9D,eACE,2BAAK,SAAS,CAAC,oCAAf,eACE,2BAAK,SAAS,CAAC,eAAf,eACE,2BAAK,SAAS,CAAC,cAAf,eACE,2BAAK,SAAS,CAAC,mBAAf,eACE,0BAAI,SAAS,CAAC,iBAAd,EAAiCD,CAAC,CAAC,2BAAD,CAAlC,CADF,CADF,cAIE,2BAAK,SAAS,CAAC,wBAAf,eACE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,uCAAhC,CAAwE,kBAAgB,OAAxF,EADF,CAJF,CADF,cASE,2BAAK,SAAS,CAAC,YAAf,EACGC,QAAQ,CAACC,QAAT,eAAqB,2BAAK,SAAS,CAAC,YAAf,eACpB,iCAAQF,CAAC,CAAC,gBAAD,CAAT,KADoB,cAEpB,6BAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,cAAjC,CAAgD,IAAI,CAAC,aAArD,CAAmE,KAAK,CAAEJ,WAA1E,CAAuF,QAAQ,CAAE,KAAKP,QAAtG,EAFoB,CADxB,cAKE,2BAAK,SAAS,CAAC,YAAf,eACE,iCAAQW,CAAC,CAAC,gBAAD,CAAT,KADF,cAEE,6BAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,cAAjC,CAAgD,IAAI,CAAC,aAArD,CAAmE,KAAK,CAAEH,WAA1E,CAAuF,QAAQ,CAAE,KAAKR,QAAtG,EAFF,CALF,cASE,2BAAK,SAAS,CAAC,YAAf,eACE,iCAAQW,CAAC,CAAC,oBAAD,CAAT,KADF,cAEE,6BAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,cAAjC,CAAgD,IAAI,CAAC,iBAArD,CAAuE,KAAK,CAAEF,eAA9E,CAA+F,QAAQ,CAAE,KAAKT,QAA9G,EAFF,CATF,CATF,cAuBE,2BAAK,SAAS,CAAC,cAAf,eACE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,CAAkD,kBAAgB,OAAlE,CAA0E,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACe,cAAL,EAAN,EAAnF,EAAiHJ,CAAC,CAAC,2BAAD,CAAlH,CADF,cAEE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,mBAAhC,CAAoD,kBAAgB,OAApE,EAA6EA,CAAC,CAAC,mBAAD,CAA9E,CAFF,CAvBF,CADF,CADF,CADF,CAkCD,C,4BA/E0BnB,S,EAkF7B,GAAMwB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACV,KAAD,CAAU,CAChC,MAAO,EAAP,CAGD,CAJD,CAMA,GAAMW,CAAAA,kBAAkB,CAAE,QAApBA,CAAAA,kBAAoB,CAACC,QAAD,CAAa,CACrC,MAAO,CACLR,gBAAgB,CAAG,0BAACS,IAAD,CAAS,CAC7BD,QAAQ,CAACrB,YAAY,CAACa,gBAAb,CAA8BS,IAA9B,CAAD,CAAR,CACE,CAHI,CAAP,CAKD,CAND,CAQA,GAAMC,CAAAA,WAAW,CAAG3B,OAAO,CAACuB,eAAD,CAAkBC,kBAAlB,CAA3B,CAEA,cAAevB,CAAAA,OAAO,CACpB0B,WADoB,CAEpBzB,eAAe,EAFK,CAAP,CAGbG,cAHa,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport {connect} from 'react-redux';\nimport {compose} from 'redux';\nimport { withTranslation } from 'react-i18next'\n\n// @Functions\nimport { toastError } from '../../utils/toastHelper';\n\n// @Actions\nimport UsersActions from '../../redux/actions/user'\n\nclass ChangePassword extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      oldPassword: \"\",\n      newPassword: \"\",\n      confirmPassword: \"\",\n    }\n  }\n\n  onChange = (event) => {\n    var target = event.target;\n    var name = target.name;\n    var value = target.value;\n    this.setState({\n      [name]: value\n    })\n  }\n\n  changePassword() {\n    const {oldPassword, newPassword, confirmPassword} = this.state;\n    const {onChangePassword, t, userInfo} = this.props\n    if(newPassword === confirmPassword && newPassword!== null) {\n      if(userInfo.password){\n        onChangePassword({\n          password: oldPassword,\n          new_password: newPassword,\n        });\n      }\n      else{\n        onChangePassword({\n          new_password: newPassword,\n        });\n      }\n    }\n    else{\n      toastError(t('user.password.error'))\n    }\n  }\n\n  \n\n  render() {\n    const {oldPassword, newPassword, confirmPassword} = this.state;\n    const {t, userInfo} = this.props;\n    return (  \n      <div show=\"true\" className=\"modal fade\" id=\"passwdModal\" role=\"dialog\" >\n        <div className=\"modal-dialog modal-dialog-centered\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <div className=\"text-center w-100\">\n                <h3 className=\"modal-title m-0\">{t('user.change-password.card')}</h3>\n              </div>\n              <div className=\"form-check form-switch\">\n                <button type=\"button\" className=\"btn-close rounded-circle bg-light p-2\" data-bs-dismiss=\"modal\"></button>\n              </div>\n            </div>\n            <div className=\"modal-body\">\n              {userInfo.password && <div className=\"form-group\">\n                <label>{t('user.old.input')}:</label>\n                <input type=\"password\" className=\"form-control\" name=\"oldPassword\" value={oldPassword} onChange={this.onChange}/>\n              </div>}\n              <div className=\"form-group\">\n                <label>{t('user.new.input')}:</label>\n                <input type=\"password\" className=\"form-control\" name=\"newPassword\" value={newPassword} onChange={this.onChange}/>\n              </div>\n              <div className=\"form-group\">\n                <label>{t('user.confirm.input')}:</label>\n                <input type=\"password\" className=\"form-control\" name=\"confirmPassword\" value={confirmPassword} onChange={this.onChange}/>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button type=\"button\" className=\"btn btn-success\" data-bs-dismiss=\"modal\" onClick={() => this.changePassword()}>{t('user.save-password.button')}</button>\n              <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">{t('user.close.button')}</button>\n            </div>\n          </div> \n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) =>{\n  return {\n\n  }\n}\n\nconst mapDispatchToProps =(dispatch)=> {\n  return {\n    onChangePassword : (data) =>{\n\t\t\tdispatch(UsersActions.onChangePassword(data))\n    },\n\t}\n};\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(\n  withConnect,\n  withTranslation()\n)(ChangePassword);"]},"metadata":{},"sourceType":"module"}