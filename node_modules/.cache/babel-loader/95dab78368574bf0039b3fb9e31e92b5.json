{"ast":null,"code":"import _defineProperty from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from\"react-redux\";import{compose}from'redux';import{withTranslation}from'react-i18next';import qs from\"query-string\";// Components\nimport OrderDetail from'../../containers/OrderDetail';import Pagination from\"react-js-pagination\";import{confirmAlert}from'react-confirm-alert';// Import\nimport'react-confirm-alert/src/react-confirm-alert.css';// Import css\n// @Functions\nimport getFilterParams from\"../../utils/getFilterParams\";import numberWithCommas from'../../utils/formatPrice';import{INITIAL_IMAGE}from'../../constants';import{toastError}from'../../utils/toastHelper';// @Actions\nimport OrdersActions from\"../../redux/actions/order\";import ProductsActions from\"../../redux/actions/products\";var statusList=[{name:\"Chờ giao hàng\",name_en:\"Not delivery yet\",state:{confirmed:1,status:-1}},{name:\"Đang giao\",name_en:\"Delivering\",state:{confirmed:1,status:0}},{name:\"Đã giao\",name_en:\"Delivered\",state:{confirmed:1,status:1}},{name:\"Đã hủy\",name_en:\"Cancelled\",state:{active:-1}}];var PurchasePage=/*#__PURE__*/function(_Component){_inherits(PurchasePage,_Component);var _super=_createSuper(PurchasePage);function PurchasePage(props){var _this;_classCallCheck(this,PurchasePage);_this=_super.call(this,props);_this.setStatus=function(confirmed,status,active){var t=_this.props.t;if(active===false)return t(\"order.status.5\");else{if(confirmed===false)return t(\"order.status.1\");else{if(status===-1)return t(\"order.status.2\");else if(status===0)return t(\"order.status.3\");else return t(\"order.status.4\");}}};_this.onList=function(type,state){_this.handleUpdateFilter(_objectSpread({type:type},state));};_this.onUpdateOrder=function(id,data){var onUpdate=_this.props.onUpdate;var queryParams=_this.state.queryParams;onUpdate(id,data,queryParams);};_this.onDeactivate=function(id){var t=_this.props.t;confirmAlert({title:t('order.popup.label'),message:t('order.delete.question'),buttons:[{label:'Yes',onClick:function onClick(){return _this.onUpdateOrder(id,{active:false});}},{label:'No'}]});};_this.handleUpdateFilter=function(data){var _this$props=_this.props,location=_this$props.location,history=_this$props.history;var pathname=location.pathname,search=location.search;var queryParams=getFilterParams(search);queryParams=data;history.push(\"\".concat(pathname,\"?\").concat(qs.stringify(queryParams)));};_this.pressSearch=function(event){var keyword=_this.state.keyword;var t=_this.props.t;if(event.key==='Enter'){if(keyword===\"\")return toastError(t(\"header.toastify.search\"));_this.handleUpdateFilter({keyword:keyword,page:0});}};_this.searchKeyWorld=function(){var keyword=_this.state.keyword;var t=_this.props.t;if(keyword===\"\")return toastError(t(\"header.toastify.search\"));_this.handleUpdateFilter({keyword:keyword,page:0});};_this.handlePageChange=function(pageNumber){_this.handleUpdateFilter({page:pageNumber-1});};_this.getInfoOrder=function(id){var onGetDetail=_this.props.onGetDetail;onGetDetail(id);};_this.onChange=function(event){var target=event.target;var name=target.name;var value=target.value;_this.setState(_defineProperty({},name,value));};_this.onBuyAgain=function(order_list){var onPurchaseAgain=_this.props.onPurchaseAgain;onPurchaseAgain(order_list);};_this.state={queryParams:{},keyword:\"\",filter:{limit:8,page:0}};return _this;}_createClass(PurchasePage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props2=this.props,onGetList=_this$props2.onGetList,authInfo=_this$props2.authInfo,location=_this$props2.location;var filter=this.state.filter;if(authInfo){var filters=getFilterParams(location.search);var params=_objectSpread(_objectSpread(_objectSpread({},filter),filters),{},{user:authInfo&&authInfo.id});this.setState({queryParams:params});onGetList(params);}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(props){var authInfo=this.props.authInfo;document.title=\"[ApumStore] Trang bán hàng\";if(props.authInfo!==authInfo){var _this$props3=this.props,onGetList=_this$props3.onGetList,location=_this$props3.location;var filter=this.state.filter;var filters=getFilterParams(location.search);var params=_objectSpread(_objectSpread(_objectSpread({},filter),filters),{},{user:props.authInfo&&props.authInfo.id});this.setState({queryParams:params});if(props.authInfo)onGetList(params);}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var _this$props4=this.props,location=_this$props4.location,onGetList=_this$props4.onGetList,authInfo=_this$props4.authInfo;var filter=this.state.filter;var filters=getFilterParams(location.search);if(prevProps.location!==location){var params=_objectSpread(_objectSpread(_objectSpread({},filter),filters),{},{user:authInfo&&authInfo.id});this.setState({queryParams:params});onGetList(params);}}},{key:\"render\",value:function render(){var _this2=this;var _this$props5=this.props,orderList=_this$props5.orderList,orderItem=_this$props5.orderItem,location=_this$props5.location,history=_this$props5.history,t=_this$props5.t,total=_this$props5.total,language=_this$props5.language;var keyword=this.state.keyword;var filter=getFilterParams(location.search);debugger;return/*#__PURE__*/React.createElement(\"div\",{className:\"bg-user-info py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container emp-profile p-0 mt-5 mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row mx-3\"},/*#__PURE__*/React.createElement(\"div\",{className:filter.type===\"0\"||filter.type===undefined?\"col-2 text-center pt-1 bg-selected font-weight-bold\":\"col-2 text-center pt-1 font-weight-bold text-secondary\",onClick:function onClick(){return _this2.onList(0,null);}},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(filter.type!==\"0\"&&filter.type!==undefined&&\"rounded directory\",\" py-3\")},t('common.all'))),statusList.map(function(status,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:filter.type===(index+1).toString()?\"col-2 text-center pt-1 bg-selected font-weight-bold\":\"col-2 text-center pt-1 font-weight-bold text-secondary\",onClick:function onClick(){return _this2.onList(index+1,status.state);}},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(filter.type!==(index+1).toString()&&\"rounded directory\",\" py-3\")},language===\"vn\"?status.name:status.name_en));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"container emp-profile py-3 my-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"keyword\",value:keyword,onChange:this.onChange,onKeyPress:this.pressSearch,placeholder:t('search.placeholder.input')}),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-append\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger h-100\",onClick:function onClick(){return _this2.searchKeyWorld();}},t('shop.search.button'))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"container emp-profile py-3 mt-2 mb-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},orderList&&orderList.length>0?orderList.map(function(order,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 my-1\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"card shadow-sm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header bg-primary text-white\"},/*#__PURE__*/React.createElement(\"p\",{className:\"float-start mb-0\"},t('order.card.header'),\" \",order.id),/*#__PURE__*/React.createElement(\"p\",{className:\"float-end mb-0\"},\"| \",_this2.setStatus(order.confirmed,order.status,order.active))),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},order.orderList.map(function(product,_index){return/*#__PURE__*/React.createElement(\"div\",{className:\"row h-120\",key:_index},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-center h-100\"},/*#__PURE__*/React.createElement(\"img\",{className:\"h-100\",src:product.image?product.image.publicUrl:INITIAL_IMAGE,alt:product.name})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 align-self-center \"},/*#__PURE__*/React.createElement(\"p\",{className:\"font-weight-bold mb-0\"},product.name),/*#__PURE__*/React.createElement(\"p\",{className:\"font-italic mb-0\"},t('common.color'),\" \",product.nameColor),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0\"},t('order.amount.label'),\" \",product.quantity)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-right\"},/*#__PURE__*/React.createElement(\"p\",null,numberWithCommas(product.quantity*product.price),\" VND\")));})),/*#__PURE__*/React.createElement(\"div\",{className:\"card-footer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"float-start\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-success mr-2\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#orderModal\",onClick:function onClick(){return _this2.getInfoOrder(order.id);}},t('common.detail.button')),_this2.setStatus(order.confirmed,order.status,order.active)===\"Chờ xác nhận\"&&/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-danger\",onClick:function onClick(){return _this2.onDeactivate(order.id);}},t('common.destroy.button'))),/*#__PURE__*/React.createElement(\"div\",{className:\"float-end font-weight-bold\"},numberWithCommas(order.totalPrice),\" VND\"))));}):/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 my-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center my-5 py-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"h-120\"},/*#__PURE__*/React.createElement(\"img\",{className:\"h-100\",src:\"https://deo.shopeemobile.com/shopee/shopee-pcmall-live-sg/assets/5fafbb923393b712b96488590b8f781f.png\",alt:\"404 not found\"})),/*#__PURE__*/React.createElement(\"p\",null,t('order.not-yet')))))),/*#__PURE__*/React.createElement(OrderDetail,{orderItem:orderItem,history:history}),/*#__PURE__*/React.createElement(\"div\",{className:\"content-center\"},total&&total>8&&/*#__PURE__*/React.createElement(Pagination,{activePage:filter.page?parseInt(filter.page)+1:1,itemsCountPerPage:8,totalItemsCount:total?total:8,pageRangeDisplayed:3,linkClass:\"page-link\",itemClass:\"page-item\",prevPageText:t('shop.pagination.prev'),nextPageText:t('shop.pagination.next'),hideFirstLastPages:true,onChange:this.handlePageChange.bind(this)})));}}]);return PurchasePage;}(Component);var mapStateToProps=function mapStateToProps(state){return{authInfo:state.auth.detail,orderList:state.order.list,orderItem:state.order.detail,total:state.order.total,language:state.language};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onGetList:function onGetList(payload){dispatch(OrdersActions.onGetList(payload));},onGetDetail:function onGetDetail(id){dispatch(OrdersActions.onGetDetail(id));},onUpdate:function onUpdate(id,data,params){dispatch(OrdersActions.onUpdate(id,data,params));},onPurchaseAgain:function onPurchaseAgain(order_list){dispatch(ProductsActions.onPurchaseAgain(order_list));}};};var withConnect=connect(mapStateToProps,mapDispatchToProps);export default compose(withConnect,withTranslation())(PurchasePage);","map":{"version":3,"sources":["/Users/vyduong/Desktop/client/Home-ApumStore/src/components/PurchasePage/index.js"],"names":["React","Component","connect","compose","withTranslation","qs","OrderDetail","Pagination","confirmAlert","getFilterParams","numberWithCommas","INITIAL_IMAGE","toastError","OrdersActions","ProductsActions","statusList","name","name_en","state","confirmed","status","active","PurchasePage","props","setStatus","t","onList","type","handleUpdateFilter","onUpdateOrder","id","data","onUpdate","queryParams","onDeactivate","title","message","buttons","label","onClick","location","history","pathname","search","push","stringify","pressSearch","event","keyword","key","page","searchKeyWorld","handlePageChange","pageNumber","getInfoOrder","onGetDetail","onChange","target","value","setState","onBuyAgain","order_list","onPurchaseAgain","filter","limit","onGetList","authInfo","filters","params","user","document","prevProps","orderList","orderItem","total","language","undefined","map","index","toString","length","order","product","_index","image","publicUrl","nameColor","quantity","price","totalPrice","parseInt","bind","mapStateToProps","auth","detail","list","mapDispatchToProps","dispatch","payload","withConnect"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from \"react-redux\";\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next'\nimport qs from \"query-string\";\n// Components\nimport OrderDetail from '../../containers/OrderDetail'\nimport Pagination from \"react-js-pagination\";\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n// @Functions\nimport getFilterParams from \"../../utils/getFilterParams\";\nimport numberWithCommas from '../../utils/formatPrice'\nimport { INITIAL_IMAGE } from '../../constants';\nimport { toastError } from '../../utils/toastHelper';\n// @Actions\nimport OrdersActions from \"../../redux/actions/order\";\nimport ProductsActions from \"../../redux/actions/products\";\n\nconst statusList = [\n  {\n    name: \"Chờ giao hàng\",\n    name_en: \"Not delivery yet\",\n    state: {confirmed:1,status:-1}\n  },{\n    name: \"Đang giao\",\n    name_en: \"Delivering\",\n    state: {confirmed:1,status:0}\n  },{\n    name: \"Đã giao\",\n    name_en: \"Delivered\",\n    state: {confirmed:1,status:1}\n  },{\n    name: \"Đã hủy\",\n    name_en: \"Cancelled\",\n    state: {active:-1}\n  }\n];\n\nclass PurchasePage extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      queryParams: {},\n      keyword: \"\",\n      filter: {\n        limit: 8,\n        page: 0,\n      },\n    }\n  }\n\n  componentDidMount(){\n    const {onGetList, authInfo, location} = this.props;\n    const { filter } = this.state;\n    if(authInfo){\n      const filters = getFilterParams(location.search);\n      var params = {\n        ...filter,\n        ...filters,\n        user: authInfo && authInfo.id\n      };\n      this.setState({queryParams: params})\n      onGetList(params);\n    }\n  }\n\n  componentWillReceiveProps(props){\n    const {authInfo} = this.props;\n    document.title = \"[ApumStore] Trang bán hàng\"\n    if(props.authInfo !== authInfo){\n      const { onGetList, location } = this.props;\n      const { filter } = this.state;\n      const filters = getFilterParams(location.search);\n      var params = {\n        ...filter,\n        ...filters,\n        user: props.authInfo && props.authInfo.id\n      };\n      this.setState({queryParams: params})\n      if(props.authInfo)onGetList(params);\n    }\n  }\n\n  componentDidUpdate(prevProps){\n    const {location, onGetList, authInfo} = this.props;\n    const { filter } = this.state;\n    const filters = getFilterParams(location.search);\n    if(prevProps.location !== location){\n      var params = {\n        ...filter,\n        ...filters,\n        user: authInfo && authInfo.id\n      };\n      this.setState({queryParams: params})\n      onGetList(params);\n    }\n  }\n\n  setStatus = (confirmed, status, active) => {\n    const {t} = this.props;\n    if(active===false) return t(\"order.status.5\")\n    else{\n      if(confirmed===false) return t(\"order.status.1\")\n      else{\n        if(status===-1) return t(\"order.status.2\");\n        else if(status===0) return t(\"order.status.3\");\n        else return t(\"order.status.4\");\n      }\n    }\n  }\n\n  onList = (type, state) => {\n    this.handleUpdateFilter({ type, ...state });\n  }\n\n  onUpdateOrder = (id, data) => {\n    const { onUpdate } = this.props;\n    const { queryParams } = this.state;\n    onUpdate(id, data, queryParams);\n  }\n\n  onDeactivate = (id) => {\n    const {t} = this.props;\n    confirmAlert({\n      title: t('order.popup.label'),\n      message: t('order.delete.question'),\n      buttons: [\n        {\n          label: 'Yes',\n          onClick: () => this.onUpdateOrder(id, {active: false})\n        },\n        {\n          label: 'No'\n        }\n      ]\n    });\n  };\n\n  handleUpdateFilter = (data) => {\n    const {location, history} = this.props;\n    const {pathname, search} = location;\n    let queryParams = getFilterParams(search);\n    queryParams = data;\n    history.push(`${pathname}?${qs.stringify(queryParams)}`);\n  };\n\n  pressSearch = (event) => {\n    const { keyword } = this.state;\n    const { t } = this.props;\n    if(event.key === 'Enter'){\n      if(keyword === \"\") return toastError(t(\"header.toastify.search\"))\n      this.handleUpdateFilter({ keyword, page : 0 });\n    }\n  }\n\n  // Button search\n  searchKeyWorld = () => {\n    const { keyword } = this.state;\n    const { t } = this.props;\n    if(keyword === \"\") return toastError(t(\"header.toastify.search\"))\n    this.handleUpdateFilter({ keyword, page : 0 });\n  }\n\n  // phân trang\n  handlePageChange = (pageNumber) => {\n    this.handleUpdateFilter({ page: pageNumber-1 });\n  }\n\n  getInfoOrder = (id) => {\n    const {onGetDetail} = this.props;\n    onGetDetail(id);\n  }\n\n  onChange = (event) =>{\n    var target=event.target;\n    var name=target.name;\n    var value=target.value;\n    this.setState({\n      [name]:  value\n    })\n  }\n\n  onBuyAgain = (order_list) =>{\n    const {onPurchaseAgain} = this.props;\n    onPurchaseAgain(order_list)\n  }\n\n  render() {\n    const { orderList, orderItem, location, history, t, total, language } = this.props;\n    const { keyword } = this.state;\n    const filter = getFilterParams(location.search);\n    debugger;\n    return (\n      <div className=\"bg-user-info py-4\">\n        <div className=\"container emp-profile p-0 mt-5 mb-2\">\n          <div className=\"row mx-3\">\n            <div className={filter.type===\"0\" || filter.type===undefined ? \"col-2 text-center pt-1 bg-selected font-weight-bold\" : \"col-2 text-center pt-1 font-weight-bold text-secondary\"} \n            onClick={() => this.onList(0, null)}>\n              <div className={`${filter.type!==\"0\" && filter.type!==undefined && \"rounded directory\"} py-3`}>{t('common.all')}</div>\n            </div>\n            {statusList.map((status, index)=>{\n              return (\n                <div key={index} className={filter.type===(index+1).toString() ? \"col-2 text-center pt-1 bg-selected font-weight-bold\" : \"col-2 text-center pt-1 font-weight-bold text-secondary\"} \n                onClick={() => this.onList(index+1, status.state)}>\n                  <div className={`${filter.type!==(index+1).toString() && \"rounded directory\"} py-3`}>{language=== \"vn\" ? status.name : status.name_en}</div>\n                </div>\n              )\n            })}\n          </div>\n        </div>\n        <div className=\"container emp-profile py-3 my-2\">\n          <div className=\"row\">\n            <div className=\"col-12\">\n            <div className=\"input-group\">\n              <input type=\"text\" className=\"form-control\" name=\"keyword\" value={keyword} onChange={this.onChange} onKeyPress={this.pressSearch} placeholder={t('search.placeholder.input')}></input>\n              <div className=\"input-group-append\">\n                <button className=\"btn btn-danger h-100\" onClick={() => this.searchKeyWorld()}>{t('shop.search.button')}</button>\n              </div>\n            </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"container emp-profile py-3 mt-2 mb-5\">\n          <div className=\"row\">\n            {orderList && orderList.length > 0 ? orderList.map((order, index) =>{\n              return (\n                <div className=\"col-12 my-1\" key={index}>\n                  <div className=\"card shadow-sm\">\n                    <div className=\"card-header bg-primary text-white\">\n                      <p className=\"float-start mb-0\">{t('order.card.header')} {order.id}</p>\n                      <p className=\"float-end mb-0\">| {this.setStatus(order.confirmed, order.status, order.active)}</p>\n                    </div>\n                    <div className=\"card-body\">\n                      {order.orderList.map((product, _index)=>{\n                        return(\n                          <div className=\"row h-120\" key={_index}>\n                          <div className=\"col-3 text-center h-100\">\n                            <img className=\"h-100\" src={product.image ? product.image.publicUrl : INITIAL_IMAGE} alt={product.name}></img>\n                          </div>\n                          <div className=\"col-6 align-self-center \">\n                            <p className=\"font-weight-bold mb-0\">{product.name}</p>\n                            <p className=\"font-italic mb-0\">{t('common.color')} {product.nameColor}</p>\n                            <p className=\"mb-0\">{t('order.amount.label')} {product.quantity}</p>\n                          </div>\n                          <div className=\"col-3 text-right\">\n                            <p>{numberWithCommas(product.quantity*product.price)} VND</p>\n                          </div>\n                          </div>\n                        )\n                      })}\n                    </div>\n                    <div className=\"card-footer\">\n                      <div className=\"float-start\">\n                        <button type=\"button\" className=\"btn btn-success mr-2\" data-bs-toggle=\"modal\" data-bs-target=\"#orderModal\" onClick={()=> this.getInfoOrder(order.id)}>{t('common.detail.button')}</button>\n                        {this.setStatus(order.confirmed, order.status, order.active)===\"Chờ xác nhận\" && <button type=\"button\" className=\"btn btn-danger\" onClick={()=> this.onDeactivate(order.id)}>{t('common.destroy.button')}</button>}\n                      </div>\n                      <div className=\"float-end font-weight-bold\">\n                        {numberWithCommas(order.totalPrice)} VND\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )\n            })\n          : <div className=\"col-12 my-1\">\n              <div className=\"text-center my-5 py-5\">\n                <div className=\"h-120\">\n                  <img className=\"h-100\" src=\"https://deo.shopeemobile.com/shopee/shopee-pcmall-live-sg/assets/5fafbb923393b712b96488590b8f781f.png\" alt=\"404 not found\"></img>\n                </div>\n                <p>{t('order.not-yet')}</p>\n              </div>\n            </div>}\n          </div>\n          \n        </div>\n        \n        <OrderDetail orderItem={orderItem} history={history}/>\n        <div className=\"content-center\">\n          {total && total > 8 && <Pagination\n            activePage={filter.page ? parseInt(filter.page)+1 : 1}\n            itemsCountPerPage={8}\n            totalItemsCount={total ? total : 8}\n            pageRangeDisplayed={3}\n            linkClass=\"page-link\"\n            itemClass=\"page-item\"\n            prevPageText={t('shop.pagination.prev')}\n            nextPageText={t('shop.pagination.next')}\n            hideFirstLastPages={true}\n            onChange={this.handlePageChange.bind(this)}\n          />}\n        </div>\n      </div>\n      \n    )\n  }\n}\n\nconst mapStateToProps = (state) =>{\n  return {\n    authInfo: state.auth.detail,\n    orderList: state.order.list,\n    orderItem: state.order.detail,\n    total: state.order.total,\n    language: state.language\n  }\n}\n\nconst mapDispatchToProps =(dispatch)=> {\n\treturn {\n    onGetList: (payload) => {\n      dispatch(OrdersActions.onGetList(payload))\n    },\n    onGetDetail: (id) => {\n      dispatch(OrdersActions.onGetDetail(id))\n    },\n    onUpdate : (id, data, params) =>{\n\t\t\tdispatch(OrdersActions.onUpdate(id, data, params))\n    },\n    onPurchaseAgain: (order_list) => {\n      dispatch(ProductsActions.onPurchaseAgain(order_list))\n    },\n\t}\n};\n\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(\n  withConnect,\n  withTranslation()\n)(PurchasePage);"]},"metadata":{},"sourceType":"module"}