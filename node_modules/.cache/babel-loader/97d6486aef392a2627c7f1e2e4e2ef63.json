{"ast":null,"code":"import _objectSpread from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(handleGetNewest),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(handleGetList),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(handleCreate),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(handleUpdate),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(handleUpdateAll),_marked6=/*#__PURE__*/_regeneratorRuntime.mark(handleDelete),_marked7=/*#__PURE__*/_regeneratorRuntime.mark(handleDeleteAll),_marked8=/*#__PURE__*/_regeneratorRuntime.mark(watchGetNewest),_marked9=/*#__PURE__*/_regeneratorRuntime.mark(watchGetList),_marked10=/*#__PURE__*/_regeneratorRuntime.mark(watchCreate),_marked11=/*#__PURE__*/_regeneratorRuntime.mark(watchUpdate),_marked12=/*#__PURE__*/_regeneratorRuntime.mark(watchDelete),_marked13=/*#__PURE__*/_regeneratorRuntime.mark(watchUpdateAll),_marked14=/*#__PURE__*/_regeneratorRuntime.mark(watchDeleteAll),_marked15=/*#__PURE__*/_regeneratorRuntime.mark(rootSaga);import{takeEvery,fork,all,call,put}from\"redux-saga/effects\";import{get}from\"lodash\";import NotificationActions,{NotificationActionTypes}from\"../actions/notification\";import{getAllNotifications,getNewestNotifications,addNotification,updateNotification,deleteNotification,updateAllNotifications,deleteAllNotifications}from\"../apis/notification\";function handleGetNewest(_ref){var payload,result,data;return _regeneratorRuntime.wrap(function handleGetNewest$(_context){while(1){switch(_context.prev=_context.next){case 0:payload=_ref.payload;_context.prev=1;_context.next=4;return call(getNewestNotifications,payload);case 4:result=_context.sent;data=get(result,\"data\");if(!(data.code!==200)){_context.next=8;break;}throw data;case 8:_context.next=10;return put(NotificationActions.onGetNewestSuccess(data.notifications,data.total));case 10:_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);_context.next=16;return put(NotificationActions.onGetNewestError(_context.t0));case 16:case\"end\":return _context.stop();}}},_marked,null,[[1,12]]);}function handleGetList(_ref2){var payload,result,data;return _regeneratorRuntime.wrap(function handleGetList$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:payload=_ref2.payload;_context2.prev=1;_context2.next=4;return call(getAllNotifications,payload);case 4:result=_context2.sent;data=get(result,\"data\");if(!(data.code!==200)){_context2.next=8;break;}throw data;case 8:_context2.next=10;return put(NotificationActions.onGetListSuccess(data.notifications,data.total));case 10:_context2.next=16;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](1);_context2.next=16;return put(NotificationActions.onGetListError(_context2.t0));case 16:case\"end\":return _context2.stop();}}},_marked2,null,[[1,12]]);}/**\n *\n * create\n */function handleCreate(_ref3){var payload,result,data;return _regeneratorRuntime.wrap(function handleCreate$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:payload=_ref3.payload;_context3.prev=1;if(!payload){_context3.next=11;break;}_context3.next=5;return call(addNotification,payload);case 5:result=_context3.sent;data=get(result,\"data\",{});if(!(data.code!==201)){_context3.next=9;break;}throw data;case 9:_context3.next=11;return put(NotificationActions.onCreateSuccess(data.notification));case 11:_context3.next=17;break;case 13:_context3.prev=13;_context3.t0=_context3[\"catch\"](1);_context3.next=17;return put(NotificationActions.onCreateError(_context3.t0));case 17:case\"end\":return _context3.stop();}}},_marked3,null,[[1,13]]);}/**\n *\n * update\n */function handleUpdate(_ref4){var payload,result,data;return _regeneratorRuntime.wrap(function handleUpdate$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:payload=_ref4.payload;_context4.prev=1;_context4.next=4;return call(updateNotification,payload.id,payload.data);case 4:result=_context4.sent;data=get(result,\"data\",{});if(!(data.code!==200)){_context4.next=8;break;}throw data;case 8:_context4.next=10;return put(NotificationActions.onUpdateSuccess(data));case 10:_context4.next=12;return put(NotificationActions.onGetList(payload.params));case 12:_context4.next=14;return put(NotificationActions.onGetNewest(_objectSpread(_objectSpread({},payload.params),{},{limit:5})));case 14:_context4.next=20;break;case 16:_context4.prev=16;_context4.t0=_context4[\"catch\"](1);_context4.next=20;return put(NotificationActions.onUpdateError(_context4.t0));case 20:case\"end\":return _context4.stop();}}},_marked4,null,[[1,16]]);}function handleUpdateAll(_ref5){var payload,result,data;return _regeneratorRuntime.wrap(function handleUpdateAll$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:payload=_ref5.payload;_context5.prev=1;_context5.next=4;return call(updateAllNotifications,payload.data);case 4:result=_context5.sent;data=get(result,\"data\",{});if(!(data.code!==200)){_context5.next=8;break;}throw data;case 8:_context5.next=10;return put(NotificationActions.onUpdateAllSuccess(data));case 10:_context5.next=12;return put(NotificationActions.onGetList(payload.params));case 12:_context5.next=14;return put(NotificationActions.onGetNewest(_objectSpread(_objectSpread({},payload.params),{},{limit:5})));case 14:_context5.next=20;break;case 16:_context5.prev=16;_context5.t0=_context5[\"catch\"](1);_context5.next=20;return put(NotificationActions.onUpdateAllError(_context5.t0));case 20:case\"end\":return _context5.stop();}}},_marked5,null,[[1,16]]);}/**\n *\n * delete\n */function handleDelete(_ref6){var payload,result,data;return _regeneratorRuntime.wrap(function handleDelete$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:payload=_ref6.payload;_context6.prev=1;_context6.next=4;return call(deleteNotification,payload.id);case 4:result=_context6.sent;data=get(result,\"data\",{});if(!(data.code!==200)){_context6.next=8;break;}throw data;case 8:_context6.next=10;return put(NotificationActions.onDeleteSuccess(data));case 10:_context6.next=12;return put(NotificationActions.onGetList(payload.params));case 12:_context6.next=14;return put(NotificationActions.onGetNewest(_objectSpread(_objectSpread({},payload.params),{},{limit:5})));case 14:_context6.next=20;break;case 16:_context6.prev=16;_context6.t0=_context6[\"catch\"](1);_context6.next=20;return put(NotificationActions.onDeleteError(_context6.t0));case 20:case\"end\":return _context6.stop();}}},_marked6,null,[[1,16]]);}function handleDeleteAll(_ref7){var payload,result,data;return _regeneratorRuntime.wrap(function handleDeleteAll$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:payload=_ref7.payload;_context7.prev=1;_context7.next=4;return call(deleteAllNotifications,payload.id);case 4:result=_context7.sent;data=get(result,\"data\",{});if(!(data.code!==200)){_context7.next=8;break;}throw data;case 8:_context7.next=10;return put(NotificationActions.onDeleteAllSuccess(data));case 10:_context7.next=12;return put(NotificationActions.onGetList(payload.params));case 12:_context7.next=14;return put(NotificationActions.onGetNewest(_objectSpread(_objectSpread({},payload.params),{},{limit:5})));case 14:_context7.next=20;break;case 16:_context7.prev=16;_context7.t0=_context7[\"catch\"](1);_context7.next=20;return put(NotificationActions.onDeleteAllError(_context7.t0));case 20:case\"end\":return _context7.stop();}}},_marked7,null,[[1,16]]);}export function watchGetNewest(){return _regeneratorRuntime.wrap(function watchGetNewest$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return takeEvery(NotificationActionTypes.GET_NEWEST,handleGetNewest);case 2:case\"end\":return _context8.stop();}}},_marked8);}export function watchGetList(){return _regeneratorRuntime.wrap(function watchGetList$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return takeEvery(NotificationActionTypes.GET_LIST,handleGetList);case 2:case\"end\":return _context9.stop();}}},_marked9);}export function watchCreate(){return _regeneratorRuntime.wrap(function watchCreate$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return takeEvery(NotificationActionTypes.CREATE,handleCreate);case 2:case\"end\":return _context10.stop();}}},_marked10);}export function watchUpdate(){return _regeneratorRuntime.wrap(function watchUpdate$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return takeEvery(NotificationActionTypes.UPDATE,handleUpdate);case 2:case\"end\":return _context11.stop();}}},_marked11);}export function watchDelete(){return _regeneratorRuntime.wrap(function watchDelete$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return takeEvery(NotificationActionTypes.DELETE,handleDelete);case 2:case\"end\":return _context12.stop();}}},_marked12);}export function watchUpdateAll(){return _regeneratorRuntime.wrap(function watchUpdateAll$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return takeEvery(NotificationActionTypes.UPDATE_ALL,handleUpdateAll);case 2:case\"end\":return _context13.stop();}}},_marked13);}export function watchDeleteAll(){return _regeneratorRuntime.wrap(function watchDeleteAll$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.next=2;return takeEvery(NotificationActionTypes.DELETE_ALL,handleDeleteAll);case 2:case\"end\":return _context14.stop();}}},_marked14);}export default function rootSaga(){return _regeneratorRuntime.wrap(function rootSaga$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_context15.next=2;return all([fork(watchGetNewest),fork(watchGetList),fork(watchCreate),fork(watchUpdate),fork(watchDelete),fork(watchUpdateAll),fork(watchDeleteAll)]);case 2:case\"end\":return _context15.stop();}}},_marked15);}","map":{"version":3,"sources":["/Users/vyduong/Desktop/client/Home-ApumStore/src/redux/sagas/notification.js"],"names":["handleGetNewest","handleGetList","handleCreate","handleUpdate","handleUpdateAll","handleDelete","handleDeleteAll","watchGetNewest","watchGetList","watchCreate","watchUpdate","watchDelete","watchUpdateAll","watchDeleteAll","rootSaga","takeEvery","fork","all","call","put","get","NotificationActions","NotificationActionTypes","getAllNotifications","getNewestNotifications","addNotification","updateNotification","deleteNotification","updateAllNotifications","deleteAllNotifications","payload","result","data","code","onGetNewestSuccess","notifications","total","onGetNewestError","onGetListSuccess","onGetListError","onCreateSuccess","notification","onCreateError","id","onUpdateSuccess","onGetList","params","onGetNewest","limit","onUpdateError","onUpdateAllSuccess","onUpdateAllError","onDeleteSuccess","onDeleteError","onDeleteAllSuccess","onDeleteAllError","GET_NEWEST","GET_LIST","CREATE","UPDATE","DELETE","UPDATE_ALL","DELETE_ALL"],"mappings":"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","sourcesContent":["import { takeEvery, fork, all, call, put } from \"redux-saga/effects\";\nimport { get } from \"lodash\";\nimport NotificationActions, { NotificationActionTypes } from \"../actions/notification\";\nimport { getAllNotifications, getNewestNotifications, addNotification, updateNotification, deleteNotification, updateAllNotifications, deleteAllNotifications } from \"../apis/notification\";\n\nfunction* handleGetNewest({ payload }) {\n  try {\n    const result = yield call(getNewestNotifications, payload);\n    const data = get(result, \"data\");\n    if (data.code !== 200) throw data;\n    yield put(NotificationActions.onGetNewestSuccess(data.notifications, data.total));\n  } catch (error) {\n    yield put(NotificationActions.onGetNewestError(error));\n  }\n}\n\nfunction* handleGetList({ payload }) {\n  try {\n    const result = yield call(getAllNotifications, payload);\n    const data = get(result, \"data\");\n    if (data.code !== 200) throw data;\n    yield put(NotificationActions.onGetListSuccess(data.notifications, data.total));\n  } catch (error) {\n    yield put(NotificationActions.onGetListError(error));\n  }\n}\n\n/**\n *\n * create\n */\nfunction* handleCreate({ payload }) {\n  try {\n    if(payload){\n      const result = yield call(addNotification, payload);\n      const data = get(result, \"data\", {});\n      if (data.code !== 201) throw data;\n      yield put(NotificationActions.onCreateSuccess(data.notification));\n    }\n  } catch (error) {\n    yield put(NotificationActions.onCreateError(error));\n  }\n}\n\n/**\n *\n * update\n */\nfunction* handleUpdate({ payload }) {\n  try {\n    const result = yield call(updateNotification, payload.id, payload.data);\n    const data = get(result, \"data\", {});\n    if (data.code !== 200) throw data;\n    yield put(NotificationActions.onUpdateSuccess(data));\n    yield put(NotificationActions.onGetList(payload.params));\n    yield put(NotificationActions.onGetNewest({...payload.params, limit: 5}));\n  } catch (error) {\n    yield put(NotificationActions.onUpdateError(error));\n  }\n}\n\nfunction* handleUpdateAll({ payload }) {\n  try {\n    const result = yield call(updateAllNotifications, payload.data);\n    const data = get(result, \"data\", {});\n    if (data.code !== 200) throw data;\n    yield put(NotificationActions.onUpdateAllSuccess(data));\n    yield put(NotificationActions.onGetList(payload.params));\n    yield put(NotificationActions.onGetNewest({...payload.params, limit: 5}));\n  } catch (error) {\n    yield put(NotificationActions.onUpdateAllError(error));\n  }\n}\n\n/**\n *\n * delete\n */\nfunction* handleDelete({ payload }) {\n  try {\n    const result = yield call(deleteNotification, payload.id);\n    const data = get(result, \"data\", {});\n    if (data.code !== 200) throw data;\n    yield put(NotificationActions.onDeleteSuccess(data));\n    yield put(NotificationActions.onGetList(payload.params));\n    yield put(NotificationActions.onGetNewest({...payload.params, limit: 5}));\n  } catch (error) {\n    yield put(NotificationActions.onDeleteError(error));\n  }\n}\n\nfunction* handleDeleteAll({ payload }) {\n  try {\n    const result = yield call(deleteAllNotifications, payload.id);\n    const data = get(result, \"data\", {});\n    if (data.code !== 200) throw data;\n    yield put(NotificationActions.onDeleteAllSuccess(data));\n    yield put(NotificationActions.onGetList(payload.params));\n    yield put(NotificationActions.onGetNewest({...payload.params, limit: 5}));\n  } catch (error) {\n    yield put(NotificationActions.onDeleteAllError(error));\n  }\n}\n\nexport function* watchGetNewest() {\n  yield takeEvery(NotificationActionTypes.GET_NEWEST, handleGetNewest);\n}\nexport function* watchGetList() {\n  yield takeEvery(NotificationActionTypes.GET_LIST, handleGetList);\n}\nexport function* watchCreate() {\n  yield takeEvery(NotificationActionTypes.CREATE, handleCreate);\n}\nexport function* watchUpdate() {\n  yield takeEvery(NotificationActionTypes.UPDATE, handleUpdate);\n}\nexport function* watchDelete() {\n  yield takeEvery(NotificationActionTypes.DELETE, handleDelete);\n}\nexport function* watchUpdateAll() {\n  yield takeEvery(NotificationActionTypes.UPDATE_ALL, handleUpdateAll);\n}\nexport function* watchDeleteAll() {\n  yield takeEvery(NotificationActionTypes.DELETE_ALL, handleDeleteAll);\n}\n\nexport default function* rootSaga() {\n  yield all([\n    fork(watchGetNewest),\n    fork(watchGetList),\n    fork(watchCreate),\n    fork(watchUpdate),\n    fork(watchDelete),\n    fork(watchUpdateAll),\n    fork(watchDeleteAll),\n  ]);\n}\n"]},"metadata":{},"sourceType":"module"}