{"ast":null,"code":"var _jsxFileName = \"/Users/vyduong/Documents/HOME_ApumStoreSua/src/containers/ChangePassword/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next'; // @Functions\n\nimport { toastError } from '../../utils/toastHelper'; // @Actions\n\nimport UsersActions from '../../redux/actions/user';\n\nclass ChangePassword extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = event => {\n      var target = event.target;\n      var name = target.name;\n      var value = target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.state = {\n      oldPassword: \"\",\n      newPassword: \"\",\n      confirmPassword: \"\"\n    };\n  }\n\n  changePassword() {\n    const {\n      oldPassword,\n      newPassword,\n      confirmPassword\n    } = this.state;\n    const {\n      onChangePassword,\n      t,\n      userInfo\n    } = this.props;\n\n    if (newPassword === confirmPassword && newPassword !== null) {\n      if (userInfo.password) {\n        onChangePassword({\n          password: oldPassword,\n          new_password: newPassword\n        });\n      } else {\n        onChangePassword({\n          new_password: newPassword\n        });\n      }\n    } else {\n      toastError(t('user.password.error'));\n    }\n  }\n\n  render() {\n    const {\n      oldPassword,\n      newPassword,\n      confirmPassword\n    } = this.state;\n    const {\n      t,\n      userInfo\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      show: \"true\",\n      className: \"modal fade\",\n      id: \"passwdModal\",\n      role: \"dialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-dialog modal-dialog-centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"modal-title m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, t('user.change-password.card'))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-check form-switch\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn-close rounded-circle bg-light p-2\",\n      \"data-bs-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, userInfo.password && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, t('user.old.input'), \":\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      name: \"oldPassword\",\n      value: oldPassword,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, t('user.new.input'), \":\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      name: \"newPassword\",\n      value: newPassword,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, t('user.confirm.input'), \":\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      name: \"confirmPassword\",\n      value: confirmPassword,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-success\",\n      \"data-bs-dismiss\": \"modal\",\n      onClick: () => this.changePassword(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, t('user.save-password.button')), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-secondary\",\n      \"data-bs-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }, t('user.close.button'))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {};\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onChangePassword: data => {\n      dispatch(UsersActions.onChangePassword(data));\n    }\n  };\n};\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\nexport default compose(withConnect, withTranslation())(ChangePassword);","map":{"version":3,"sources":["/Users/vyduong/Documents/HOME_ApumStoreSua/src/containers/ChangePassword/index.js"],"names":["React","Component","connect","compose","withTranslation","toastError","UsersActions","ChangePassword","constructor","props","onChange","event","target","name","value","setState","state","oldPassword","newPassword","confirmPassword","changePassword","onChangePassword","t","userInfo","password","new_password","render","mapStateToProps","mapDispatchToProps","dispatch","data","withConnect"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {connect} from 'react-redux';\nimport {compose} from 'redux';\nimport { withTranslation } from 'react-i18next'\n\n// @Functions\nimport { toastError } from '../../utils/toastHelper';\n\n// @Actions\nimport UsersActions from '../../redux/actions/user'\n\nclass ChangePassword extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      oldPassword: \"\",\n      newPassword: \"\",\n      confirmPassword: \"\",\n    }\n  }\n\n  onChange = (event) => {\n    var target = event.target;\n    var name = target.name;\n    var value = target.value;\n    this.setState({\n      [name]: value\n    })\n  }\n\n  changePassword() {\n    const {oldPassword, newPassword, confirmPassword} = this.state;\n    const {onChangePassword, t, userInfo} = this.props\n    if(newPassword === confirmPassword && newPassword!== null) {\n      if(userInfo.password){\n        onChangePassword({\n          password: oldPassword,\n          new_password: newPassword,\n        });\n      }\n      else{\n        onChangePassword({\n          new_password: newPassword,\n        });\n      }\n    }\n    else{\n      toastError(t('user.password.error'))\n    }\n  }\n\n  \n\n  render() {\n    const {oldPassword, newPassword, confirmPassword} = this.state;\n    const {t, userInfo} = this.props;\n    return (  \n      <div show=\"true\" className=\"modal fade\" id=\"passwdModal\" role=\"dialog\" >\n        <div className=\"modal-dialog modal-dialog-centered\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <div className=\"text-center w-100\">\n                <h3 className=\"modal-title m-0\">{t('user.change-password.card')}</h3>\n              </div>\n              <div className=\"form-check form-switch\">\n                <button type=\"button\" className=\"btn-close rounded-circle bg-light p-2\" data-bs-dismiss=\"modal\"></button>\n              </div>\n            </div>\n            <div className=\"modal-body\">\n              {userInfo.password && <div className=\"form-group\">\n                <label>{t('user.old.input')}:</label>\n                <input type=\"password\" className=\"form-control\" name=\"oldPassword\" value={oldPassword} onChange={this.onChange}/>\n              </div>}\n              <div className=\"form-group\">\n                <label>{t('user.new.input')}:</label>\n                <input type=\"password\" className=\"form-control\" name=\"newPassword\" value={newPassword} onChange={this.onChange}/>\n              </div>\n              <div className=\"form-group\">\n                <label>{t('user.confirm.input')}:</label>\n                <input type=\"password\" className=\"form-control\" name=\"confirmPassword\" value={confirmPassword} onChange={this.onChange}/>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button type=\"button\" className=\"btn btn-success\" data-bs-dismiss=\"modal\" onClick={() => this.changePassword()}>{t('user.save-password.button')}</button>\n              <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">{t('user.close.button')}</button>\n            </div>\n          </div> \n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) =>{\n  return {\n\n  }\n}\n\nconst mapDispatchToProps =(dispatch)=> {\n  return {\n    onChangePassword : (data) =>{\n\t\t\tdispatch(UsersActions.onChangePassword(data))\n    },\n\t}\n};\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(\n  withConnect,\n  withTranslation()\n)(ChangePassword);"]},"metadata":{},"sourceType":"module"}