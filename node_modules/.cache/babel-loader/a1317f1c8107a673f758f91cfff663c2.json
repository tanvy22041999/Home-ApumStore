{"ast":null,"code":"var _jsxFileName = \"/Users/vyduong/Documents/HOME_ApumStoreSua/src/components/CartPage/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport ProductsActions from '../../redux/actions/products';\nimport './styles.css'; // Functions\n\nimport tryConvert from '../../utils/changeMoney';\nimport numberWithCommas from \"../../utils/formatPrice\";\nimport { toastError } from '../../utils/toastHelper';\n\nclass CartPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.checkoutOrder = () => {\n      const {\n        history,\n        checkout\n      } = this.props;\n      if (checkout.length === 0) toastError(\"Bạn chưa chọn sản phẩm checkout\");else history.push('/carts/checkout');\n    };\n\n    this.onUpdateQuantity = (product, color, quantity) => {\n      var {\n        onUpdateProductInCart\n      } = this.props;\n\n      if (quantity > 0) {\n        onUpdateProductInCart(product, color, quantity);\n      }\n    };\n\n    this.onDeleteProductInCart = (product, color) => {\n      var {\n        onDeleteProductInCart\n      } = this.props;\n      onDeleteProductInCart(product, color);\n    };\n\n    this.setCheckout = e => {\n      const {\n        checked,\n        value\n      } = e.target;\n      const {\n        onAddCheckout,\n        onDeleteCheckout\n      } = this.props;\n\n      if (checked === true) {\n        onAddCheckout(JSON.parse(value));\n      } else {\n        onDeleteCheckout(JSON.parse(value));\n      }\n    };\n\n    this.setCheckoutAll = e => {\n      const {\n        checked\n      } = e.target;\n      const {\n        cart,\n        onCheckoutAll,\n        onClearAllCheckout\n      } = this.props;\n\n      if (checked === true) {\n        onCheckoutAll(cart);\n        this.setState({\n          checkedAll: true\n        });\n      } else {\n        onClearAllCheckout();\n        this.setState({\n          checkedAll: false\n        });\n      }\n    };\n\n    this.state = {\n      total: 0,\n      totalPrice: 0,\n      checkedAll: false\n    };\n  }\n\n  UNSAFE_componentWillMount() {\n    document.title = \"[ApumStore] Trang bán hàng\";\n  }\n\n  componentDidUpdate(prevProps) {\n    var total = 0;\n    var totalPrice = 0;\n    var {\n      checkout\n    } = this.props;\n\n    if (checkout !== prevProps.checkout) {\n      for (let i = 0; i < checkout.length; i++) {\n        total = total + checkout[i].quantity;\n        totalPrice = totalPrice + checkout[i].quantity * checkout[i].product.colors.find(item => item._id === checkout[i].color).price;\n      }\n\n      this.setState({\n        total,\n        totalPrice\n      });\n    }\n  }\n\n  render() {\n    var {\n      totalPrice,\n      checkedAll\n    } = this.state;\n    var {\n      cart,\n      currency,\n      userInfo,\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container my-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 my-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"text-decoration-none directory rounded p-2\",\n      href: \"/#/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, t('header.home.menu')), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-chevron-right px-2 w-25-px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    }, t('cart.page.title'))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 my-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rounded shadow-sm my-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"px-3 py-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"mb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 15\n      }\n    }, t('common.product')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-2 border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }), cart.length > 0 ? cart.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-1 col-2 text-center align-self-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-check form-switch\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-check-input\",\n        type: \"checkbox\",\n        id: \"flexSwitchCheckDefault\",\n        checked: checkedAll || undefined,\n        disabled: checkedAll,\n        value: JSON.stringify(item),\n        onChange: e => this.setCheckout(e),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 col-7\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6 col-sm-4 col-md-3 text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"float-start\",\n        alt: item.product.name,\n        src: item.product.bigimage ? item.product.bigimage.public_url : \"http://www.pha.gov.pk/img/img-02.jpg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 27\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6 col-sm-8 col-md-9 align-self-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"font-weight-bold mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 25\n        }\n      }, item.product.name), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"mb-0 text-secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 25\n        }\n      }, t('common.color'), \" \", item.product.colors.find(i => i._id === item.color).name_en)))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-2 col-3 align-self-center text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }\n      }, currency === \"VND\" ? numberWithCommas(item.product.colors.find(i => i._id === item.color).price) : numberWithCommas(parseFloat(tryConvert(item.product.colors.find(i => i._id === item.color).price, currency, false)).toFixed(2)), \" \", currency), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-2 col-6 align-self-center text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"quantity form-inline\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"rounded-circle outline-none\",\n        onClick: () => this.onUpdateQuantity(item.product, item.color, item.quantity - 1),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-minus\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 27\n        }\n      })), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        size: \"4\",\n        className: \"form-control\",\n        value: item.quantity,\n        min: \"0\",\n        step: \"1\",\n        readOnly: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"rounded-circle outline-none\",\n        onClick: () => this.onUpdateQuantity(item.product, item.color, item.quantity + 1),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-plus\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 27\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-2 col-4 align-self-center text-right font-weight-bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }\n      }, currency === \"VND\" ? numberWithCommas(item.quantity * item.product.colors.find(i => i._id === item.color).price) : numberWithCommas(parseFloat(tryConvert(item.quantity * item.product.colors.find(i => i._id === item.color).price, currency, false)).toFixed(2)), \" \", currency), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-1 col-2 text-center align-self-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-check form-switch\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn-close rounded-circle bg-light p-2\",\n        onClick: () => this.onDeleteProductInCart(item.product, item.color),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 25\n        }\n      }))));\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row my-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center my-5 py-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h-120\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"h-100\",\n      src: \"https://deo.shopeemobile.com/shopee/shopee-pcmall-live-sg/cart/9bdd8040b334d31946f49e36beaf32db.png\",\n      alt: \"404 not found\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    }, t('header.cart.empty')))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 my-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rounded shadow-sm my-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"px-3 py-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"mb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 15\n      }\n    }, t('cart.total.table')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-2 border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 col-5 align-self-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-check form-switch\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-check-input\",\n      type: \"checkbox\",\n      id: \"flexSwitchCheckDefault\",\n      onChange: e => this.setCheckoutAll(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"form-check-label\",\n      htmlFor: \"flexSwitchCheckDefault\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 19\n      }\n    }, t('cart.all.choose')))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-7 col-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 col-6 align-self-center form-inline justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"my-0 font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 19\n      }\n    }, currency === \"VND\" ? numberWithCommas(totalPrice) : numberWithCommas(parseFloat(tryConvert(totalPrice, currency, false)).toFixed(2)), \" \", currency), userInfo ? cart[0] && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary ml-2\",\n      onClick: () => this.checkoutOrder(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 43\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-credit-card mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 121\n      }\n    }), t('cart.checkout.button')) : /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btn btn-success ml-2\",\n      href: \"/user/dang-nhap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 204\n      }\n    }, t('header.login.button')))))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    cart: state.cart,\n    checkout: state.checkout,\n    currency: state.currency,\n    userInfo: state.auth.detail\n  };\n};\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    onDeleteProductInCart: (product, color) => {\n      dispatch(ProductsActions.onDeleteProductInCart(product, color));\n    },\n    onUpdateProductInCart: (product, color, quantity) => {\n      dispatch(ProductsActions.onUpdateProductInCart(product, color, quantity));\n    },\n    onAddCheckout: payload => {\n      dispatch(ProductsActions.onAddCheckout(payload));\n    },\n    onDeleteCheckout: payload => {\n      dispatch(ProductsActions.onDeleteCheckout(payload));\n    },\n    onClearAllCheckout: () => {\n      dispatch(ProductsActions.onClearCheckout());\n    },\n    onCheckoutAll: payload => {\n      dispatch(ProductsActions.onCheckoutAll(payload));\n    }\n  };\n};\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\nexport default compose(withConnect, withTranslation())(CartPage);","map":{"version":3,"sources":["/Users/vyduong/Documents/HOME_ApumStoreSua/src/components/CartPage/index.js"],"names":["React","Component","connect","compose","withTranslation","ProductsActions","tryConvert","numberWithCommas","toastError","CartPage","constructor","props","checkoutOrder","history","checkout","length","push","onUpdateQuantity","product","color","quantity","onUpdateProductInCart","onDeleteProductInCart","setCheckout","e","checked","value","target","onAddCheckout","onDeleteCheckout","JSON","parse","setCheckoutAll","cart","onCheckoutAll","onClearAllCheckout","setState","checkedAll","state","total","totalPrice","UNSAFE_componentWillMount","document","title","componentDidUpdate","prevProps","i","colors","find","item","_id","price","render","currency","userInfo","t","map","index","undefined","stringify","name","bigimage","public_url","name_en","parseFloat","toFixed","mapStateToProps","auth","detail","mapDispatchToProps","dispatch","payload","onClearCheckout","withConnect"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {connect} from 'react-redux';\nimport {compose} from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport ProductsActions from '../../redux/actions/products';\nimport './styles.css';\n// Functions\nimport tryConvert from '../../utils/changeMoney';\nimport numberWithCommas from \"../../utils/formatPrice\";\nimport { toastError } from '../../utils/toastHelper';\n\nclass CartPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      total: 0,\n      totalPrice: 0,\n      checkedAll: false\n    }\n  }\n\n  UNSAFE_componentWillMount() {\n    document.title = \"[ApumStore] Trang bán hàng\"\n  }\n\n  componentDidUpdate(prevProps) {\n    var total = 0;\n    var totalPrice=0;\n    var {checkout} = this.props;\n    if (checkout !== prevProps.checkout) {\n      for(let i=0; i< checkout.length; i++){\n        total = total + checkout[i].quantity\n        totalPrice = totalPrice+ checkout[i].quantity* checkout[i].product.colors.find(item=> item._id === checkout[i].color).price\n      }\n      this.setState({ \n        total,\n        totalPrice\n      })\n    }\n  }\n\n  checkoutOrder = () =>{\n    const {history, checkout} = this.props;\n    if(checkout.length === 0) toastError(\"Bạn chưa chọn sản phẩm checkout\");\n    else history.push('/carts/checkout')\n  }\n\n  onUpdateQuantity = (product, color, quantity) => {\n    var {onUpdateProductInCart} = this.props;\n    if(quantity > 0){\n      onUpdateProductInCart(product,color, quantity);\n    }\n  }\n\n  onDeleteProductInCart = (product, color) => {\n    var {onDeleteProductInCart} = this.props;\n    onDeleteProductInCart(product, color);\n  }\n\n  setCheckout = (e) => {\n    const { checked, value } = e.target;\n    const { onAddCheckout, onDeleteCheckout } = this.props;\n    if(checked === true) {\n      onAddCheckout(JSON.parse(value));\n    } else {\n      onDeleteCheckout(JSON.parse(value));\n    }\n  }\n\n  setCheckoutAll = (e) => {\n    const { checked } = e.target;\n    const { cart, onCheckoutAll, onClearAllCheckout } = this.props;\n    if(checked === true) {\n      onCheckoutAll(cart);\n      this.setState({checkedAll: true})\n    } else {\n      onClearAllCheckout();\n      this.setState({checkedAll: false})\n    }\n  }\n\n  render() {\n    var { totalPrice, checkedAll } = this.state;\n    var { cart, currency, userInfo, t } = this.props;\n    return (\n    <div className=\"container my-3\">\n      <div className=\"row\">\n        <div className=\"col-12 my-2\">\n          <a className=\"text-decoration-none directory rounded p-2\" href=\"/#/\">{t('header.home.menu')}</a>\n          <i className=\"fa fa-chevron-right px-2 w-25-px\"></i>\n        </div>\n        <div className=\"col-12\">\n          <h1 className=\"font-weight-bold\">{t('cart.page.title')}</h1>\n        </div>\n        <div className=\"col-12 my-2\">\n          <div className=\"rounded shadow-sm my-2\">\n            <div className=\"px-3 py-2\">\n              <h3 className=\"mb-1\">{t('common.product')}</h3>\n              <div className=\"mb-2 border-bottom\"></div>\n              {cart.length > 0 ? cart.map((item, index) => {\n                return (\n                  <div className=\"row\" key={index}>\n                    <div className=\"col-md-1 col-2 text-center align-self-center\">\n                      <div className=\"form-check form-switch\">\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"flexSwitchCheckDefault\" checked={checkedAll || undefined} disabled={checkedAll} value={JSON.stringify(item)} onChange={(e)=>this.setCheckout(e)}/>\n                      </div>\n                    </div>\n                    <div className=\"col-md-4 col-7\">\n                      <div className=\"row\">\n                        <div className=\"col-6 col-sm-4 col-md-3 text-center\">\n                          <img className=\"float-start\" alt={item.product.name} src={item.product.bigimage ? item.product.bigimage.public_url : \"http://www.pha.gov.pk/img/img-02.jpg\"}></img>\n                        </div>\n                        <div className=\"col-6 col-sm-8 col-md-9 align-self-center\">\n                        <p className=\"font-weight-bold mb-0\">{item.product.name}</p>\n                        <p className=\"mb-0 text-secondary\">{t('common.color')} {item.product.colors.find(i => i._id === item.color).name_en}</p>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"col-md-2 col-3 align-self-center text-center\">\n                    {currency===\"VND\" \n                    ? numberWithCommas(item.product.colors.find(i => i._id === item.color).price) \n                    : numberWithCommas(parseFloat(tryConvert(item.product.colors.find(i => i._id === item.color).price, currency, false)).toFixed(2))} {currency}\n                      </div>\n                    <div className=\"col-md-2 col-6 align-self-center text-center\">\n                      <div className=\"quantity form-inline\">\n                        <button type=\"button\" className=\"rounded-circle outline-none\" onClick={() => this.onUpdateQuantity(item.product, item.color, item.quantity - 1) }>\n                          <i className=\"fa fa-minus\"></i>\n                        </button>\n                        <input type=\"number\" size=\"4\" className=\"form-control\" value={item.quantity} min=\"0\" step=\"1\" readOnly/>\n                        <button type=\"button\" className=\"rounded-circle outline-none\" onClick={() => this.onUpdateQuantity(item.product, item.color, item.quantity + 1) }>\n                          <i className=\"fa fa-plus\"></i>\n                        </button>\n                      </div>\n                    </div>\n                    <div className=\"col-md-2 col-4 align-self-center text-right font-weight-bold\">\n                    {currency===\"VND\" \n                    ? numberWithCommas(item.quantity * item.product.colors.find(i => i._id === item.color).price) \n                    : numberWithCommas(parseFloat(tryConvert(item.quantity * item.product.colors.find(i => i._id === item.color).price, currency, false)).toFixed(2))} {currency}\n                    </div>\n                    <div className=\"col-md-1 col-2 text-center align-self-center\">\n                      <div className=\"form-check form-switch\">\n                        <button type=\"button\" className=\"btn-close rounded-circle bg-light p-2\" onClick={()=> this.onDeleteProductInCart(item.product, item.color)}></button>\n                      </div>\n                    </div>\n                  </div>\n                )\n              }) : <div className=\"row my-1\">\n              <div className=\"col-12\">\n                  <div className=\"text-center my-5 py-5\">\n                    <div className=\"h-120\">\n                      <img className=\"h-100\" src=\"https://deo.shopeemobile.com/shopee/shopee-pcmall-live-sg/cart/9bdd8040b334d31946f49e36beaf32db.png\" alt=\"404 not found\"></img>\n                    </div>\n                    <h4>{t('header.cart.empty')}</h4>\n                  </div>\n                </div>\n              </div>}\n            </div>\n          </div>\n        </div>\n        <div className=\"col-12 my-2\">\n          <div className=\"rounded shadow-sm my-2\">\n            <div className=\"px-3 py-2\">\n              <h3 className=\"mb-1\">{t('cart.total.table')}</h3>\n              <div className=\"mb-2 border-bottom\"></div>\n              <div className=\"row\">\n                <div className=\"col-md-2 col-5 align-self-center\">\n                <div className=\"form-check form-switch\">\n                  <input className=\"form-check-input\" type=\"checkbox\" id=\"flexSwitchCheckDefault\" onChange={(e)=>this.setCheckoutAll(e)}/>\n                  <label className=\"form-check-label\" htmlFor=\"flexSwitchCheckDefault\">{t('cart.all.choose')}</label>\n                </div>\n                </div>\n                <div className=\"col-md-7 col-1\">\n                </div>\n                <div className=\"col-md-3 col-6 align-self-center form-inline justify-content-end\">\n                  <p className=\"my-0 font-weight-bold\">\n                  {currency===\"VND\" ? numberWithCommas(totalPrice) : numberWithCommas(parseFloat(tryConvert(totalPrice, currency, false)).toFixed(2))} {currency}\n                  </p>\n                  {userInfo ? (cart[0] && <button className=\"btn btn-primary ml-2\" onClick={() => this.checkoutOrder()}><i className=\"fa fa-credit-card mr-2\"></i>{t('cart.checkout.button')}</button>) :  <a className=\"btn btn-success ml-2\" href=\"/user/dang-nhap\">{t('header.login.button')}</a>}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    )\n  }\n}\n\n\nconst mapStateToProps = (state) =>{\n  return {\n    cart: state.cart,\n    checkout: state.checkout,\n    currency: state.currency,\n    userInfo: state.auth.detail,\n  }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    onDeleteProductInCart: (product, color) => {\n      dispatch(ProductsActions.onDeleteProductInCart(product, color))\n    },\n    onUpdateProductInCart: (product, color, quantity) => {\n      dispatch(ProductsActions.onUpdateProductInCart(product,color, quantity))\n    },\n    onAddCheckout: (payload) => {\n      dispatch(ProductsActions.onAddCheckout(payload))\n    },\n    onDeleteCheckout: (payload) => {\n      dispatch(ProductsActions.onDeleteCheckout(payload))\n    },\n    onClearAllCheckout: () => {\n      dispatch(ProductsActions.onClearCheckout());\n    },\n    onCheckoutAll: (payload) => {\n      dispatch(ProductsActions.onCheckoutAll(payload))\n    }\n  }\n}\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\nexport default compose(\n  withConnect,\n  withTranslation()\n)(CartPage);"]},"metadata":{},"sourceType":"module"}