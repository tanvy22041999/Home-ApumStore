{"ast":null,"code":"import _defineProperty from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{compose}from'redux';import{withTranslation}from'react-i18next';// @Actions\nimport OrdersActions from'../../redux/actions/order';import AddressActions from\"../../redux/actions/address\";import ProductsActions from'../../redux/actions/products';import Paypal from'./Paypal';// @Functions\nimport tryConvert from'../../utils/changeMoney';import numberWithCommas from\"../../utils/formatPrice\";import{SHIPPING_EXPRESS,SHIPPING_STANDARD}from'../../constants';import'./styles.css';// @Components\nimport ChangeExpress from'./ChangeExpress';var CheckoutPage=/*#__PURE__*/function(_Component){_inherits(CheckoutPage,_Component);var _super=_createSuper(CheckoutPage);function CheckoutPage(props){var _this;_classCallCheck(this,CheckoutPage);_this=_super.call(this,props);_this.onChange=function(event){var target=event.target;var name=target.name;var value=target.value;_this.setState(_defineProperty({},name,value));};_this.setDistrict=function(event){var _event$target=event.target,value=_event$target.value,options=_event$target.options,selectedIndex=_event$target.selectedIndex;var onGetListDistrict=_this.props.onGetListDistrict;_this.setState({cityID:value,shipping_city:options[selectedIndex].text,shipping_district:\"\"});onGetListDistrict({province_id:event.target.value});};_this.setWard=function(event){var _event$target2=event.target,options=_event$target2.options,selectedIndex=_event$target2.selectedIndex,value=_event$target2.value;var onGetListWard=_this.props.onGetListWard;var _this$state=_this.state,cityID=_this$state.cityID,service_type_id=_this$state.service_type_id,totalHeight=_this$state.totalHeight,totalLength=_this$state.totalLength,totalWeight=_this$state.totalWeight,totalWidth=_this$state.totalWidth;_this.setState({shipping_district:options[selectedIndex].text});onGetListWard(cityID,event.target.value);_this.calculateShipping(service_type_id,value,totalHeight,totalLength,totalWeight,totalWidth);};_this.setAddress=function(event){var _event$target3=event.target,options=_event$target3.options,selectedIndex=_event$target3.selectedIndex;_this.setState({shipping_ward:options[selectedIndex].text});};_this.setService=function(service_type_id){_this.setState({service_type_id:service_type_id});var _this$state2=_this.state,totalHeight=_this$state2.totalHeight,districtID=_this$state2.districtID,totalLength=_this$state2.totalLength,totalWeight=_this$state2.totalWeight,totalWidth=_this$state2.totalWidth;_this.calculateShipping(service_type_id,districtID,totalHeight,totalLength,totalWeight,totalWidth);};var cart=props.cart;_this.state={order_list:cart,shipToDifferentAddress:false,shipping_first_name:'',shipping_last_name:'',shipping_address:'',shipping_city:'',shipping_phone:'',order_comments:'',total:0,totalPrice:0,totalWeight:0,totalHeight:0,totalWidth:0,totalLength:0,payment_method:\"local\",// address\ncityID:null,districtID:null,shipping_district:\"\",shipping_ward:\"\",// shipping\nservice_type_id:\"1\"};return _this;}_createClass(CheckoutPage,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(props){var _this$state3=this.state,service_type_id=_this$state3.service_type_id,totalHeight=_this$state3.totalHeight,totalLength=_this$state3.totalLength,totalWeight=_this$state3.totalWeight,totalWidth=_this$state3.totalWidth;var _this$props=this.props,authInfo=_this$props.authInfo,onGetListDistrict=_this$props.onGetListDistrict,listCity=_this$props.listCity,listDistrict=_this$props.listDistrict,onGetListCity=_this$props.onGetListCity;if(authInfo!==props.authInfo&&authInfo===null){onGetListCity();}if(authInfo&&authInfo.address){if(listCity!==props.listCity&&props.listCity){onGetListDistrict({province_id:props.listCity.find(function(obj){return obj.ProvinceName===authInfo.address.split(', ')[3];}).ProvinceID});}if(listDistrict!==props.listDistrict&&listDistrict===null){var districtID=props.listDistrict.find(function(obj){return obj.DistrictName===authInfo.address.split(', ')[2];}).DistrictID;this.setState({districtID:districtID});this.calculateShipping(service_type_id,districtID,totalHeight,totalLength,totalWeight,totalWidth);}}}},{key:\"componentDidMount\",value:function componentDidMount(){document.title=\"[ApumStore] Trang bán hàng\";var onGetListCity=this.props.onGetListCity;var total=0;var totalPrice=0;var totalWeight=0;var totalHeight=0;var totalWidth=0;var totalLength=0;var cart=this.props.cart;var _loop=function _loop(i){total=total+cart[i].quantity;totalPrice=totalPrice+cart[i].quantity*cart[i].product.colors.find(function(item){return item.id===cart[i].color;}).price;totalWeight=totalWeight+cart[i].quantity*cart[i].product.weight;totalHeight=totalHeight+cart[i].quantity*cart[i].product.height;totalWidth=totalWidth<cart[i].product.width?cart[i].product.width:totalWidth;totalLength=totalLength<cart[i].product.width?cart[i].product.width:totalLength;};for(var i=0;i<cart.length;i++){_loop(i);}this.setState({total:total,totalPrice:totalPrice,totalWeight:totalWeight,totalHeight:totalHeight,totalWidth:totalWidth,totalLength:totalLength});onGetListCity();}},{key:\"calculateShipping\",value:function calculateShipping(service_type_id,to,height,length,weight,width){var onCalculateShipping=this.props.onCalculateShipping;var data={service_type_id:parseInt(service_type_id),insurance_value:0,coupon:null,from_district_id:1450,to_district_id:Math.round(to),height:Math.round(height),length:Math.round(length),weight:Math.round(weight),width:Math.round(width)};onCalculateShipping(data);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var _this$props2=this.props,onClearState=_this$props2.onClearState,onClearAllCheckout=_this$props2.onClearAllCheckout;onClearState();onClearAllCheckout();}},{key:\"placeOrder\",value:function placeOrder(){var _this$props3=this.props,onCreateAnOrder=_this$props3.onCreateAnOrder,authInfo=_this$props3.authInfo,ship=_this$props3.ship;var _this$state4=this.state,shipToDifferentAddress=_this$state4.shipToDifferentAddress,order_comments=_this$state4.order_comments,total=_this$state4.total,totalPrice=_this$state4.totalPrice,shipping_phone=_this$state4.shipping_phone,shipping_address=_this$state4.shipping_address,shipping_city=_this$state4.shipping_city,shipping_district=_this$state4.shipping_district,shipping_ward=_this$state4.shipping_ward,payment_method=_this$state4.payment_method,order_list=_this$state4.order_list;var data={};//3. Truyền thông tin order vào body req\nif(shipToDifferentAddress===true){data={orderList:order_list,totalPrice:totalPrice+ship.total,totalQuantity:total,shippingPhonenumber:shipping_phone,email:authInfo.email,shippingAddress:\"\".concat(shipping_address,\", \").concat(shipping_ward,\", \").concat(shipping_district,\", \").concat(shipping_city),note:order_comments,status:-1,paymentMethod:payment_method,paid:false};}else{data={orderList:order_list,totalPrice:totalPrice+ship.total,totalQuantity:total,shippingPhonenumber:authInfo.phonenumber,email:authInfo.email,shippingAddress:authInfo.address,paymentMethod:payment_method,note:order_comments,status:-1,paid:false};}onCreateAnOrder(data);}},{key:\"shipDifferentAddress\",value:function shipDifferentAddress(shipToDifferentAddress){var _this$state5=this.state,service_type_id=_this$state5.service_type_id,districtID=_this$state5.districtID,totalHeight=_this$state5.totalHeight,totalLength=_this$state5.totalLength,totalWeight=_this$state5.totalWeight,totalWidth=_this$state5.totalWidth;this.setState({shipToDifferentAddress:shipToDifferentAddress});if(shipToDifferentAddress===false){this.calculateShipping(service_type_id,districtID,totalHeight,totalLength,totalWeight,totalWidth);}}},{key:\"render\",value:function render(){var _this2=this;var _this$state6=this.state,shipToDifferentAddress=_this$state6.shipToDifferentAddress,shipping_phone=_this$state6.shipping_phone,shipping_address=_this$state6.shipping_address,shipping_first_name=_this$state6.shipping_first_name,shipping_last_name=_this$state6.shipping_last_name,order_comments=_this$state6.order_comments,payment_method=_this$state6.payment_method,totalPrice=_this$state6.totalPrice,total=_this$state6.total,order_list=_this$state6.order_list,service_type_id=_this$state6.service_type_id;var _this$props4=this.props,authInfo=_this$props4.authInfo,currency=_this$props4.currency,t=_this$props4.t,onCreateAnOrder=_this$props4.onCreateAnOrder,listCity=_this$props4.listCity,listDistrict=_this$props4.listDistrict,listWard=_this$props4.listWard,cart=_this$props4.cart,ship=_this$props4.ship;debugger;return/*#__PURE__*/React.createElement(\"div\",{className:\"container my-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 my-2\"},/*#__PURE__*/React.createElement(\"a\",{className:\"text-decoration-none directory rounded p-2\",href:\"/#/\"},t('header.home.menu')),/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-chevron-right px-2 w-25-px\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"font-weight-bold\"},t('checkout.page.title'))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"rounded shadow-sm my-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"px-3 py-2\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"mb-1\"},t('common.product')),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2 border-bottom\"}),cart.length>0?cart.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"row\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 col-sm-4 col-md-3 col-lg-2 text-center\"},/*#__PURE__*/React.createElement(\"img\",{className:\"float-start\",alt:item.product.name,src:item.product.bigimage?item.product.bigimage.publicUrl:\"http://www.pha.gov.pk/img/img-02.jpg\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 col-sm-8 col-md-9 col-lg-10 align-self-center\"},/*#__PURE__*/React.createElement(\"p\",{className:\"font-weight-bold mb-0\"},item.product.name),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 text-secondary\"},t('common.color'),\" \",item.product.colors.find(function(i){return i.id===item.color;}).nameVn)))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 align-self-center text-center\"},currency===\"VND\"?numberWithCommas(item.product.colors.find(function(i){return i.id===item.color;}).price):numberWithCommas(parseFloat(tryConvert(item.product.colors.find(function(i){return i.id===item.color;}).price,currency,false)).toFixed(2)),\" \",currency),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 align-self-center text-center\"},/*#__PURE__*/React.createElement(\"p\",{className:\"font-weight-bold rounded-circle bg-primary py-1 px-2 w-fit-content text-white m-auto\"},\"x\",item.quantity)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 align-self-center text-right font-weight-bold\"},currency===\"VND\"?numberWithCommas(item.quantity*item.product.colors.find(function(i){return i.id===item.color;}).price):numberWithCommas(parseFloat(item.quantity*tryConvert(item.product.colors.find(function(i){return i.id===item.color;}).price,currency,false)).toFixed(2)),\" \",currency));}):/*#__PURE__*/React.createElement(\"div\",{className:\"row my-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center my-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"h-120\"},/*#__PURE__*/React.createElement(\"img\",{className:\"h-100\",src:\"https://deo.shopeemobile.com/shopee/shopee-pcmall-live-sg/cart/9bdd8040b334d31946f49e36beaf32db.png\",alt:\"404 not found\"})),/*#__PURE__*/React.createElement(\"h4\",null,t('header.cart.empty'))))),/*#__PURE__*/React.createElement(\"div\",{className:\"my-2 border-bottom\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating\"},/*#__PURE__*/React.createElement(\"textarea\",{type:\"text\",className:\"form-control h-100\",name:\"order_comments\",value:order_comments,onChange:this.onChange}),/*#__PURE__*/React.createElement(\"label\",null,t('checkout.note.input')))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-md-6\"},/*#__PURE__*/React.createElement(\"h4\",null,t('checkout.express-unit.input')),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"express float-start\"},/*#__PURE__*/React.createElement(\"img\",{className:\"w-100 rounded border py-2\",src:\"https://static.ybox.vn/2020/6/1/1592759417126-ghn.png\",alt:\"\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"float-start ml-2\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0\"},\"Giao h\\xE0ng nhanh\"),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 text-secondary smaller\"},service_type_id===\"2\"?SHIPPING_EXPRESS:SHIPPING_STANDARD))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-center\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#expressModal\"},t('checkout.change.button'))),ship&&/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 text-right font-weight-bold\"},currency===\"VND\"?numberWithCommas(ship.total):numberWithCommas(parseFloat(tryConvert(ship.total,currency,false)).toFixed(2)),\" \",currency))),/*#__PURE__*/React.createElement(ChangeExpress,{service_type_id:service_type_id,setService:this.setService}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-lg-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"rounded shadow-sm mt-2 mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"px-3 py-2\"},/*#__PURE__*/React.createElement(\"h3\",null,t('common.user-detail')),authInfo&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating validate-required mb-3\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:authInfo.firstname,readOnly:true,disabled:true}),/*#__PURE__*/React.createElement(\"label\",null,t('checkout.firstname.input'),\"*\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating validate-required mb-3\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:authInfo.lastname,readOnly:true,disabled:true}),/*#__PURE__*/React.createElement(\"label\",null,t('checkout.lastname.input'),\"*\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating mb-3 validate-required\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:authInfo.address,readOnly:true,disabled:true}),/*#__PURE__*/React.createElement(\"label\",null,t('checkout.address.input'),\"*\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating mb-3 validate-required\"},/*#__PURE__*/React.createElement(\"input\",{type:\"email\",className:\"form-control\",value:authInfo.email,readOnly:true,disabled:true}),/*#__PURE__*/React.createElement(\"label\",null,\"Email*\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating mb-3 validate-required\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:authInfo.phonenumber,readOnly:true,disabled:true}),/*#__PURE__*/React.createElement(\"label\",null,t('checkout.phone.input'),\"*\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"rounded shadow-sm my-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"px-3 py-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-inline\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"w-100\"},t('checkout.shipping.label')),/*#__PURE__*/React.createElement(\"div\",{className:\"form-check form-switch float-end\"},/*#__PURE__*/React.createElement(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"flexSwitchCheckDefault\",value:shipToDifferentAddress,onChange:function onChange(){return _this2.shipDifferentAddress(!shipToDifferentAddress);}}))),shipToDifferentAddress&&/*#__PURE__*/React.createElement(\"div\",{className:\"\",style:{display:'block'}},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating mb-3\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"shipping_first_name\",placeholder:\"Nh\\u1EADp h\\u1ECD\",value:shipping_first_name,onChange:this.onChange}),/*#__PURE__*/React.createElement(\"label\",null,t('checkout.firstname.input')))),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating mb-3\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"shipping_last_name\",placeholder:\"Nh\\u1EADp t\\xEAn\",value:shipping_last_name,onChange:this.onChange}),/*#__PURE__*/React.createElement(\"label\",null,t('checkout.lastname.input'))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-12 col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating mb-3\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"shipping_address\",placeholder:\"Nh\\u1EADp \\u0111\\u1ECBa ch\\u1EC9\",value:shipping_address,onChange:this.onChange}),/*#__PURE__*/React.createElement(\"label\",null,t('checkout.address.input')))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4 col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating mb-3\"},/*#__PURE__*/React.createElement(\"select\",{className:\"form-select\",id:\"floatingSelect\",onChange:this.setDistrict,required:true},/*#__PURE__*/React.createElement(\"option\",{defaultValue:true},t('checkout.city.select')),listCity&&listCity.map(function(item,index){return/*#__PURE__*/React.createElement(\"option\",{key:index,value:item.ProvinceID,name:\"shipping_city\"},item.ProvinceName);})),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"floatingSelect\"},t('checkout.city.input')))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4 col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating mb-3\"},/*#__PURE__*/React.createElement(\"select\",{className:\"form-select\",id:\"floatingSelect\",onChange:this.setWard,required:true},/*#__PURE__*/React.createElement(\"option\",{defaultValue:true},t('checkout.district.select')),listDistrict&&listDistrict.map(function(item,index){return/*#__PURE__*/React.createElement(\"option\",{key:index,value:item.DistrictID,name:\"shipping_district\"},item.DistrictName);})),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"floatingSelect\"},t('checkout.district.input')))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4 col-md-6 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating mb-3\"},/*#__PURE__*/React.createElement(\"select\",{className:\"form-select\",id:\"floatingSelect\",onChange:this.setAddress,required:true},/*#__PURE__*/React.createElement(\"option\",{defaultValue:true},t('checkout.ward.select')),listWard&&listWard.map(function(item,index){return/*#__PURE__*/React.createElement(\"option\",{key:index,value:item.WardCode,name:\"shipping_ward\"},item.WardName);})),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"floatingSelect\"},t('checkout.ward.input'))))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-floating mb-3\"},/*#__PURE__*/React.createElement(\"input\",{type:\"tel\",className:\"form-control\",name:\"shipping_phone\",placeholder:\"Nh\\u1EADp s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",value:shipping_phone,onChange:this.onChange}),/*#__PURE__*/React.createElement(\"label\",null,t('checkout.phone.input'))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-lg-6\"},ship&&cart.length>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"rounded shadow-sm mt-2 mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"px-3 py-2\"},/*#__PURE__*/React.createElement(\"h3\",null,t('checkout.order.title')),/*#__PURE__*/React.createElement(\"div\",{id:\"order_review\",style:{position:'relative'}},/*#__PURE__*/React.createElement(\"table\",{className:\"shop_table mb-2\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"product-name\"},t('common.product')),/*#__PURE__*/React.createElement(\"th\",{className:\"product-total\"},t('cart.total.table')))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",{className:\"cart_item\"},/*#__PURE__*/React.createElement(\"td\",{className:\"product-name\"},t('checkout.total.label'),\" \",/*#__PURE__*/React.createElement(\"strong\",{className:\"product-quantity\"},\"\\xD7 \",total),\" \"),/*#__PURE__*/React.createElement(\"td\",{className:\"product-total\"},/*#__PURE__*/React.createElement(\"span\",{className:\"amount\"},currency===\"VND\"?numberWithCommas(totalPrice):numberWithCommas(parseFloat(tryConvert(totalPrice,currency,false)).toFixed(2)),\" \",currency),\" \"))),/*#__PURE__*/React.createElement(\"tfoot\",null,/*#__PURE__*/React.createElement(\"tr\",{className:\"shipping\"},/*#__PURE__*/React.createElement(\"th\",null,t('cart.ship.table')),/*#__PURE__*/React.createElement(\"td\",null,currency===\"VND\"?numberWithCommas(ship.total):numberWithCommas(parseFloat(tryConvert(ship.total,currency,false)).toFixed(2)),\" \",currency)),/*#__PURE__*/React.createElement(\"tr\",{className:\"order-total\"},/*#__PURE__*/React.createElement(\"th\",null,t('cart.order-total.table')),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"strong\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"amount\"},currency===\"VND\"?numberWithCommas(totalPrice+ship.total):numberWithCommas(parseFloat(tryConvert(totalPrice+ship.total,currency,false)).toFixed(2)),\" \",currency)),\" \"))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"rounded shadow-sm my-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"px-3 py-2\"},authInfo&&ship&&cart.length>0&&(authInfo.address||shipping_address)&&(authInfo.phonenumber||shipping_phone)&&/*#__PURE__*/React.createElement(\"div\",{id:\"payment\"},/*#__PURE__*/React.createElement(\"h3\",null,t('checkout.payment.title')),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"payment_methods methods\"},/*#__PURE__*/React.createElement(\"li\",{className:\"form-check\"},/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",value:\"local\",id:\"local\",defaultChecked:true,name:\"payment_method\",className:\"form-check-input\",onChange:this.onChange}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"local\",className:\"form-check-label\"},t('checkout.cod.button'))),/*#__PURE__*/React.createElement(\"li\",{className:\"form-check\"},/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",value:\"paypal\",id:\"paypal\",name:\"payment_method\",className:\"form-check-input\",onChange:this.onChange}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"paypal\",className:\"form-check-label\"},/*#__PURE__*/React.createElement(\"img\",{alt:\"\",className:\"w-50 rounded border p-2\",src:\"https://www.thoushallfind.com/design/public/Img/accepted-payment-methods.png\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col align-self-end\"},payment_method===\"paypal\"&&/*#__PURE__*/React.createElement(Paypal,{total_price:parseFloat(tryConvert(totalPrice+ship.total,\"USD\",false)).toFixed(2),onCreateAnOrder:onCreateAnOrder,shipToDifferentAddress:shipToDifferentAddress,shipping_address:shipping_address,shipping_phone:shipping_phone,authInfo:authInfo,total:total,order_list:order_list,note:order_comments}),payment_method===\"local\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"my-4\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary w-100\",onClick:function onClick(){return _this2.placeOrder();}},t('checkout.order.button'))))))))))))));}}]);return CheckoutPage;}(Component);var mapStateToProps=function mapStateToProps(state){return{authInfo:state.auth.detail,cart:state.checkout,currency:state.currency,listCity:state.address.city,listDistrict:state.address.district,listWard:state.address.ward,ship:state.address.ship};};var mapDispatchToProps=function mapDispatchToProps(dispatch,props){return{onCreateAnOrder:function onCreateAnOrder(data){dispatch(OrdersActions.onCreate(data));},onGetListCity:function onGetListCity(){dispatch(AddressActions.onGetCity());},onGetListDistrict:function onGetListDistrict(cityID){dispatch(AddressActions.onGetDistrict(cityID));},onCalculateShipping:function onCalculateShipping(payload){dispatch(AddressActions.onCalculateShipping(payload));},onGetListWard:function onGetListWard(cityID,districtID){dispatch(AddressActions.onGetWard(cityID,districtID));},onClearState:function onClearState(){dispatch(AddressActions.onClearState());},onClearAllCheckout:function onClearAllCheckout(){dispatch(ProductsActions.onClearCheckout());}};};var withConnect=connect(mapStateToProps,mapDispatchToProps);export default compose(withConnect,withTranslation())(CheckoutPage);","map":{"version":3,"sources":["/Users/vyduong/Desktop/client/Home-ApumStore/src/components/CheckoutPage/index.js"],"names":["React","Component","connect","compose","withTranslation","OrdersActions","AddressActions","ProductsActions","Paypal","tryConvert","numberWithCommas","SHIPPING_EXPRESS","SHIPPING_STANDARD","ChangeExpress","CheckoutPage","props","onChange","event","target","name","value","setState","setDistrict","options","selectedIndex","onGetListDistrict","cityID","shipping_city","text","shipping_district","province_id","setWard","onGetListWard","state","service_type_id","totalHeight","totalLength","totalWeight","totalWidth","calculateShipping","setAddress","shipping_ward","setService","districtID","cart","order_list","shipToDifferentAddress","shipping_first_name","shipping_last_name","shipping_address","shipping_phone","order_comments","total","totalPrice","payment_method","authInfo","listCity","listDistrict","onGetListCity","address","find","obj","ProvinceName","split","ProvinceID","DistrictName","DistrictID","document","title","i","quantity","product","colors","item","id","color","price","weight","height","width","length","to","onCalculateShipping","data","parseInt","insurance_value","coupon","from_district_id","to_district_id","Math","round","onClearState","onClearAllCheckout","onCreateAnOrder","ship","orderList","totalQuantity","shippingPhonenumber","email","shippingAddress","note","status","paymentMethod","paid","phonenumber","currency","t","listWard","map","index","bigimage","publicUrl","nameVn","parseFloat","toFixed","firstname","lastname","shipDifferentAddress","display","WardCode","WardName","position","placeOrder","mapStateToProps","auth","detail","checkout","city","district","ward","mapDispatchToProps","dispatch","onCreate","onGetCity","onGetDistrict","payload","onGetWard","onClearCheckout","withConnect"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {connect} from 'react-redux';\nimport {compose} from 'redux';\nimport { withTranslation } from 'react-i18next'\n// @Actions\nimport OrdersActions from '../../redux/actions/order'\nimport AddressActions from \"../../redux/actions/address\";\nimport ProductsActions from '../../redux/actions/products';\nimport Paypal from './Paypal';\n// @Functions\nimport tryConvert from '../../utils/changeMoney'\nimport numberWithCommas from \"../../utils/formatPrice\";\nimport { SHIPPING_EXPRESS, SHIPPING_STANDARD } from '../../constants'\nimport './styles.css'\n// @Components\nimport ChangeExpress from './ChangeExpress';\n\nclass CheckoutPage extends Component {\n  constructor(props) {\n    super(props);\n    const {cart} = props;\n    this.state = {\n      order_list: cart,\n      shipToDifferentAddress: false,\n      shipping_first_name: '',\n      shipping_last_name: '',\n      shipping_address: '',\n      shipping_city: '',\n      shipping_phone: '',\n      order_comments: '',\n      total: 0,\n      totalPrice: 0,\n      totalWeight: 0,\n      totalHeight: 0,\n      totalWidth: 0,\n      totalLength: 0,\n      payment_method: \"local\",\n      // address\n      cityID: null,\n      districtID: null,\n      shipping_district:\"\",\n      shipping_ward: \"\",\n      // shipping\n      service_type_id: \"1\",\n    }\n  }\n\n  onChange = (event) =>{\n    var target=event.target;\n    var name=target.name;\n    var value=target.value;\n    this.setState({\n      [name]:  value\n    })\n  }\n\n  componentWillReceiveProps(props){\n    const{service_type_id, totalHeight, totalLength, totalWeight, totalWidth} = this.state;\n    const {authInfo, onGetListDistrict, listCity, listDistrict, onGetListCity} = this.props;\n    if(authInfo !== props.authInfo && authInfo===null){\n      onGetListCity();\n    }\n    if(authInfo && authInfo.address){\n      if(listCity !== props.listCity && props.listCity){\n        onGetListDistrict({province_id:props.listCity.find(obj => obj.ProvinceName === authInfo.address.split(', ')[3]).ProvinceID})\n      }\n      if(listDistrict !== props.listDistrict && listDistrict===null){\n        var districtID = props.listDistrict.find(obj => obj.DistrictName === authInfo.address.split(', ')[2]).DistrictID\n        this.setState({\n          districtID\n        })\n        this.calculateShipping(service_type_id, districtID, totalHeight, totalLength, totalWeight, totalWidth)\n      }\n    }\n  }\n\n  componentDidMount() {\n    document.title = \"[ApumStore] Trang bán hàng\"\n    const {onGetListCity} = this.props;\n    var total = 0;\n    var totalPrice = 0;\n    var totalWeight = 0;\n    var totalHeight = 0;\n    var totalWidth = 0;\n    var totalLength = 0;\n    var { cart } = this.props;\n    for (let i = 0; i < cart.length; i++) {\n      total = total + cart[i].quantity;\n      totalPrice = totalPrice + cart[i].quantity * cart[i].product.colors.find(item=> item.id === cart[i].color).price;\n      totalWeight = totalWeight + cart[i].quantity * cart[i].product.weight;\n      totalHeight = totalHeight + cart[i].quantity * cart[i].product.height;\n      totalWidth = totalWidth < cart[i].product.width ? cart[i].product.width : totalWidth;\n      totalLength = totalLength < cart[i].product.width ? cart[i].product.width : totalLength\n    }\n    this.setState({\n      total,\n      totalPrice,\n      totalWeight,\n      totalHeight,\n      totalWidth,\n      totalLength\n    })\n    onGetListCity()\n  }\n  \n  calculateShipping (service_type_id, to, height, length, weight, width){\n    const {onCalculateShipping} = this.props;\n    var data = {\n      service_type_id : parseInt(service_type_id),\n      insurance_value : 0,\n      coupon: null,\n      from_district_id : 1450,\n      to_district_id : Math.round(to),\n      height: Math.round(height),\n      length: Math.round(length),\n      weight: Math.round(weight),\n      width: Math.round(width)\n    }\n    onCalculateShipping(data)\n  }\n\n  componentWillUnmount(){\n    const { onClearState, onClearAllCheckout } = this.props;\n    onClearState();\n    onClearAllCheckout();\n  }\n\n  setDistrict = (event) =>{\n    const {value, options, selectedIndex} = event.target;\n    const {onGetListDistrict} = this.props;\n    this.setState({\n      cityID: value,\n      shipping_city: options[selectedIndex].text,\n      shipping_district: \"\",\n    })\n    onGetListDistrict({province_id: event.target.value });\n  }\n\n  setWard = (event) => {\n    const {options, selectedIndex, value} = event.target;\n    const {onGetListWard} = this.props;\n    const {cityID, service_type_id, totalHeight, totalLength, totalWeight, totalWidth} = this.state;\n    this.setState({\n      shipping_district: options[selectedIndex].text,\n    })\n    onGetListWard(cityID, event.target.value);\n    this.calculateShipping(service_type_id, value, totalHeight, totalLength, totalWeight, totalWidth)\n  }\n\n  setAddress = (event) =>{\n    const {options, selectedIndex} = event.target;\n    this.setState({\n      shipping_ward: options[selectedIndex].text\n    })\n  }\n\n  setService = (service_type_id) => {\n    this.setState({\n      service_type_id\n    })\n    const {totalHeight, districtID, totalLength, totalWeight, totalWidth} = this.state\n    this.calculateShipping(service_type_id, districtID, totalHeight, totalLength, totalWeight, totalWidth)\n  }\n  \n  placeOrder(){\n    const {onCreateAnOrder, authInfo, ship} = this.props;\n    const {shipToDifferentAddress, order_comments, total, totalPrice, shipping_phone, \n      shipping_address, shipping_city, shipping_district, shipping_ward, payment_method, order_list} = this.state;\n    var data = {};\n    //3. Truyền thông tin order vào body req\n    \n    if(shipToDifferentAddress === true){\n      data = {\n        orderList: order_list,\n        totalPrice: totalPrice+ship.total,\n        totalQuantity: total,\n        shippingPhonenumber: shipping_phone,\n        email: authInfo.email,\n        shippingAddress: `${shipping_address}, ${shipping_ward}, ${shipping_district}, ${shipping_city}`,\n        note: order_comments,\n        status: -1,\n        paymentMethod: payment_method,\n        paid: false\n      }\n    }\n    else {\n      data = {\n        orderList: order_list,\n        totalPrice: totalPrice+ship.total,\n        totalQuantity: total,\n        shippingPhonenumber: authInfo.phonenumber,\n        email: authInfo.email,\n        shippingAddress: authInfo.address,\n        paymentMethod: payment_method,\n        note: order_comments,\n        status: -1,\n        paid: false\n      }\n    }\n    onCreateAnOrder(data);\n  }\n\n  shipDifferentAddress (shipToDifferentAddress) {\n    const {service_type_id, districtID, totalHeight, totalLength, totalWeight, totalWidth} = this.state;\n    this.setState({ \n      shipToDifferentAddress\n    });\n    if(shipToDifferentAddress === false){\n      this.calculateShipping(service_type_id, districtID, totalHeight, totalLength, totalWeight, totalWidth)\n    }\n  }\n\n  render() {\n    const {\n      shipToDifferentAddress, \n      shipping_phone, \n      shipping_address, \n      shipping_first_name, \n      shipping_last_name, \n      order_comments, \n      payment_method, \n      totalPrice, \n      total, \n      order_list,\n      service_type_id\n    } = this.state;\n    const {\n      authInfo, \n      currency, t, \n      onCreateAnOrder, \n      listCity, \n      listDistrict, \n      listWard, \n      cart,\n      ship\n    } = this.props;\n    debugger;\n    return (\n    <div className=\"container my-3\">\n      <div className=\"row\">\n        <div className=\"col-12 my-2\">\n          <a className=\"text-decoration-none directory rounded p-2\" href=\"/#/\">{t('header.home.menu')}</a>\n          <i className=\"fa fa-chevron-right px-2 w-25-px\"></i>\n        </div>\n        <div className=\"col-12\">\n          <h1 className=\"font-weight-bold\">{t('checkout.page.title')}</h1>\n        </div>\n        <div className=\"col-12\">\n          <form>\n            <div className=\"row\">\n              <div className=\"col-12\">\n                <div className=\"rounded shadow-sm my-2\">\n                  <div className=\"px-3 py-2\">\n                    <h3 className=\"mb-1\">{t('common.product')}</h3>\n                    <div className=\"mb-2 border-bottom\"></div>\n                    {cart.length > 0 ? cart.map((item, index) => {\n                      return (\n                        <div className=\"row\" key={index}>\n                          <div className=\"col-6\">\n                            <div className=\"row\">\n                              <div className=\"col-6 col-sm-4 col-md-3 col-lg-2 text-center\">\n                                <img className=\"float-start\" alt={item.product.name} src={item.product.bigimage ? item.product.bigimage.publicUrl : \"http://www.pha.gov.pk/img/img-02.jpg\"}></img>\n                              </div>\n                              <div className=\"col-6 col-sm-8 col-md-9 col-lg-10 align-self-center\">\n                              <p className=\"font-weight-bold mb-0\">{item.product.name}</p>\n                              <p className=\"mb-0 text-secondary\">{t('common.color')} {item.product.colors.find(i => i.id === item.color).nameVn}</p>\n                              </div>\n                            </div>\n                          </div>\n                          <div className=\"col-2 align-self-center text-center\">\n                          {currency===\"VND\" \n                          ? numberWithCommas(item.product.colors.find(i => i.id === item.color).price) \n                          : numberWithCommas(parseFloat(tryConvert(item.product.colors.find(i => i.id === item.color).price, currency, false)).toFixed(2))} {currency}\n                            </div>\n                          <div className=\"col-2 align-self-center text-center\">\n                            <p className=\"font-weight-bold rounded-circle bg-primary py-1 px-2 w-fit-content text-white m-auto\">x{item.quantity}</p>\n                          </div>\n                          <div className=\"col-2 align-self-center text-right font-weight-bold\">\n                          {currency===\"VND\" \n                          ? numberWithCommas(item.quantity * item.product.colors.find(i => i.id === item.color).price) \n                          : numberWithCommas(parseFloat(item.quantity * tryConvert(item.product.colors.find(i => i.id === item.color).price, currency, false)).toFixed(2))} {currency}\n                          </div>\n                        </div>\n                      )\n                    })\n                  : <div className=\"row my-1\">\n                  <div className=\"col-12\">\n                      <div className=\"text-center my-5\">\n                        <div className=\"h-120\">\n                          <img className=\"h-100\" src=\"https://deo.shopeemobile.com/shopee/shopee-pcmall-live-sg/cart/9bdd8040b334d31946f49e36beaf32db.png\" alt=\"404 not found\"></img>\n                        </div>\n                        <h4>{t('header.cart.empty')}</h4>\n                      </div>\n                    </div>\n                  </div>}\n                    <div className=\"my-2 border-bottom\"></div>\n                    <div className=\"row mb-3\">\n                      <div className=\"col-12 col-md-6\">\n                        <div className=\"form-floating\">\n                          <textarea type=\"text\" className=\"form-control h-100\" name=\"order_comments\" value={order_comments} onChange={this.onChange}/>\n                          <label>{t('checkout.note.input')}</label>\n                        </div>\n                      </div>\n                      <div className=\"col-12 col-md-6\">\n                        <h4>{t('checkout.express-unit.input')}</h4>\n                        <div className=\"row\">\n                          <div className=\"col-5\">\n                            <div className=\"express float-start\">\n                              <img className=\"w-100 rounded border py-2\" src=\"https://static.ybox.vn/2020/6/1/1592759417126-ghn.png\" alt=\"\"></img>\n                            </div>\n                            <div className=\"float-start ml-2\">\n                              <p className=\"mb-0\">Giao hàng nhanh</p>\n                              <p className=\"mb-0 text-secondary smaller\">{service_type_id === \"2\" ? SHIPPING_EXPRESS : SHIPPING_STANDARD}</p>\n                            </div>\n                          </div>\n                          <div className=\"col-3 text-center\">\n                            <button type=\"button\" className=\"btn btn-secondary\" data-bs-toggle=\"modal\" data-bs-target=\"#expressModal\">{t('checkout.change.button')}</button>\n                          </div>\n                          {ship && <div className=\"col-4 text-right font-weight-bold\">\n                          {currency===\"VND\" \n                          ? numberWithCommas(ship.total) \n                          : numberWithCommas(parseFloat(tryConvert(ship.total, currency, false)).toFixed(2))} {currency}\n                          </div>}\n                        </div>\n                      </div>\n                      <ChangeExpress service_type_id={service_type_id} setService={this.setService}/>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-12 col-lg-6\">\n                <div className=\"rounded shadow-sm mt-2 mb-3\">\n                  <div className=\"px-3 py-2\">\n                    <h3>{t('common.user-detail')}</h3>\n                    { authInfo && <>\n                      <div className=\"row\">\n                        <div className=\"col\">\n                          <div className=\"form-floating validate-required mb-3\">\n                            <input type=\"text\" className=\"form-control\"  value={authInfo.firstname} readOnly disabled/>\n                            <label >{t('checkout.firstname.input')}*</label>\n                          </div>\n                        </div>\n                        <div className=\"col\">\n                          <div className=\"form-floating validate-required mb-3\">\n                            <input type=\"text\" className=\"form-control\"  value={authInfo.lastname} readOnly disabled/>\n                            <label >{t('checkout.lastname.input')}*</label>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"form-floating mb-3 validate-required\">\n                        <input type=\"text\" className=\"form-control\"  value={authInfo.address} readOnly disabled/>\n                        <label >{t('checkout.address.input')}*</label>\n                      </div>\n                      <div className=\"form-floating mb-3 validate-required\">\n                        <input type=\"email\" className=\"form-control\"  value={authInfo.email} readOnly disabled/>\n                        <label >Email*</label>\n                      </div>\n                      <div className=\"form-floating mb-3 validate-required\">\n                        <input type=\"text\" className=\"form-control\"  value={authInfo.phonenumber} readOnly disabled/>\n                        <label >{t('checkout.phone.input')}*</label>\n                      </div>\n                    </>}\n                  </div>\n                </div>\n                <div className=\"rounded shadow-sm my-2\">\n                <div className=\"px-3 py-2\">\n                  <div className=\"form-inline\">\n                    <h3 className=\"w-100\">{t('checkout.shipping.label')}</h3>\n                    <div className=\"form-check form-switch float-end\">\n                      <input className=\"form-check-input\" type=\"checkbox\" id=\"flexSwitchCheckDefault\" value={shipToDifferentAddress} onChange={()=>this.shipDifferentAddress(!shipToDifferentAddress)}></input>\n                    </div>\n                  </div>\n                  {shipToDifferentAddress && <div className=\"\" style={{ display: 'block' }}>\n                    <div className=\"row\">\n                      <div className=\"col\">\n                        <div className=\"form-floating mb-3\">\n                          <input type=\"text\" className=\"form-control\"  name=\"shipping_first_name\" placeholder=\"Nhập họ\" value={shipping_first_name} onChange={this.onChange}/>\n                          <label >{t('checkout.firstname.input')}</label>\n                        </div>\n                      </div>\n                      <div className=\"col\">\n                        <div className=\"form-floating mb-3\">\n                          <input type=\"text\" className=\"form-control\"  name=\"shipping_last_name\" placeholder=\"Nhập tên\" value={shipping_last_name} onChange={this.onChange}/>\n                          <label >{t('checkout.lastname.input')}</label>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"row\">\n                      <div className=\"col-lg-12 col-md-6 col-12\">\n                        <div className=\"form-floating mb-3\">\n                        <input type=\"text\" className=\"form-control\"  name=\"shipping_address\" placeholder=\"Nhập địa chỉ\" value={shipping_address} onChange={this.onChange}/>\n                        <label >{t('checkout.address.input')}</label>\n                      </div>\n                      </div>\n                      <div className=\"col-lg-4 col-md-6 col-12\">\n                        <div className=\"form-floating mb-3\">\n                          <select className=\"form-select\"  id=\"floatingSelect\" onChange={this.setDistrict} required>\n                            <option defaultValue>{t('checkout.city.select')}</option>\n                            {listCity && listCity.map((item, index)=>{\n                                return(\n                                  <option key={index} value={item.ProvinceID} name=\"shipping_city\">{item.ProvinceName}</option>\n                                )\n                              })\n                            }\n                          </select>\n                          <label htmlFor=\"floatingSelect\">{t('checkout.city.input')}</label>\n                        </div>\n                      </div>\n                      <div className=\"col-lg-4 col-md-6 col-12\">\n                        <div className=\"form-floating mb-3\">\n                          <select className=\"form-select\"  id=\"floatingSelect\" onChange={this.setWard} required>\n                            <option defaultValue>{t('checkout.district.select')}</option>\n                            {listDistrict && listDistrict.map((item, index)=>{\n                                return(\n                                  <option key={index} value={item.DistrictID} name=\"shipping_district\">{item.DistrictName}</option>\n                                )\n                              })\n                            }\n                          </select>\n                          <label htmlFor=\"floatingSelect\">{t('checkout.district.input')}</label>\n                        </div>\n                      </div>\n                      <div className=\"col-lg-4 col-md-6 col-12\">\n                        <div className=\"form-floating mb-3\">\n                          <select className=\"form-select\"  id=\"floatingSelect\" onChange={this.setAddress} required>\n                            <option defaultValue>{t('checkout.ward.select')}</option>\n                            {listWard && listWard.map((item, index)=>{\n                              return(\n                                <option key={index} value={item.WardCode} name=\"shipping_ward\">{item.WardName}</option>\n                              )\n                              })\n                            }\n                          </select>\n                          <label htmlFor=\"floatingSelect\">{t('checkout.ward.input')}</label>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"form-floating mb-3\">\n                      <input type=\"tel\" className=\"form-control\"  name=\"shipping_phone\" placeholder=\"Nhập số điện thoại\" value={shipping_phone} onChange={this.onChange}/>\n                      <label >{t('checkout.phone.input')}</label>\n                    </div>\n                  </div>}\n                </div>\n              </div>\n            </div>\n            <div className=\"col-12 col-lg-6\">\n              {ship && cart.length > 0 && <div className=\"rounded shadow-sm mt-2 mb-3\">\n                <div className=\"px-3 py-2\">\n                  <h3>{t('checkout.order.title')}</h3>\n                  <div id=\"order_review\" style={{ position: 'relative' }}>\n                    <table className=\"shop_table mb-2\">\n                      <thead>\n                        <tr>\n                          <th className=\"product-name\">{t('common.product')}</th>\n                          <th className=\"product-total\">{t('cart.total.table')}</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr className=\"cart_item\">\n                          <td className=\"product-name\">\n                          {t('checkout.total.label')} <strong className=\"product-quantity\">× {total}</strong> </td>\n                          <td className=\"product-total\">\n                          <span className=\"amount\">{currency===\"VND\" ? numberWithCommas(totalPrice) : numberWithCommas(parseFloat(tryConvert(totalPrice, currency, false)).toFixed(2))} {currency}</span> </td>\n                        </tr>\n                      </tbody>\n                      <tfoot>\n                        <tr className=\"shipping\">\n                          <th>{t('cart.ship.table')}</th>\n                          <td>{currency===\"VND\" ? numberWithCommas(ship.total) : numberWithCommas(parseFloat(tryConvert(ship.total, currency, false)).toFixed(2))} {currency}</td>\n                        </tr>\n                        <tr className=\"order-total\">\n                          <th>{t('cart.order-total.table')}</th>\n                          <td><strong><span className=\"amount\">{currency===\"VND\" ? numberWithCommas(totalPrice + ship.total) : numberWithCommas(parseFloat(tryConvert(totalPrice + ship.total, currency, false)).toFixed(2))} {currency}</span></strong> </td>\n                        </tr>\n                      </tfoot>\n                    </table>\n                  </div>\n                </div>\n              </div>}\n              <div className=\"rounded shadow-sm my-2\">\n                <div className=\"px-3 py-2\">\n                {authInfo && ship && cart.length > 0 && (authInfo.address || shipping_address) && (authInfo.phonenumber || shipping_phone) && <div id=\"payment\">\n                  <h3>{t('checkout.payment.title')}</h3>\n                  <div className=\"row\">\n                    <div className=\"col\">\n                      <ul className=\"payment_methods methods\">\n                        <li className=\"form-check\">\n                            <input type=\"radio\" value=\"local\" id=\"local\" defaultChecked name=\"payment_method\" className=\"form-check-input\" onChange={this.onChange} />\n                            <label htmlFor=\"local\" className=\"form-check-label\">{t('checkout.cod.button')}</label>\n                          </li>\n                        <li className=\"form-check\">\n                          <input type=\"radio\" value=\"paypal\" id=\"paypal\" name=\"payment_method\" className=\"form-check-input\" onChange={this.onChange}/>\n                          <label htmlFor=\"paypal\" className=\"form-check-label\"><img alt=\"\" className=\"w-50 rounded border p-2\" src=\"https://www.thoushallfind.com/design/public/Img/accepted-payment-methods.png\"></img></label>\n                        </li>\n                      </ul>\n                    </div>\n                    <div className=\"col align-self-end\">\n                      { payment_method === \"paypal\" && <Paypal total_price={parseFloat(tryConvert(totalPrice + ship.total, \"USD\", false)).toFixed(2)} onCreateAnOrder={onCreateAnOrder} \n                      shipToDifferentAddress={shipToDifferentAddress}\n                      shipping_address={shipping_address} shipping_phone={shipping_phone} authInfo={authInfo} total={total} order_list={order_list} note={order_comments} /> }\n                      { payment_method === \"local\" && <div className=\"my-4\">\n                        <button type=\"button\" className=\"btn btn-primary w-100\" onClick={() => this.placeOrder()}>{t('checkout.order.button')}</button>\n                      </div>}\n                    </div>\n                  </div>\n                </div>}\n              </div>\n              </div>\n            </div>\n          </div>\n          </form>\n        </div>\n      </div>\n    </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) =>{\n  return {\n    authInfo: state.auth.detail,\n    cart: state.checkout,\n    currency: state.currency,\n    listCity: state.address.city,\n    listDistrict: state.address.district,\n    listWard: state.address.ward,\n    ship: state.address.ship,\n  }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    onCreateAnOrder: (data) => {\n      dispatch(OrdersActions.onCreate(data))\n    },\n    onGetListCity: () => {\n      dispatch(AddressActions.onGetCity())\n    },\n    onGetListDistrict: (cityID) => {\n      dispatch(AddressActions.onGetDistrict(cityID))\n    },\n    onCalculateShipping: (payload) => {\n      dispatch(AddressActions.onCalculateShipping(payload))\n    },\n    onGetListWard: (cityID, districtID) => {\n      dispatch(AddressActions.onGetWard(cityID, districtID))\n    },\n    onClearState: () =>{\n      dispatch(AddressActions.onClearState())\n    },\n    onClearAllCheckout: () => {\n      dispatch(ProductsActions.onClearCheckout());\n    },\n  }\n}\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(\n  withConnect,\n  withTranslation()\n)(CheckoutPage);"]},"metadata":{},"sourceType":"module"}