{"ast":null,"code":"var _jsxFileName = \"/Users/vyduong/Documents/HOME_ApumStoreSua/src/containers/ReviewDetail/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next'; // @Components\n\nimport Rating from 'react-rating';\nimport { CButton, CModal, CModalBody, CModalFooter, CModalHeader } from \"@coreui/react\"; // @Actions\n\nimport ReviewActions from '../../redux/actions/review';\n\nclass ReviewDetail extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onReview = () => {\n      const {\n        rating,\n        message\n      } = this.state;\n      const {\n        onAddReview,\n        onUpdateReview,\n        authInfo,\n        product,\n        review,\n        onCloseModal,\n        modal,\n        onClearDetail\n      } = this.props;\n      var data = {\n        content: message,\n        user: authInfo._id,\n        product: product.product,\n        rating,\n        color: product.color._id\n      };\n\n      if (review) {\n        onUpdateReview(review._id, data);\n      } else {\n        onAddReview(data);\n      }\n\n      onClearDetail();\n      onCloseModal(\"modal\", !modal);\n    };\n\n    this.onChange = event => {\n      var target = event.target;\n      var name = target.name;\n      var value = target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    const {\n      review: _review\n    } = props;\n    this.state = {\n      rating: _review ? _review.rating : 0,\n      message: _review ? _review.content : \"\"\n    };\n  }\n\n  onExit() {\n    const {\n      onCloseModal,\n      modal,\n      onClearDetail\n    } = this.props;\n    onClearDetail();\n    onCloseModal(\"modal\", !modal);\n  }\n\n  render() {\n    const {\n      modal,\n      product,\n      t\n    } = this.props;\n    const {\n      rating,\n      message\n    } = this.state;\n    return /*#__PURE__*/React.createElement(CModal, {\n      show: modal,\n      onClose: () => this.onExit(),\n      closeOnBackdrop: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(CModalHeader, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"modal-title m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, t('review.card.header')))), /*#__PURE__*/React.createElement(CModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3 h-80 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"h-100\",\n      src: product.image,\n      alt: product.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-9  align-self-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"font-weight-bold mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }, product.name), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-secondary mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    }, t('common.color'), \": \", product.color.name_vn))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"review_box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, t('review.card.h4'), \" \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"ml-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 38\n      }\n    }, /*#__PURE__*/React.createElement(Rating, {\n      initialRating: rating,\n      emptySymbol: \"fa fa-star text-secondary\",\n      fullSymbol: \"fa fa-star text-warning\",\n      onChange: rating => this.setState({\n        rating\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 61\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      className: \"form-control different-control w-100\",\n      name: \"message\",\n      value: message,\n      cols: \"30\",\n      rows: \"5\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(CModalFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CButton, {\n      color: \"primary\",\n      onClick: this.onReview,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }\n    }, t('review.submit.button')), /*#__PURE__*/React.createElement(CButton, {\n      color: \"secondary\",\n      onClick: () => this.onExit(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }\n    }, t('user.close.button'))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    authInfo: state.auth.detail\n  };\n};\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    onAddReview: data => {\n      dispatch(ReviewActions.onCreate(data));\n    },\n    onUpdateReview: (id, params) => {\n      dispatch(ReviewActions.onUpdate(id, params));\n    },\n    onClearDetail: () => {\n      dispatch(ReviewActions.onClearDetail());\n    }\n  };\n};\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\nexport default compose(withConnect, withTranslation())(ReviewDetail);","map":{"version":3,"sources":["/Users/vyduong/Documents/HOME_ApumStoreSua/src/containers/ReviewDetail/index.js"],"names":["React","Component","connect","compose","withTranslation","Rating","CButton","CModal","CModalBody","CModalFooter","CModalHeader","ReviewActions","ReviewDetail","constructor","props","onReview","rating","message","state","onAddReview","onUpdateReview","authInfo","product","review","onCloseModal","modal","onClearDetail","data","content","user","_id","color","onChange","event","target","name","value","setState","onExit","render","t","image","name_vn","mapStateToProps","auth","detail","mapDispatchToProps","dispatch","onCreate","id","params","onUpdate","withConnect"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {connect} from 'react-redux';\nimport {compose} from 'redux';\nimport { withTranslation } from 'react-i18next'\n// @Components\nimport Rating from 'react-rating'\nimport {\n  CButton,\n  CModal,\n  CModalBody,\n  CModalFooter,\n  CModalHeader,\n} from \"@coreui/react\";\n// @Actions\nimport ReviewActions from '../../redux/actions/review'\n\nclass ReviewDetail extends Component {\n  constructor(props){\n    super(props);\n    const {review} = props;\n    this.state = {\n      rating: review ? review.rating : 0,\n      message: review ? review.content : \"\"\n    }\n  }\n\n  onReview = () =>{\n    const { rating, message } = this.state;\n    const { onAddReview, onUpdateReview,  authInfo, product, review, onCloseModal, modal, onClearDetail } = this.props;\n    var data = {\n      content: message,\n      user: authInfo._id,\n      product: product.product,\n      rating,\n      color: product.color._id\n    }\n    if(review){\n      onUpdateReview(review._id, data)\n    }\n    else{\n      onAddReview(data);\n    }\n    onClearDetail();\n    onCloseModal(\"modal\", !modal)\n  }\n\n  onChange = (event) => {\n    var target = event.target;\n    var name = target.name;\n    var value = target.value;\n    this.setState({\n      [name]: value,\n    })\n  }\n\n  onExit(){\n    const {onCloseModal, modal, onClearDetail} = this.props;\n    onClearDetail();\n    onCloseModal(\"modal\", !modal)\n  }\n\n  render() {\n    const { modal, product, t } = this.props\n    const { rating, message } = this.state;\n    return (\n      <CModal show={modal} onClose={() => this.onExit()} closeOnBackdrop={false}>\n        <CModalHeader closeButton>\n          <div className=\"text-center w-100\">\n            <h3 className=\"modal-title m-0\">{t('review.card.header')}</h3>\n          </div>\n        </CModalHeader>\n        <CModalBody>\n          <div className=\"row mb-2\">\n            <div className=\"col-3 h-80 text-center\">\n              <img className=\"h-100\" src={product.image} alt={product.name}></img>\n            </div>\n            <div className=\"col-9  align-self-center\">\n              <p className=\"font-weight-bold mb-0\">{product.name}</p>\n              <p className=\"text-secondary mb-0\">{t('common.color')}: {product.color.name_vn}</p>\n            </div>\n          </div>\n          <div className=\"review_box\">\n            <p>{t('review.card.h4')} <span className=\"ml-3\"><Rating\n              initialRating={rating}\n              emptySymbol=\"fa fa-star text-secondary\"\n              fullSymbol=\"fa fa-star text-warning\"\n              onChange={(rating)=> this.setState({rating})}\n              /></span></p>\n            <div className=\"form-group\">\n              <textarea className=\"form-control different-control w-100\" name=\"message\" value={message} cols=\"30\" rows=\"5\"  onChange={this.onChange}></textarea>\n            </div>\n          </div>\n        </CModalBody>\n        <CModalFooter>\n          <CButton color=\"primary\" onClick={this.onReview}>\n            {t('review.submit.button')}\n          </CButton>\n          <CButton color=\"secondary\" onClick={() => this.onExit()}>\n            {t('user.close.button')}\n          </CButton>\n        </CModalFooter>\n      </CModal>\n    )\n  }\n}\n\nconst mapStateToProps = (state) =>{\n  return {\n    authInfo: state.auth.detail,\n  }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    onAddReview: (data) => {\n      dispatch(ReviewActions.onCreate(data));\n    },\n    onUpdateReview: (id, params) => {\n      dispatch(ReviewActions.onUpdate(id, params));\n    },\n    onClearDetail: () =>{\n      dispatch(ReviewActions.onClearDetail());\n    }\n  }\n}\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(\n  withConnect,\n  withTranslation()\n)(ReviewDetail);"]},"metadata":{},"sourceType":"module"}