{"ast":null,"code":"import _objectSpread from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withTranslation}from'react-i18next';import{connect}from'react-redux';import{compose}from'redux';import qs from\"query-string\";// @Actions\nimport CategoryActions from\"../../redux/actions/categories\";import BrandActions from\"../../redux/actions/brands\";import ProductsActions from\"../../redux/actions/products\";// @Components\nimport ProductItem from\"../../containers/ProductItem\";import Loader from'../../containers/ProductItem/ItemLoader';import Pagination from\"react-js-pagination\";// @Functions\nimport{LOCAL}from'../../constants/index';import accessoryData from'./accessory.json';import getFilterParams from\"../../utils/getFilterParams\";var AccessoryPage=/*#__PURE__*/function(_Component){_inherits(AccessoryPage,_Component);var _super=_createSuper(AccessoryPage);function AccessoryPage(props){var _this;_classCallCheck(this,AccessoryPage);_this=_super.call(this,props);_this.redirectCategory=function(category){var history=_this.props.history;history.push(\"/products/\".concat(category.pathseo,\".\").concat(category.id));};_this.onSetBrand=function(value){_this.handleUpdateFilter({brand:value,page:0});};_this.handleChangeSortPrice=function(event){_this.handleUpdateFilter({sort_p:event.target.value,page:0});};_this.handleUpdateFilter=function(data){var _this$props=_this.props,location=_this$props.location,history=_this$props.history;var pathname=location.pathname,search=location.search;var queryParams=getFilterParams(search);queryParams=_objectSpread(_objectSpread({},queryParams),data);history.push(\"\".concat(pathname,\"?\").concat(qs.stringify(queryParams)));};_this.destroyFilter=function(){var _this$props2=_this.props,location=_this$props2.location,history=_this$props2.history;var pathname=location.pathname;history.push(pathname);};var _location=props.location;var filter=getFilterParams(_location.search);_this.state={more:false,min_p:filter.min_p===null?\"\":filter.min_p,max_p:filter.max_p===null?\"\":filter.max_p,filter:{limit:20,page:0}};return _this;}_createClass(AccessoryPage,[{key:\"componentWillMount\",value:function componentWillMount(){/* FB comment plugin */window.fbAsyncInit=function(){/* eslint-disable */window.FB.init({appId:'308035613517523',xfbml:true,version:'v2.6'});FB.XFBML.parse();/* eslint-disable */};(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return;}js=d.createElement(s);js.id=id;js.src='//connect.facebook.net/en_US/sdk.js';fjs.parentNode.insertBefore(js,fjs);})(document,'script','facebook-jssdk');/* FB comment plugin */}},{key:\"componentDidMount\",value:function componentDidMount(){document.title=\"Phụ kiện | Accessories\";var _this$props3=this.props,onGetAccessory=_this$props3.onGetAccessory,onGetListBrand=_this$props3.onGetListBrand,onGetListProduct=_this$props3.onGetListProduct,location=_this$props3.location;var filter=this.state.filter;var filters=getFilterParams(location.search);var params=_objectSpread(_objectSpread({},filter),filters);onGetAccessory(_objectSpread(_objectSpread({},params),{},{accessories:1}));onGetListBrand();onGetListProduct(params);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var _this$props4=this.props,location=_this$props4.location,onGetListProduct=_this$props4.onGetListProduct;try{/*global FB*/if(FB){FB.XFBML.parse();}if(prevProps.location.search!==location.search){var filters=getFilterParams(location.search);var filter=this.state.filter;var params=_objectSpread(_objectSpread({},filter),filters);onGetListProduct(params);}}catch(err){}}},{key:\"handlePageChange\",value:// phân trang\nfunction handlePageChange(pageNumber){this.handleUpdateFilter({page:pageNumber-1});}// Chuyển router (thêm vào params) \n},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var onClearStateBrand=this.props.onClearStateBrand;onClearStateBrand();}},{key:\"render\",value:function render(){var _this2=this;var more=this.state.more;var _this$props5=this.props,t=_this$props5.t,listAccessory=_this$props5.listAccessory,totalBrand=_this$props5.totalBrand,listProducts=_this$props5.listProducts,total=_this$props5.total,location=_this$props5.location;var filter=getFilterParams(location.search);return/*#__PURE__*/React.createElement(\"div\",{className:\"container my-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 my-2\"},/*#__PURE__*/React.createElement(\"a\",{className:\"text-decoration-none directory rounded p-2\",href:\"/#/\"},t('header.home.menu')),/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-chevron-right px-2 w-25-px\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"font-weight-bold\"},t('accessory.page.title'))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 my-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"rounded shadow-sm my-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"px-3 py-2\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"mb-1\"},t('accessory.category.title')),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2 border-bottom\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},listAccessory&&listAccessory.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 col-md-2 col-xl-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"square\"},/*#__PURE__*/React.createElement(\"button\",{className:\"rounded content bg-light\",onClick:function onClick(){return _this2.redirectCategory(item);}},/*#__PURE__*/React.createElement(\"img\",{src:item.image.publicUrl,alt:\"\"}))),/*#__PURE__*/React.createElement(\"p\",{className:\"text-center font-weight-bold x-small\"},item.name));})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:filter.brand===null||filter.brand===undefined?\"rounded-pill shadow-sm bg-aqua text-dark my-2 mr-2 position-relative btn-padding\":\"rounded-pill shadow-sm bg-light text-dark my-2 mr-2 position-relative btn-padding\",onClick:function onClick(){return _this2.onSetBrand(null);}},t('common.all')),totalBrand&&totalBrand.map(function(brand,index){return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:filter.brand===brand.id.id?\"rounded-pill shadow-sm bg-aqua text-dark mr-2 my-2 position-relative btn-padding\":\"rounded-pill shadow-sm bg-light text-dark mr-2 my-2 position-relative btn-padding\",key:index,onClick:function onClick(){return _this2.onSetBrand(brand.id.id);}},/*#__PURE__*/React.createElement(\"img\",{alt:brand.id.name,style:{height:\"20px\"},src:brand.id.image&&brand.id.image.publicUrl}),/*#__PURE__*/React.createElement(\"span\",{className:\"product-count\"},brand.count));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"p\",null,t('shop.search.first'),\" \",total,\" \",t('shop.search.last'))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"select\",{value:filter.sort_p,className:\"form-select float-end w-fit-content\",onChange:this.handleChangeSortPrice},/*#__PURE__*/React.createElement(\"option\",{key:-1,value:\"0\"},t('shop.sort.price')),/*#__PURE__*/React.createElement(\"option\",{value:\"1\"},t('shop.sort.inc')),/*#__PURE__*/React.createElement(\"option\",{value:\"-1\"},t('shop.sort.des'))),location.search.length>0&&/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-light float-end shadow-sm mr-2\",onClick:function onClick(){return _this2.destroyFilter();}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-eraser mr-1\"}),t('common.clear-filter.button')))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},listProducts?listProducts.map(function(product,index){return/*#__PURE__*/React.createElement(ProductItem,{product:product,key:index});}):/*#__PURE__*/React.createElement(Loader,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"product-pagination text-center\"},/*#__PURE__*/React.createElement(\"nav\",{className:\"float-end\"},/*#__PURE__*/React.createElement(Pagination,{activePage:filter.page?parseInt(filter.page)+1:1,itemsCountPerPage:12,totalItemsCount:total?total:10,pageRangeDisplayed:3,linkClass:\"page-link\",itemClass:\"page-item\",prevPageText:t('shop.pagination.prev'),nextPageText:t('shop.pagination.next'),hideFirstLastPages:true,onChange:this.handlePageChange.bind(this)}))))),/*#__PURE__*/React.createElement(\"div\",{className:more?\"row\":\"row description\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},accessoryData.accessoryAd.map(function(item){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h3\",null,item.title),item.content.map(function(line){return/*#__PURE__*/React.createElement(\"p\",null,line);}),item.image&&/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"img\",{src:item.image,alt:\"\"})));})),!more&&/*#__PURE__*/React.createElement(\"div\",{className:\"view-more\",onClick:function onClick(){return _this2.setState({more:true});}},/*#__PURE__*/React.createElement(\"p\",null,t('common.readmore.button'),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-angle-down ml-2\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fb-comments\",\"data-href\":\"\".concat(LOCAL,\"/#/products/accessories\"),\"data-width\":\"100%\",\"data-numposts\":\"5\"}))));}}]);return AccessoryPage;}(Component);var mapStateToProps=function mapStateToProps(state){return{listAccessory:state.categories.accessories,totalBrand:state.brands.list,listProducts:state.products.list,total:state.products.total};};var mapDispatchToProps=function mapDispatchToProps(dispatch,props){return{onClearStateBrand:function onClearStateBrand(){dispatch(BrandActions.onClearState());},onGetListProduct:function onGetListProduct(params){dispatch(ProductsActions.onGetAccessory(params));},onGetAccessory:function onGetAccessory(payload){dispatch(CategoryActions.onGetAccessory(payload));},onGetListBrand:function onGetListBrand(params){dispatch(BrandActions.onGetAccessory(params));}};};var withConnect=connect(mapStateToProps,mapDispatchToProps);export default compose(withConnect,withTranslation())(AccessoryPage);","map":{"version":3,"sources":["/Users/vyduong/Desktop/client/Home-ApumStore/src/components/AccessoryPage/index.js"],"names":["React","Component","withTranslation","connect","compose","qs","CategoryActions","BrandActions","ProductsActions","ProductItem","Loader","Pagination","LOCAL","accessoryData","getFilterParams","AccessoryPage","props","redirectCategory","category","history","push","pathseo","id","onSetBrand","value","handleUpdateFilter","brand","page","handleChangeSortPrice","event","sort_p","target","data","location","pathname","search","queryParams","stringify","destroyFilter","filter","state","more","min_p","max_p","limit","window","fbAsyncInit","FB","init","appId","xfbml","version","XFBML","parse","d","s","js","fjs","getElementsByTagName","getElementById","createElement","src","parentNode","insertBefore","document","title","onGetAccessory","onGetListBrand","onGetListProduct","filters","params","accessories","prevProps","err","pageNumber","onClearStateBrand","t","listAccessory","totalBrand","listProducts","total","map","item","image","publicUrl","name","undefined","index","height","count","length","product","parseInt","handlePageChange","bind","accessoryAd","content","line","setState","mapStateToProps","categories","brands","list","products","mapDispatchToProps","dispatch","onClearState","payload","withConnect"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { withTranslation } from 'react-i18next'\nimport {connect} from 'react-redux';\nimport {compose} from 'redux';\nimport qs from \"query-string\";\n// @Actions\nimport CategoryActions from \"../../redux/actions/categories\";\nimport BrandActions from \"../../redux/actions/brands\";\nimport ProductsActions from \"../../redux/actions/products\";\n// @Components\nimport ProductItem from \"../../containers/ProductItem\"\nimport Loader from '../../containers/ProductItem/ItemLoader';\nimport Pagination from \"react-js-pagination\";\n// @Functions\nimport {LOCAL} from '../../constants/index';\nimport accessoryData from './accessory.json'\nimport getFilterParams from \"../../utils/getFilterParams\";\n\nclass AccessoryPage extends Component {\n  constructor(props){\n    super(props);\n    const {location} = props;\n    const filter = getFilterParams(location.search);\n    this.state = {\n      more: false,\n      min_p: filter.min_p ===null ? \"\" : filter.min_p,\n      max_p: filter.max_p ===null ? \"\" : filter.max_p,\n      filter: {\n        limit: 20,\n        page: 0,\n      },\n    }\n  }\n\n  componentWillMount(){\n    /* FB comment plugin */\n    window.fbAsyncInit = () => {\n      /* eslint-disable */\n      window.FB.init({\n        appId: '308035613517523',\n        xfbml: true,\n        version: 'v2.6'\n      });\n      FB.XFBML.parse();\n      /* eslint-disable */\n    };\n\n    (function(d, s, id){\n        let js, fjs = d.getElementsByTagName(s)[0];\n        if (d.getElementById(id)) {return;}\n        js = d.createElement(s); js.id = id;\n        js.src = '//connect.facebook.net/en_US/sdk.js';\n        fjs.parentNode.insertBefore(js, fjs);\n    }(document, 'script', 'facebook-jssdk'));\n    /* FB comment plugin */\n  }\n\n  componentDidMount(){\n    document.title = \"Phụ kiện | Accessories\";\n    const { onGetAccessory, onGetListBrand, onGetListProduct, location } = this.props;\n    const { filter } = this.state;\n    const filters = getFilterParams(location.search);\n    var params = {\n      ...filter,\n      ...filters\n    };\n    onGetAccessory({\n      ...params,\n      accessories : 1\n    })\n    onGetListBrand();\n    onGetListProduct(params)\n  }\n\n  componentDidUpdate(prevProps) {\n    const {location, onGetListProduct} = this.props\n    try{\n      /*global FB*/\n      if (FB) {\n        FB.XFBML.parse();\n      }\n      if (prevProps.location.search !== location.search) {\n        const filters = getFilterParams(location.search);\n        const { filter } = this.state;\n        var params = {\n          ...filter,\n          ...filters\n        };\n        onGetListProduct(params);\n      }\n    }\n    catch(err){\n    }\n  }\n\n  redirectCategory = (category) =>{\n    const {history} = this.props;\n    history.push(`/products/${category.pathseo}.${category.id}`)\n  }\n\n  // Sort with brands\n  onSetBrand = (value) => {\n    this.handleUpdateFilter({ brand: value, page: 0 });\n  }\n\n  // Sort price\n  handleChangeSortPrice = (event) =>{\n    this.handleUpdateFilter({ sort_p: event.target.value, page : 0 });\n  }\n\n  // phân trang\n  handlePageChange(pageNumber) {\n    this.handleUpdateFilter({ page: pageNumber-1 });\n  }\n\n  // Chuyển router (thêm vào params) \n  handleUpdateFilter = (data) => {\n    const {location, history} = this.props;\n    const {pathname, search} = location;\n    let queryParams = getFilterParams(search);\n    queryParams = {\n      ...queryParams,\n      ...data,\n    };\n    history.push(`${pathname}?${qs.stringify(queryParams)}`);\n  };\n\n  destroyFilter = () => {\n    const {location, history} = this.props;\n    const {pathname} = location;\n    history.push(pathname)\n  }\n\n  componentWillUnmount(){\n    const {onClearStateBrand} = this.props;\n    onClearStateBrand();\n  }\n\n  render() {\n    const { more } = this.state;\n    const { t, listAccessory, totalBrand, listProducts, total, location } = this.props;\n    const filter = getFilterParams(location.search);\n    return (\n      <div className=\"container my-3\">\n        <div className=\"row\">\n          <div className=\"col-12 my-2\">\n            <a className=\"text-decoration-none directory rounded p-2\" href=\"/#/\">{t('header.home.menu')}</a>\n            <i className=\"fa fa-chevron-right px-2 w-25-px\"></i>\n          </div>\n          <div className=\"col-12\">\n            <h1 className=\"font-weight-bold\">{t('accessory.page.title')}</h1>\n          </div>\n          <div className=\"col-12 my-2\">\n            <div className=\"rounded shadow-sm my-2\">\n              <div className=\"px-3 py-2\">\n                <h3 className=\"mb-1\">{t('accessory.category.title')}</h3>\n                <div className=\"mb-2 border-bottom\"></div>\n                <div className=\"row\">\n                  {listAccessory && listAccessory.map(item => {\n                    return (\n                    <div className=\"col-3 col-md-2 col-xl-1\">\n                      <div className=\"square\">\n                        <button className=\"rounded content bg-light\" onClick={() => this.redirectCategory(item)}>\n                        <img src={item.image.publicUrl} alt=\"\"></img>\n                        </button>\n                      </div>\n                      <p className=\"text-center font-weight-bold x-small\">{item.name}</p>\n                    </div>\n                    )\n                  })}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <button type=\"button\" \n            className={(filter.brand === null || filter.brand === undefined) ? \"rounded-pill shadow-sm bg-aqua text-dark my-2 mr-2 position-relative btn-padding\" : \"rounded-pill shadow-sm bg-light text-dark my-2 mr-2 position-relative btn-padding\"} \n            onClick={()=>this.onSetBrand(null)}>{t('common.all')}</button>\n            {totalBrand && \n            totalBrand.map((brand, index) =>{\n            return(\n              <button type=\"button\" \n              className={filter.brand === brand.id.id ? \"rounded-pill shadow-sm bg-aqua text-dark mr-2 my-2 position-relative btn-padding\" : \"rounded-pill shadow-sm bg-light text-dark mr-2 my-2 position-relative btn-padding\"} \n              key={index} onClick={()=>this.onSetBrand(brand.id.id)}>\n                <img alt={brand.id.name} style={{height: \"20px\"}} src={brand.id.image && brand.id.image.publicUrl}/>\n                <span className=\"product-count\">{brand.count}</span>\n              </button>\n            )})}\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-6\">\n            <p>{t('shop.search.first')} {total} {t('shop.search.last')}</p>\n          </div>\n          <div className=\"col-6\">\n            <select value={filter.sort_p} className=\"form-select float-end w-fit-content\" onChange={this.handleChangeSortPrice}>\n              <option key={-1} value=\"0\">{t('shop.sort.price')}</option>\n              <option value=\"1\">{t('shop.sort.inc')}</option>\n              <option value=\"-1\">{t('shop.sort.des')}</option>\n            </select>\n            {location.search.length > 0 && <button type=\"button\" className=\"btn btn-light float-end shadow-sm mr-2\" onClick={()=> this.destroyFilter()}>\n              <i className=\"fa fa-eraser mr-1\"></i>\n              {t('common.clear-filter.button')}\n            </button>}\n          </div>\n        </div>\n        <div className=\"row\">\n          {listProducts ? listProducts.map((product, index) => {\n            return (\n                <ProductItem product={product} key={index}/>\n              )\n          }) : <Loader/>}\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <div className=\"product-pagination text-center\">\n              <nav className=\"float-end\">\n              <Pagination\n                activePage={filter.page ? parseInt(filter.page)+1 : 1}\n                itemsCountPerPage={12}\n                totalItemsCount={total ? total : 10}\n                pageRangeDisplayed={3}\n                linkClass=\"page-link\"\n                itemClass=\"page-item\"\n                prevPageText={t('shop.pagination.prev')}\n                nextPageText={t('shop.pagination.next')}\n                hideFirstLastPages={true}\n                onChange={this.handlePageChange.bind(this)}\n              />\n              </nav>\n            </div>\n          </div>\n        </div>\n        <div className={ more ? \"row\" : \"row description\"}>\n          <div className=\"col-12\">\n          {accessoryData.accessoryAd.map(item => {\n            return (\n              <>\n                <h3>{item.title}</h3>\n                {item.content.map(line => {\n                  return (\n                    <p>{line}</p>\n                  )\n                })}\n                {item.image && \n                <div className=\"text-center\">\n                  <img src={item.image} alt=\"\"></img>\n                </div> }\n              </>\n            )\n          })}\n          </div>\n          {!more && <div className=\"view-more\" onClick={() => this.setState({ more: true })}>\n            <p>{t('common.readmore.button')}<span><i className=\"fa fa-angle-down ml-2\"></i></span></p>\n          </div>}\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <div className=\"fb-comments\" data-href={`${LOCAL}/#/products/accessories`} data-width=\"100%\" data-numposts=\"5\"></div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) =>{\n  return {\n    listAccessory: state.categories.accessories,\n    totalBrand: state.brands.list,\n    listProducts: state.products.list,\n    total: state.products.total,\n  }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    onClearStateBrand: () =>{\n      dispatch(BrandActions.onClearState())\n    },\n    onGetListProduct: (params) => {\n      dispatch(ProductsActions.onGetAccessory(params))\n    },\n    onGetAccessory: (payload) => {\n      dispatch(CategoryActions.onGetAccessory(payload))\n    },\n    onGetListBrand: (params) => {\n      dispatch(BrandActions.onGetAccessory(params))\n    },\n  }\n}\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(\n  withConnect,\n  withTranslation()\n)(AccessoryPage);"]},"metadata":{},"sourceType":"module"}