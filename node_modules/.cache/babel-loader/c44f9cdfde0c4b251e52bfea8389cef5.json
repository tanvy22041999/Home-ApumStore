{"ast":null,"code":"import _defineProperty from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from\"react-redux\";import{compose}from\"redux\";import{withTranslation}from\"react-i18next\";import qs from\"query-string\";// @Components\nimport ImageGalleries from'../DetailPage/ImageGalleries';import Rating from'react-rating';// @Actions\nimport ProductsActions from\"../../redux/actions/products\";import CategoryActions from\"../../redux/actions/categories\";// @Function\nimport getFilterParams from\"../../utils/getFilterParams\";import tryConvert from'../../utils/changeMoney';import numberWithCommas from\"../../utils/formatPrice\";import{toastError}from'../../utils/toastHelper';var ComparePage=/*#__PURE__*/function(_Component){_inherits(ComparePage,_Component);var _super=_createSuper(ComparePage);function ComparePage(props){var _this;_classCallCheck(this,ComparePage);_this=_super.call(this,props);_this.handleUpdateFilter=function(data){var _this$props=_this.props,location=_this$props.location,history=_this$props.history;var pathname=location.pathname,search=location.search;var queryParams=getFilterParams(search);queryParams=_objectSpread(_objectSpread({},queryParams),data);history.push(\"\".concat(pathname,\"?\").concat(qs.stringify(queryParams)));};_this.setCompare=function(productID){var _this$props2=_this.props,location=_this$props2.location,t=_this$props2.t;var filters=getFilterParams(location.search);var compareString=filters.compare||\"\";var compare=filters.compare?filters.compare.split(\",\"):[];var index=compare.findIndex(function(item){return item===productID;});if(index===-1){compare=compare.concat(productID);compareString=compare.join();}else{toastError(t(\"compare.toastify.error\"));}_this.setState({keyword:\"\"});_this.handleUpdateFilter({compare:compareString});};_this.removeCompare=function(productID){var location=_this.props.location;var filters=getFilterParams(location.search);var compareString=filters.compare;var compare=filters.compare.split(\",\");var index=compare.indexOf(productID);if(index>-1){compare.splice(index,1);compareString=compare.join();}_this.handleUpdateFilter({compare:compareString});if(compareString===\"\")window.location.reload();};_this.handleFilter=function(event){var keyword=_this.state.keyword;var _this$props3=_this.props,onCompareFilter=_this$props3.onCompareFilter,match=_this$props3.match;var target=event.target;var name=target.name;var value=target.value;_this.setState(_defineProperty({},name,value));onCompareFilter({keyword:keyword,category:match.params.categoryID});};var _location=props.location;var filter=getFilterParams(_location.search);_this.state={filter:{compare:filter.compare},keyword:\"\",specifications:[]};return _this;}_createClass(ComparePage,[{key:\"componentDidMount\",value:function componentDidMount(){document.title=\"[ApumStore] Trang bán hàng\";var _this$props4=this.props,onCompare=_this$props4.onCompare,onGetCategory=_this$props4.onGetCategory,location=_this$props4.location,match=_this$props4.match;var filter=this.state.filter;var filters=getFilterParams(location.search);var params=_objectSpread(_objectSpread({},filter),filters);onCompare(params);onGetCategory(match.params.categoryID);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var _this$props5=this.props,location=_this$props5.location,category=_this$props5.category,listProducts=_this$props5.listProducts;var filter=this.state.filter;if(prevProps.location.search!==location.search){var filters=getFilterParams(location.search);var params=_objectSpread(_objectSpread({},filter),filters);this.props.onCompare(params);}if(prevProps.category!==category&&listProducts||prevProps.listProducts!==listProducts&&category&&listProducts){var specifications=category.specifications;for(var i=0;i<specifications.length;i++){var product=[];for(var j=0;j<listProducts.length;j++){if(listProducts[j].specifications[i].selection.length>0){var selection=[];listProducts[j].specifications[i].selection.map(function(item){return selection.push(item.name);});selection=selection.join(\", \");product.push(selection);}else product.push(listProducts[j].specifications[i].value);specifications[i].product=product;}}this.setState({specifications:specifications});}}// Chuyển router (thêm vào params)\n},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,keyword=_this$state.keyword,specifications=_this$state.specifications;var _this$props6=this.props,t=_this$props6.t,listProducts=_this$props6.listProducts,category=_this$props6.category,listSearch=_this$props6.listSearch,currency=_this$props6.currency,history=_this$props6.history,language=_this$props6.language;return/*#__PURE__*/React.createElement(\"div\",{className:\"container my-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 my-2\"},/*#__PURE__*/React.createElement(\"a\",{className:\"text-decoration-none directory rounded p-2\",href:\"/#/\"},t('header.home.menu')),/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-chevron-right px-2 w-25-px \"}),category&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"a\",{className:\"text-decoration-none directory rounded p-2\",href:\"/#/products/\".concat(category.pathseo,\".\").concat(category.id)},language===\"vn\"?category.name:category.name_en),/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-chevron-right px-2 w-25-px \"}))),/*#__PURE__*/React.createElement(\"h1\",{className:\"my-0 font-weight-bold\"},t(\"compare.page.title\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"row my-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},listProducts&&listProducts.map(function(product){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\",key:product.id},/*#__PURE__*/React.createElement(\"div\",{className:\"rounded border p-2 my-2 shadow-sm form-inline\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"my-0\"},product.name),/*#__PURE__*/React.createElement(\"div\",{className:\"form-check form-switch ml-auto\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn-close rounded-circle bg-light p-2\",onClick:function onClick(){return _this2.removeCompare(product.id);}}))),/*#__PURE__*/React.createElement(ImageGalleries,{imageDetail:product.image}),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 text-center\"},/*#__PURE__*/React.createElement(\"ins\",{className:\"text-decoration-none font-weight-bold mr-2\"},currency===\"VND\"&&product.price_min?numberWithCommas(product.price_min):numberWithCommas(parseFloat(tryConvert(product.price_min,currency,false)).toFixed(2)),\" \",currency),product.real_price_min&&product.real_price_min>product.price_min&&/*#__PURE__*/React.createElement(\"del\",null,currency===\"VND\"&&product.real_price_min?numberWithCommas(product.real_price_min):numberWithCommas(parseFloat(tryConvert(product.real_price_min,currency,false)).toFixed(2)),\" \",currency)),product.stars&&/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-xl-6 text-center my-1\"},/*#__PURE__*/React.createElement(Rating,{initialRating:product.stars,emptySymbol:\"fa fa-star text-secondary\",fullSymbol:\"fa fa-star text-warning\",readonly:true}),/*#__PURE__*/React.createElement(\"span\",{className:\"ml-2 text-secondary font-size-12\"},product.reviewCount,\" \",t('common.review'))),/*#__PURE__*/React.createElement(\"div\",{className:product.stars?\"col-12 col-xl-6\":\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary w-100\",onClick:function onClick(){history.push(\"/product/\".concat(product.pathseo,\".\").concat(product.id));}},t(\"common.detail.button\")))));}),listProducts&&listProducts.length<3&&/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"rounded border p-2 my-2 shadow-sm form-inline\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group w-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"position-relative w-100\"},/*#__PURE__*/React.createElement(\"input\",{className:\"form-control w-100\",type:\"text\",placeholder:t(\"compare.placeholder.input\"),value:keyword,name:\"keyword\",onChange:this.handleFilter}),listSearch&&keyword&&/*#__PURE__*/React.createElement(\"div\",{className:\"card position-absolute w-100 shadow-sm py-2\",style:{zIndex:1}},/*#__PURE__*/React.createElement(React.Fragment,null,listSearch.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\" directory rounded p-2 mx-2\",key:index,onClick:function onClick(){return _this2.setCompare(item.id);}},/*#__PURE__*/React.createElement(\"div\",{className:\"row text-dark text-decoration-none\",style:{height:\"60px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"col-xl-3 my-auto d-none d-xl-block\"},/*#__PURE__*/React.createElement(\"img\",{style:{height:\"60px\"},src:item.bigimage.publicUrl,alt:item.name})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-xl-9 text-left my-auto\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0\"},item.name),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 smaller text-secondary\"},currency===\"VND\"?item.price_min:parseFloat(tryConvert(item.price_min,currency,false)).toFixed(2),\" \",currency))));})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"my-5 py-4 text-center\"},/*#__PURE__*/React.createElement(\"img\",{className:\"w-50 my-3\",src:\"https://cdn.cellphones.com.vn/media/icon/icon-phtb-2.png\",alt:\"\"}),/*#__PURE__*/React.createElement(\"h4\",{className:\"my-3\"},t(\"compare.not-yet.h4\"))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 my-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"shadow-sm rounded\"},/*#__PURE__*/React.createElement(\"div\",{className:\"px-3 py-2\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"mb-1\"},t(\"compare.primary.h3\")),/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"tbody\",null,specifications.map(function(item){return/*#__PURE__*/React.createElement(\"tr\",{key:item.id},/*#__PURE__*/React.createElement(\"th\",{colSpan:\"1\",style:{width:\"16%\"}},item.name),item.product&&item.product.length>0&&item.product.map(function(element,index){return/*#__PURE__*/React.createElement(\"td\",{colSpan:\"1\",style:{width:\"28%\"},key:index},element.length>0?element:t(\"common.update.label\"));}),item.product&&item.product.length!==3&&Array.from({length:3-item.product.length},function(_,k){return/*#__PURE__*/React.createElement(\"td\",{key:k,colSpan:\"1\",style:{width:\"28%\"}});}));})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 my-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"shadow-sm rounded\"},/*#__PURE__*/React.createElement(\"div\",{className:\"px-3 py-2\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"mb-1\"},t(\"compare.secondary.h3\")),/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},listProducts&&/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{colSpan:\"1\",style:{width:\"16%\"}},t(\"detail.warranty.label\")),listProducts.map(function(item){return/*#__PURE__*/React.createElement(\"td\",{colSpan:\"1\",style:{width:\"28%\"}},item?item.warrently||t(\"common.update.label\"):\"\");}),listProducts.length!==3&&Array.from({length:3-listProducts.length},function(_,k){return/*#__PURE__*/React.createElement(\"td\",{key:k,colSpan:\"1\",style:{width:\"28%\"}});})),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{colSpan:\"1\",style:{width:\"16%\"}},t(\"detail.included.label\")),listProducts.map(function(item){return/*#__PURE__*/React.createElement(\"td\",{colSpan:\"1\",style:{width:\"28%\"}},item?item.included||t(\"common.update.label\"):\"\");}),listProducts.length!==3&&Array.from({length:3-listProducts.length},function(_,k){return/*#__PURE__*/React.createElement(\"td\",{key:k,colSpan:\"1\",style:{width:\"28%\"}});})),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{colSpan:\"1\",style:{width:\"16%\"}},t(\"detail.size.label\"),\" (cm)\"),listProducts.map(function(item){return/*#__PURE__*/React.createElement(\"td\",{colSpan:\"1\",style:{width:\"28%\"}},item?item.height&&item.length&&item.width?\"\".concat(item.height,\" - \").concat(item.length,\" - \").concat(item.width):t(\"common.update.label\"):\"\");}),listProducts.length!==3&&Array.from({length:3-listProducts.length},function(_,k){return/*#__PURE__*/React.createElement(\"td\",{key:k,colSpan:\"1\",style:{width:\"28%\"}});})),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{colSpan:\"1\",style:{width:\"16%\"}},t(\"detail.weight.label\"),\" (g)\"),listProducts.map(function(item){return/*#__PURE__*/React.createElement(\"td\",{colSpan:\"1\",style:{width:\"28%\"}},item?item.weight||t(\"common.update.label\"):\"\");}),listProducts.length!==3&&Array.from({length:3-listProducts.length},function(_,k){return/*#__PURE__*/React.createElement(\"td\",{key:k,colSpan:\"1\",style:{width:\"28%\"}});})))))))));}}]);return ComparePage;}(Component);var mapStateToProps=function mapStateToProps(state){return{language:state.language,listProducts:state.products.list,currency:state.currency,category:state.categories.detail,listSearch:state.products.compare};};var mapDispatchToProps=function mapDispatchToProps(dispatch,props){return{onCompare:function onCompare(params){dispatch(ProductsActions.onCompare(params));},onGetCategory:function onGetCategory(id){dispatch(CategoryActions.onGetDetail(id));},onCompareFilter:function onCompareFilter(payload){dispatch(ProductsActions.onCompareFilter(payload));}};};var withConnect=connect(mapStateToProps,mapDispatchToProps);export default compose(withConnect,withTranslation())(ComparePage);","map":{"version":3,"sources":["/Users/vyduong/Desktop/client/Home-ApumStore/src/components/ComparePage/index.js"],"names":["React","Component","connect","compose","withTranslation","qs","ImageGalleries","Rating","ProductsActions","CategoryActions","getFilterParams","tryConvert","numberWithCommas","toastError","ComparePage","props","handleUpdateFilter","data","location","history","pathname","search","queryParams","push","stringify","setCompare","productID","t","filters","compareString","compare","split","index","findIndex","item","concat","join","setState","keyword","removeCompare","indexOf","splice","window","reload","handleFilter","event","state","onCompareFilter","match","target","name","value","category","params","categoryID","filter","specifications","document","title","onCompare","onGetCategory","prevProps","listProducts","i","length","product","j","selection","map","listSearch","currency","language","pathseo","id","name_en","image","price_min","parseFloat","toFixed","real_price_min","stars","reviewCount","zIndex","height","bigimage","publicUrl","width","element","Array","from","_","k","warrently","included","weight","mapStateToProps","products","list","categories","detail","mapDispatchToProps","dispatch","onGetDetail","payload","withConnect"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { withTranslation } from \"react-i18next\";\nimport qs from \"query-string\";\n// @Components\nimport ImageGalleries from '../DetailPage/ImageGalleries';\nimport Rating from 'react-rating'\n// @Actions\nimport ProductsActions from \"../../redux/actions/products\";\nimport CategoryActions from \"../../redux/actions/categories\";\n// @Function\nimport getFilterParams from \"../../utils/getFilterParams\";\nimport tryConvert from '../../utils/changeMoney'\nimport numberWithCommas from \"../../utils/formatPrice\";\nimport { toastError } from '../../utils/toastHelper';\n\nclass ComparePage extends Component {\n  constructor(props){\n    super(props);\n    const {location} = props;\n    const filter = getFilterParams(location.search);\n    this.state = {\n      filter: {\n        compare: filter.compare,\n      },\n      keyword: \"\",\n      specifications: []\n    }\n  }\n\n  componentDidMount() {\n    document.title = \"[ApumStore] Trang bán hàng\"\n    const { onCompare, onGetCategory, location, match } = this.props;\n    const { filter } = this.state;\n    const filters = getFilterParams(location.search);\n    var params = {\n      ...filter,\n      ...filters\n    };\n    onCompare(params);\n    onGetCategory(match.params.categoryID);\n  }\n\n  componentDidUpdate(prevProps) {\n    const { location, category, listProducts } = this.props;\n    const { filter } = this.state;\n    if (prevProps.location.search !== location.search) {\n      const filters = getFilterParams(location.search);\n      var params = {\n        ...filter,\n        ...filters\n      };\n      this.props.onCompare(params);\n    }\n    if ((prevProps.category !== category && listProducts) || (prevProps.listProducts !== listProducts && category && listProducts)) {\n      var specifications = category.specifications;\n      for(let i = 0; i < specifications.length; i++){\n        var product = [];\n        for(let j = 0; j < listProducts.length; j++){\n          if(listProducts[j].specifications[i].selection.length > 0){\n            var selection = []\n            listProducts[j].specifications[i].selection.map(item => selection.push(item.name))\n            selection = selection.join(\", \");\n            product.push(selection)\n          }\n          else product.push(listProducts[j].specifications[i].value)\n          specifications[i].product = product;\n        }\n      }\n      this.setState({specifications})\n    }\n  }\n\n  // Chuyển router (thêm vào params)\n  handleUpdateFilter = (data) => {\n    const {location, history} = this.props;\n    const {pathname, search} = location;\n    let queryParams = getFilterParams(search);\n    queryParams = {\n      ...queryParams,\n      ...data,\n    };\n    history.push(`${pathname}?${qs.stringify(queryParams)}`);\n  };\n\n  setCompare = (productID) => {\n    const { location, t } = this.props;\n    const filters = getFilterParams(location.search);\n    var compareString = filters.compare || \"\" ;\n    var compare = filters.compare ? filters.compare.split(\",\") : [];\n    const index = compare.findIndex(item => item === productID)\n    if(index === -1){\n      compare = compare.concat(productID);\n      compareString = compare.join()\n    }\n    else {\n      toastError(t(\"compare.toastify.error\"))\n    }\n    this.setState({ keyword: \"\" })\n    this.handleUpdateFilter({ compare: compareString });\n  }\n\n  removeCompare = (productID) => {\n    const { location } = this.props;\n    const filters = getFilterParams(location.search);\n    var compareString = filters.compare;\n    var compare = filters.compare.split(\",\");\n    const index = compare.indexOf(productID)\n    if(index > -1){\n      compare.splice(index, 1);\n      compareString = compare.join()\n    }\n    this.handleUpdateFilter({ compare: compareString });\n    if(compareString === \"\") window.location.reload()\n  }\n\n  handleFilter = (event) => {\n    const { keyword } = this.state;\n    const { onCompareFilter, match } = this.props;\n\t\tvar target=event.target;\n    var name=target.name;\n    var value=target.value;\n    this.setState({\n      [name]: value\n    })\n    onCompareFilter({\n      keyword,\n      category: match.params.categoryID\n    });\n\t}\n\n  render() {\n    const { keyword, specifications } = this.state;\n    const { t, listProducts, category, listSearch, currency, history, language } = this.props;\n    return (\n      <div className=\"container my-3\">\n        <div className=\"row\">\n          <div className=\"col-12 my-2\">\n            <a className=\"text-decoration-none directory rounded p-2\" href=\"/#/\">{t('header.home.menu')}</a>\n            <i className=\"fa fa-chevron-right px-2 w-25-px \"></i>\n            {category && <>\n            <a className=\"text-decoration-none directory rounded p-2\" href={`/#/products/${category.pathseo}.${category.id}`}>{language===\"vn\" ? category.name : category.name_en}</a>\n            <i className=\"fa fa-chevron-right px-2 w-25-px \"></i></>}\n          </div>\n          <h1 className=\"my-0 font-weight-bold\">{t(\"compare.page.title\")}</h1>\n        </div>\n        <div className=\"row my-3\">\n          <div className=\"col-2\">\n            \n          </div>\n          <div className=\"col-10\">\n            <div className=\"row\">\n              {listProducts && listProducts.map(product => {\n                return (\n                  <div className=\"col-4\" key={product.id}>\n                    <div className=\"rounded border p-2 my-2 shadow-sm form-inline\">\n                      <h3 className=\"my-0\">{product.name}</h3>\n                      <div className=\"form-check form-switch ml-auto\">\n                        <button type=\"button\" className=\"btn-close rounded-circle bg-light p-2\" onClick={()=> this.removeCompare(product.id)}></button>\n                      </div>\n                    </div>\n                    <ImageGalleries imageDetail={product.image}/>\n                    <div className=\"row\">\n                      <div className=\"col-12 text-center\">\n                      <ins className=\"text-decoration-none font-weight-bold mr-2\">\n                        {currency === \"VND\" && product.price_min \n                          ? numberWithCommas(product.price_min)\n                          : numberWithCommas(\n                              parseFloat(\n                                tryConvert(product.price_min, currency, false)\n                              ).toFixed(2)\n                            )}{\" \"}\n                        {currency}\n                      </ins>\n                      {product.real_price_min && product.real_price_min > product.price_min && <del>\n                        {currency === \"VND\" && product.real_price_min \n                          ? numberWithCommas(product.real_price_min)\n                          : numberWithCommas(\n                              parseFloat(\n                                tryConvert(product.real_price_min, currency, false)\n                              ).toFixed(2)\n                            )}{\" \"}\n                        {currency}\n                      </del>}\n                      </div>\n                      {product.stars &&<div className=\"col-12 col-xl-6 text-center my-1\"><Rating\n                          initialRating={product.stars}\n                          emptySymbol=\"fa fa-star text-secondary\"\n                          fullSymbol=\"fa fa-star text-warning\"\n                          readonly\n                        /><span className=\"ml-2 text-secondary font-size-12\">{product.reviewCount} {t('common.review')}</span></div>}\n                      <div className={product.stars ? \"col-12 col-xl-6\" : \"col-12\"}>\n                        <button type=\"button\" className=\"btn btn-primary w-100\" onClick={() => {history.push(`/product/${product.pathseo}.${product.id}`)}}>{t(\"common.detail.button\")}</button>\n                      </div>\n                    </div>\n                  </div>\n                )\n              })\n              }\n              {listProducts && listProducts.length <3 && <div className=\"col-4\">\n                <div className=\"rounded border p-2 my-2 shadow-sm form-inline\">\n                  <div className=\"form-group w-100\">\n                    <div className=\"position-relative w-100\">\n                      <input className=\"form-control w-100\" type=\"text\" placeholder={t(\"compare.placeholder.input\")} value={keyword} name=\"keyword\" \n                      onChange={this.handleFilter}/>\n                      {listSearch && keyword &&<div className=\"card position-absolute w-100 shadow-sm py-2\" style={{ zIndex: 1}}>\n                       <>{listSearch.map((item, index) =>{\n                        return (\n                          <div className=\" directory rounded p-2 mx-2\" key={index} onClick={()=> this.setCompare(item.id)}>\n                            <div className=\"row text-dark text-decoration-none\" style={{height: \"60px\"}}>\n                              <div className=\"col-xl-3 my-auto d-none d-xl-block\">\n                                <img style={{height: \"60px\"}} src={item.bigimage.publicUrl} alt={item.name}></img>\n                              </div>\n                              <div className=\"col-12 col-xl-9 text-left my-auto\">\n                                <p className=\"mb-0\">{item.name}</p>\n                                <p className=\"mb-0 smaller text-secondary\">{currency===\"VND\" ? item.price_min : parseFloat(tryConvert(item.price_min, currency, false)).toFixed(2)} {currency}</p>\n                              </div>\n                            </div>\n                          </div>\n                        )\n                      })}</>\n                      </div>}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"my-5 py-4 text-center\">\n                  <img className=\"w-50 my-3\" src=\"https://cdn.cellphones.com.vn/media/icon/icon-phtb-2.png\" alt=\"\"></img>\n                  <h4 className=\"my-3\">{t(\"compare.not-yet.h4\")}</h4>\n                </div>\n              </div>}\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12 my-2\">\n            <div className=\"shadow-sm rounded\">\n              <div className=\"px-3 py-2\">\n                <h3 className=\"mb-1\">{t(\"compare.primary.h3\")}</h3>\n                <table className=\"table\">\n                <tbody>\n                  {specifications.map(item => {\n                    return(\n                    <tr key={item.id}>\n                      <th colSpan=\"1\" style={{width: \"16%\"}}>{item.name}</th>\n                      {item.product && item.product.length > 0 && item.product.map((element, index) => {\n                        return (\n                          <td colSpan=\"1\" style={{width: \"28%\"}} key={index}>{element.length > 0 ? element : t(\"common.update.label\")}</td>\n                        )\n                      })}\n                      {item.product && item.product.length !== 3 && Array.from({ length: 3 - item.product.length }, (_, k) => (<td key={k} colSpan=\"1\" style={{width: \"28%\"}}></td>))}\n                    </tr>\n                    )\n                  })}\n                </tbody>\n              </table>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-12 my-2\">\n            <div className=\"shadow-sm rounded\">\n              <div className=\"px-3 py-2\">\n                <h3 className=\"mb-1\">{t(\"compare.secondary.h3\")}</h3>\n                <table className=\"table\">\n                {listProducts && <tbody>\n                  <tr>\n                    <th colSpan=\"1\" style={{width: \"16%\"}}>{t(\"detail.warranty.label\")}</th>\n                    {listProducts.map(item => {\n                      return(\n                        <td colSpan=\"1\" style={{width: \"28%\"}}>{item ? (item.warrently || t(\"common.update.label\")) : \"\"}</td>\n                      )\n                    })}\n                    {listProducts.length !== 3 && Array.from({ length: 3 - listProducts.length }, (_, k) => (<td key={k} colSpan=\"1\" style={{width: \"28%\"}}></td>))}\n                  </tr>\n                  <tr>\n                    <th colSpan=\"1\" style={{width: \"16%\"}}>{t(\"detail.included.label\")}</th>\n                    {listProducts.map(item => {\n                      return(\n                        <td colSpan=\"1\" style={{width: \"28%\"}}>{item ? (item.included || t(\"common.update.label\")) : \"\"}</td>\n                      )\n                    })}\n                    {listProducts.length !== 3 && Array.from({ length: 3 - listProducts.length }, (_, k) => (<td key={k} colSpan=\"1\" style={{width: \"28%\"}}></td>))}\n                  </tr>\n                  <tr>\n                    <th colSpan=\"1\" style={{width: \"16%\"}}>{t(\"detail.size.label\")} (cm)</th>\n                    {listProducts.map(item => {\n                      return(\n                        <td colSpan=\"1\" style={{width: \"28%\"}}>{item ? (item.height && item.length && item.width ? `${item.height} - ${item.length} - ${item.width}` : t(\"common.update.label\")) : \"\"}</td>\n                      )\n                    })}\n                    {listProducts.length !== 3 && Array.from({ length: 3 - listProducts.length }, (_, k) => (<td key={k} colSpan=\"1\" style={{width: \"28%\"}}></td>))}\n                  </tr>\n                  <tr>\n                    <th colSpan=\"1\" style={{width: \"16%\"}}>{t(\"detail.weight.label\")} (g)</th>\n                    {listProducts.map(item => {\n                      return(\n                        <td colSpan=\"1\" style={{width: \"28%\"}}>{item ? (item.weight || t(\"common.update.label\")) : \"\"}</td>\n                      )\n                    })}\n                    {listProducts.length !== 3 && Array.from({ length: 3 - listProducts.length }, (_, k) => (<td key={k} colSpan=\"1\" style={{width: \"28%\"}}></td>))}\n                  </tr>\n                </tbody>}\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    language: state.language,\n    listProducts: state.products.list,\n    currency: state.currency,\n    category : state.categories.detail,\n    listSearch: state.products.compare,\n  };\n};\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    onCompare: (params) => {\n      dispatch(ProductsActions.onCompare(params))\n    },\n    onGetCategory: (id) => {\n      dispatch(CategoryActions.onGetDetail(id))\n    },\n    onCompareFilter: (payload) => {\n      dispatch(ProductsActions.onCompareFilter(payload));\n    },\n  };\n};\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\nexport default compose(withConnect, withTranslation())(ComparePage)"]},"metadata":{},"sourceType":"module"}