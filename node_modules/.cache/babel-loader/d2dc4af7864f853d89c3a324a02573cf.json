{"ast":null,"code":"import _objectSpread from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import axios from'axios';import _ from\"lodash\";var AxiosService=/*#__PURE__*/function(){function AxiosService(){var _this=this;_classCallCheck(this,AxiosService);this.changeHeaders=function(headers){if(typeof headers===\"undefined\"){return;}var defaultHeaders=_.get(_this.instance,\"defaults.headers\");var cleanHeaders=_.omitBy(// xóa đi những header empty\n_objectSpread(_objectSpread({},defaultHeaders),headers),_.isEmpty);return _this.instance.defaults.headers=cleanHeaders;};//tạo instance (thực thể) thuộc axios\nvar instance=axios.create({headers:{\"Content-Type\":\"application/json\"}});instance.interceptors.request.use(function(config){return config;},function(error){return Promise.reject(error);});instance.interceptors.response.use(this.handleSuccess,this.handleError);//đưa instance đi khắp các fucntion trong class\nthis.instance=instance;}//xử lý khi gọi API thành công\n_createClass(AxiosService,[{key:\"handleSuccess\",value:function handleSuccess(response){return response;}//xử lý thất bại\n},{key:\"handleError\",value:function handleError(error){return Promise.reject(error);}},{key:\"get\",value:function get(url,headers){if(_.isEmpty(headers)){return this.instance.get(url);}return this.instance.get(url,headers);}},{key:\"post\",value:function post(url,body,headers){if(_.isEmpty(headers)){return this.instance.post(url,body);}return this.instance.post(url,body,headers);}},{key:\"put\",value:function put(url,body,headers){if(_.isEmpty(headers)){return this.instance.put(url,body);}return this.instance.put(url,body,headers);}},{key:\"delete\",value:function _delete(url,headers){if(_.isEmpty(headers)){return this.instance.delete(url);}return this.instance.delete(url,headers);}}]);return AxiosService;}();export default new AxiosService();","map":{"version":3,"sources":["/Users/vyduong/Desktop/client/Home-ApumStore/src/utils/AxiosService.js"],"names":["axios","_","AxiosService","changeHeaders","headers","defaultHeaders","get","instance","cleanHeaders","omitBy","isEmpty","defaults","create","interceptors","request","use","config","error","Promise","reject","response","handleSuccess","handleError","url","body","post","put","delete"],"mappings":"seAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,C,GAEMC,CAAAA,Y,yBACJ,uBAAa,wDAuDdC,aAvDc,CAuDE,SAAAC,OAAO,CAAI,CAC1B,GAAI,MAAOA,CAAAA,OAAP,GAAmB,WAAvB,CAAoC,CACnC,OACA,CACD,GAAMC,CAAAA,cAAc,CAAGJ,CAAC,CAACK,GAAF,CAAM,KAAI,CAACC,QAAX,CAAqB,kBAArB,CAAvB,CACA,GAAMC,CAAAA,YAAY,CAAGP,CAAC,CAACQ,MAAF,CAAW;AAAX,+BAEhBJ,cAFgB,EAGhBD,OAHgB,EAKpBH,CAAC,CAACS,OALkB,CAArB,CAOA,MAAO,CAAA,KAAI,CAACH,QAAL,CAAcI,QAAd,CAAuBP,OAAvB,CAAiCI,YAAxC,CACA,CApEa,CACb;AACA,GAAMD,CAAAA,QAAQ,CAAGP,KAAK,CAACY,MAAN,CAAa,CAC7BR,OAAO,CAAE,CACR,eAAgB,kBADR,CADoB,CAAb,CAAjB,CAKAG,QAAQ,CAACM,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CACC,SAAAC,MAAM,QAAIA,CAAAA,MAAJ,EADP,CAEC,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAJ,EAFN,EAIAV,QAAQ,CAACM,YAAT,CAAsBO,QAAtB,CAA+BL,GAA/B,CAAmC,KAAKM,aAAxC,CACC,KAAKC,WADN,EAEA;AACA,KAAKf,QAAL,CAAgBA,QAAhB,CACA,CAED;sDACA,uBAAca,QAAd,CAAuB,CACtB,MAAOA,CAAAA,QAAP,CACA,CAED;2BACA,qBAAYH,KAAZ,CAAkB,CACjB,MAAOC,CAAAA,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP,CACA,C,mBAED,aAAIM,GAAJ,CAASnB,OAAT,CAAiB,CAChB,GAAIH,CAAC,CAACS,OAAF,CAAUN,OAAV,CAAJ,CAAwB,CACvB,MAAO,MAAKG,QAAL,CAAcD,GAAd,CAAkBiB,GAAlB,CAAP,CACA,CACD,MAAO,MAAKhB,QAAL,CAAcD,GAAd,CAAkBiB,GAAlB,CAAuBnB,OAAvB,CAAP,CACA,C,oBAED,cAAKmB,GAAL,CAAUC,IAAV,CAAgBpB,OAAhB,CAAwB,CACvB,GAAIH,CAAC,CAACS,OAAF,CAAUN,OAAV,CAAJ,CAAwB,CACvB,MAAO,MAAKG,QAAL,CAAckB,IAAd,CAAmBF,GAAnB,CAAwBC,IAAxB,CAAP,CACA,CACD,MAAO,MAAKjB,QAAL,CAAckB,IAAd,CAAmBF,GAAnB,CAAwBC,IAAxB,CAA8BpB,OAA9B,CAAP,CACA,C,mBAED,aAAImB,GAAJ,CAASC,IAAT,CAAepB,OAAf,CAAuB,CACtB,GAAIH,CAAC,CAACS,OAAF,CAAUN,OAAV,CAAJ,CAAwB,CACvB,MAAO,MAAKG,QAAL,CAAcmB,GAAd,CAAkBH,GAAlB,CAAuBC,IAAvB,CAAP,CACA,CACD,MAAO,MAAKjB,QAAL,CAAcmB,GAAd,CAAkBH,GAAlB,CAAuBC,IAAvB,CAA6BpB,OAA7B,CAAP,CACA,C,sBAED,iBAAOmB,GAAP,CAAYnB,OAAZ,CAAoB,CACnB,GAAIH,CAAC,CAACS,OAAF,CAAUN,OAAV,CAAJ,CAAwB,CACvB,MAAO,MAAKG,QAAL,CAAcoB,MAAd,CAAqBJ,GAArB,CAAP,CACA,CACD,MAAO,MAAKhB,QAAL,CAAcoB,MAAd,CAAqBJ,GAArB,CAA0BnB,OAA1B,CAAP,CACA,C,4BAkBF,cAAe,IAAIF,CAAAA,YAAJ,EAAf","sourcesContent":["import axios from 'axios';\nimport _ from \"lodash\";\n\nclass AxiosService {\n  constructor(){\n\t\t//tạo instance (thực thể) thuộc axios\n\t\tconst instance = axios.create({\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t});\n\t\tinstance.interceptors.request.use(\n\t\t\tconfig => config,\n\t\t\terror => Promise.reject(error)\n\t\t);\n\t\tinstance.interceptors.response.use(this.handleSuccess,\n\t\t\tthis.handleError);\n\t\t//đưa instance đi khắp các fucntion trong class\n\t\tthis.instance = instance;\n\t}\n\n\t//xử lý khi gọi API thành công\n\thandleSuccess(response){\n\t\treturn response;\n\t}\n\n\t//xử lý thất bại\n\thandleError(error){\n\t\treturn Promise.reject(error);\n\t}\n\n\tget(url, headers){\n\t\tif (_.isEmpty(headers)) {\n\t\t\treturn this.instance.get(url);\n\t\t}\n\t\treturn this.instance.get(url, headers);\n\t}\n\n\tpost(url, body, headers){\n\t\tif (_.isEmpty(headers)) {\n\t\t\treturn this.instance.post(url, body);\n\t\t}\n\t\treturn this.instance.post(url, body, headers);\n\t}\n\n\tput(url, body, headers){\n\t\tif (_.isEmpty(headers)) {\n\t\t\treturn this.instance.put(url, body);\n\t\t}\n\t\treturn this.instance.put(url, body, headers);\n\t}\n\n\tdelete(url, headers){\n\t\tif (_.isEmpty(headers)) {\n\t\t\treturn this.instance.delete(url);\n\t\t}\n\t\treturn this.instance.delete(url, headers);\n\t}\n\n\tchangeHeaders = headers => {\n\t\tif (typeof headers === \"undefined\") {\n\t\t\treturn;\n\t\t}\n\t\tconst defaultHeaders = _.get(this.instance, \"defaults.headers\");\n\t\tconst cleanHeaders = _.omitBy(  // xóa đi những header empty\n\t\t\t{\n\t\t\t\t...defaultHeaders,\n\t\t\t\t...headers\n\t\t\t},\n\t\t\t_.isEmpty\n\t\t);\n\t\treturn this.instance.defaults.headers = cleanHeaders;\n\t};\n}\n\nexport default new AxiosService();"]},"metadata":{},"sourceType":"module"}