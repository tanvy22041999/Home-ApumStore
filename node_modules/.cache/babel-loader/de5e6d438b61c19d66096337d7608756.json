{"ast":null,"code":"var _jsxFileName = \"/Users/vyduong/Documents/Home-ApumStore/src/components/LoginPage/index.js\";\nimport React, { Component } from 'react';\nimport './loginStyles.css';\nimport { assets } from '../../constants/assetsImage';\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { withTranslation } from \"react-i18next\"; // @Actions\n\nimport AuthorizationActions from '../../redux/actions/auth'; // @Components\n\nimport { GoogleLogin } from 'react-google-login';\nimport { FacebookProvider, Login } from 'react-facebook';\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faFacebookF, faGoogle } from '@fortawesome/free-brands-svg-icons';\nimport ForgotPassword from './ForgotPass';\nimport { toastError } from '../../utils/toastHelper'; // @Constance\n\nimport { GOOGLE_ID, FACEBOOK_ID } from '../../constants';\n\nclass LoginPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onLogin = () => {\n      const {\n        email,\n        password\n      } = this.state;\n      const {\n        onLogin,\n        t\n      } = this.props;\n      const data = {\n        email,\n        password\n      };\n\n      if (email && password) {\n        onLogin(data);\n      } else {\n        toastError(`${t('login.toastify.error')}`);\n      }\n    };\n\n    this.onSubmit = event => {\n      event.preventDefault();\n    };\n\n    this.onChange = event => {\n      var target = event.target;\n      var name = target.name;\n      var value = target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.responseGoogle = response => {\n      const {\n        onLoginGoogle\n      } = this.props;\n      onLoginGoogle(response.accessToken);\n    };\n\n    this.responseFacebook = response => {\n      const {\n        onLoginFacebook\n      } = this.props;\n      onLoginFacebook(response.accessToken);\n    };\n\n    this.state = {\n      email: '',\n      password: ''\n    };\n  }\n\n  componentDidMount() {\n    document.title = \"[ApumStore] Đăng nhập\";\n    this.improveScreen();\n  }\n\n  UNSAFE_componentWillReceiveProps(props) {\n    const {\n      loggedIn,\n      history\n    } = props;\n\n    if (loggedIn && loggedIn === true) {\n      history.push('/');\n    }\n  }\n\n  improveScreen() {\n    const inputs = document.querySelectorAll(\".input\");\n\n    function addcl() {\n      let parent = this.parentNode.parentNode;\n      parent.classList.add(\"focus\");\n    }\n\n    function remcl() {\n      let parent = this.parentNode.parentNode;\n\n      if (this.value === \"\") {\n        parent.classList.remove(\"focus\");\n      }\n    }\n\n    inputs.forEach(input => {\n      input.addEventListener(\"focus\", addcl);\n      input.addEventListener(\"blur\", remcl);\n    });\n  }\n\n  render() {\n    const {\n      t\n    } = this.props;\n    const {\n      email,\n      password\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"wave\",\n      src: assets(\"wave.png\"),\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container_login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: assets(\"bg.png\"),\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 8\n      }\n    }, \"Welcome to\"), /*#__PURE__*/React.createElement(\"img\", {\n      className: \"pb-4\",\n      src: assets(\"brand1.png\"),\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-div one\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 10\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 10\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      className: \"input\",\n      name: \"email\",\n      value: email,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 10\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-div pass\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-lock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 10\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 10\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"input\",\n      name: \"password\",\n      value: password,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 10\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => this.onForgotPass,\n      className: \"text-right\",\n      \"data-bs-toggle\": \"modal\",\n      \"data-bs-target\": \"#forgotPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 8\n      }\n    }, \"Forgot Password?\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn\",\n      onClick: () => this.onLogin(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 10\n      }\n    }, t('header.login.button'))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      action: \"/user/dang-ky\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn\",\n      value: \"Register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }\n    }, t('header.signup.button')))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(GoogleLogin, {\n      clientId: GOOGLE_ID,\n      buttonText: \"Login\",\n      onSuccess: this.responseGoogle,\n      onFailure: this.responseGoogle,\n      render: renderProps => /*#__PURE__*/React.createElement(\"button\", {\n        onClick: renderProps.onClick,\n        disabled: renderProps.disabled,\n        className: \"btn-danger mr-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faGoogle,\n        className: \"mr-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 109\n        }\n      }), \"Login with Google\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 10\n      }\n    })), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      className: \"col-12 w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(FacebookLogin, {\n      appId: FACEBOOK_ID,\n      autoLoad: true,\n      onFailure: this.responseFacebook,\n      callback: this.responseFacebook,\n      render: renderProps => /*#__PURE__*/React.createElement(\"button\", {\n        onClick: renderProps.onClick,\n        className: \"btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faFacebookF,\n        className: \"mr-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 73\n        }\n      }), \"Login with Facebook\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 10\n      }\n    })))), /*#__PURE__*/React.createElement(ForgotPassword, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 7\n      }\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    loggedIn: state.auth.loggedIn\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onLogin: data => {\n      dispatch(AuthorizationActions.onLogin(data));\n    },\n    onLoginFacebook: token => {\n      dispatch(AuthorizationActions.onLoginFacebook(token));\n    },\n    onLoginGoogle: token => {\n      dispatch(AuthorizationActions.onLoginGoogle(token));\n    }\n  };\n};\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\nexport default compose(withConnect, withTranslation())(LoginPage);","map":{"version":3,"sources":["/Users/vyduong/Documents/Home-ApumStore/src/components/LoginPage/index.js"],"names":["React","Component","assets","connect","compose","withTranslation","AuthorizationActions","GoogleLogin","FacebookProvider","Login","FacebookLogin","FontAwesomeIcon","faFacebookF","faGoogle","ForgotPassword","toastError","GOOGLE_ID","FACEBOOK_ID","LoginPage","constructor","props","onLogin","email","password","state","t","data","onSubmit","event","preventDefault","onChange","target","name","value","setState","responseGoogle","response","onLoginGoogle","accessToken","responseFacebook","onLoginFacebook","componentDidMount","document","title","improveScreen","UNSAFE_componentWillReceiveProps","loggedIn","history","push","inputs","querySelectorAll","addcl","parent","parentNode","classList","add","remcl","remove","forEach","input","addEventListener","render","onForgotPass","renderProps","onClick","disabled","mapStateToProps","auth","mapDispatchToProps","dispatch","token","withConnect"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport './loginStyles.css'\nimport { assets } from '../../constants/assetsImage';\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { withTranslation } from \"react-i18next\";\n// @Actions\nimport AuthorizationActions from '../../redux/actions/auth'\n// @Components\nimport { GoogleLogin } from 'react-google-login';\nimport { FacebookProvider, Login } from 'react-facebook';\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props'\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faFacebookF, faGoogle } from '@fortawesome/free-brands-svg-icons';\nimport ForgotPassword from './ForgotPass';\nimport { toastError } from '../../utils/toastHelper';\n// @Constance\nimport { GOOGLE_ID, FACEBOOK_ID } from '../../constants'\n\nclass LoginPage extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t}\n\t}\n\n\tonLogin = () =>{\n\t\tconst { email, password } = this.state;\n\t\tconst { onLogin, t } = this.props;\n\t\tconst data = {\n\t\t\temail, \n\t\t\tpassword\n\t\t};\n\t\tif(email && password){\n\t\t\tonLogin(data);\n\t\t}\n\t\telse{\n\t\t\ttoastError(`${t('login.toastify.error')}`)\n\t\t}\n\t}\n\tonSubmit = (event) =>{\n    event.preventDefault();\n  }\n\n\tonChange = (event) =>{\n    var target=event.target;\n    var name=target.name;\n    var value=target.value;\n    this.setState({\n      [name]:  value\n    })\n\t}\n\n\tcomponentDidMount(){ \n\t\tdocument.title = \"[ApumStore] Đăng nhập\"\n\t\tthis.improveScreen()\n\t}\n\n\tUNSAFE_componentWillReceiveProps(props){\n\t\tconst { loggedIn, history } = props;\n\t\tif(loggedIn && loggedIn===true){\n\t\t\thistory.push('/');\n\t\t}\n\t}\n\n\timproveScreen() {\n\t\tconst inputs = document.querySelectorAll(\".input\");\n\t\tfunction addcl(){\n\t\t\tlet parent = this.parentNode.parentNode;\n\t\t\tparent.classList.add(\"focus\");\n\t\t}\n\n\t\tfunction remcl(){\n\t\t\tlet parent = this.parentNode.parentNode;\n\t\t\tif(this.value === \"\"){\n\t\t\t\tparent.classList.remove(\"focus\");\n\t\t\t}\n\t\t}\n\t\tinputs.forEach(input => {\n\t\t\tinput.addEventListener(\"focus\", addcl);\n\t\t\tinput.addEventListener(\"blur\", remcl);\n\t\t});\n\t}\n\n\tresponseGoogle = (response) => {\n\t\tconst {onLoginGoogle} = this.props;\n\t\tonLoginGoogle(response.accessToken);\n  }\n\n  responseFacebook = (response) => {\n\t\tconst {onLoginFacebook} = this.props;\n\t\tonLoginFacebook(response.accessToken);\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\tconst { email, password } = this.state;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<img className=\"wave\" src={ assets(\"wave.png\")} alt=\"\" />\n\t\t\t\t<div className=\"container_login\">\n\t\t\t\t\t<div className=\"img\">\n\t\t\t\t\t\t<img src={ assets(\"bg.png\")} alt=\"\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"login-content\">\n\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t<h2 className=\"title\">Welcome to</h2>\n\t\t\t\t\t\t\t<img className=\"pb-4\" src={assets(\"brand1.png\")} alt=\"\"></img>\n\t\t\t\t\t\t\t<div className=\"input-div one\">\n\t\t\t\t\t\t\t\t<div className=\"i\">\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-user\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"div\">\n\t\t\t\t\t\t\t\t\t<h5>Email</h5>\n\t\t\t\t\t\t\t\t\t<input type=\"email\" className=\"input\" name=\"email\" value={email} onChange={this.onChange}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"input-div pass\">\n\t\t\t\t\t\t\t\t<div className=\"i\">\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-lock\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"div\">\n\t\t\t\t\t\t\t\t\t<h5>Password</h5>\n\t\t\t\t\t\t\t\t\t<input type=\"password\" className=\"input\" name=\"password\" value={password} onChange={this.onChange}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div onClick={()=> this.onForgotPass} className=\"text-right\" data-bs-toggle=\"modal\" data-bs-target=\"#forgotPassword\">Forgot Password?</div>\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn\" onClick={()=> this.onLogin()}>{t('header.login.button')}</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t\t\t<form action=\"/user/dang-ky\">\n\t\t\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn\" value=\"Register\">{t('header.signup.button')}</button>\n\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t\t\t<GoogleLogin\n\t\t\t\t\t\t\t\t\tclientId={GOOGLE_ID}\n\t\t\t\t\t\t\t\t\tbuttonText=\"Login\"\n\t\t\t\t\t\t\t\t\tonSuccess={this.responseGoogle}\n\t\t\t\t\t\t\t\t\tonFailure={this.responseGoogle}\n\t\t\t\t\t\t\t\t\trender={renderProps => (\n\t\t\t\t\t\t\t\t\t\t<button onClick={renderProps.onClick} disabled={renderProps.disabled} className=\"btn-danger mr-3\"><FontAwesomeIcon icon={faGoogle} className=\"mr-1\"/>Login with Google</button>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<form onSubmit={this.onSubmit} className=\"col-12 w-100\">\n\t\t\t\t\t\t\t\t\t<FacebookLogin\n\t\t\t\t\t\t\t\t\tappId={FACEBOOK_ID}\n\t\t\t\t\t\t\t\t\tautoLoad={true}\n\t\t\t\t\t\t\t\t\tonFailure={this.responseFacebook}\n\t\t\t\t\t\t\t\t\tcallback={this.responseFacebook}\n\t\t\t\t\t\t\t\t\trender={renderProps => (\n\t\t\t\t\t\t\t\t\t\t<button onClick={renderProps.onClick} className=\"btn-primary\"><FontAwesomeIcon icon={faFacebookF} className=\"mr-1\"/>Login with Facebook</button>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<ForgotPassword/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n  return {\n\t\tloggedIn: state.auth.loggedIn\n  };\n};\n\nconst mapDispatchToProps =(dispatch)=> {\n\treturn {\n\t\tonLogin : (data) =>{\n\t\t\tdispatch(AuthorizationActions.onLogin(data))\n\t\t},\n\t\tonLoginFacebook : (token) =>{\n\t\t\tdispatch(AuthorizationActions.onLoginFacebook(token))\n\t\t},\n\t\tonLoginGoogle : (token) =>{\n\t\t\tdispatch(AuthorizationActions.onLoginGoogle(token))\n\t\t},\n\n\t}\n};\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\nexport default compose(withConnect, withTranslation())(LoginPage);\n"]},"metadata":{},"sourceType":"module"}