{"ast":null,"code":"import _defineProperty from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/vyduong/Desktop/client/Home-ApumStore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from\"react-redux\";import{compose}from'redux';import{withTranslation}from'react-i18next';import qs from\"query-string\";// Components\nimport Pagination from\"react-js-pagination\";import InstallmentDetail from'../../containers/InstallmentDetail';import{confirmAlert}from'react-confirm-alert';// Import\nimport'react-confirm-alert/src/react-confirm-alert.css';// Import css\n// @Functions\nimport getFilterParams from\"../../utils/getFilterParams\";import numberWithCommas from'../../utils/formatPrice';import{INITIAL_IMAGE}from'../../constants';// @Actions\nimport InstallmentActions from\"../../redux/actions/installment\";var statusList=[{name:\"Chờ duyệt\",name_en:\"Pending\",state:{status:-1,active:1}},{name:\"Chưa hoàn tất\",name_en:\"Unfinish\",state:{status:0,active:1}},{name:\"Đã hoàn tất\",name_en:\"Finished\",state:{status:1,active:1}},{name:\"Qúa hạn\",name_en:\"Overdue\",state:{status:2,active:1}},{name:\"Đã hủy\",name_en:\"Canceled\",state:{active:-1}}];var UserInstallmentPage=/*#__PURE__*/function(_Component){_inherits(UserInstallmentPage,_Component);var _super=_createSuper(UserInstallmentPage);function UserInstallmentPage(props){var _this;_classCallCheck(this,UserInstallmentPage);_this=_super.call(this,props);_this.handlePageChange=function(pageNumber){_this.handleUpdateFilter({page:pageNumber-1});};_this.setStatus=function(status,active){var t=_this.props.t;if(active===false)return t(\"installment.status.1\");else{switch(status){case-1:return t(\"installment.status.2\");case 0:return t(\"installment.status.3\");case 1:return t(\"installment.status.4\");case 2:return t(\"installment.status.5\");default:return t(\"installment.status.2\");}}};_this.onList=function(type,state){_this.handleUpdateFilter(_objectSpread({type:type},state));};_this.onUpdateInstallment=function(id,data){var queryParams=_this.props.queryParams;var onUpdate=_this.props.onUpdate;onUpdate(id,data,queryParams);};_this.onDeactivate=function(id){var t=_this.props.t;confirmAlert({title:t('order.popup.label'),message:t('installment.delete.question'),buttons:[{label:'Yes',onClick:function onClick(){return _this.onUpdateInstallment(id,{active:false});}},{label:'No'}]});};_this.handleUpdateFilter=function(data){var _this$props=_this.props,location=_this$props.location,history=_this$props.history;var pathname=location.pathname,search=location.search;var queryParams=getFilterParams(search);queryParams=data;history.push(\"\".concat(pathname,\"?\").concat(qs.stringify(queryParams)));};_this.getInfoInstallment=function(id){var onGetDetail=_this.props.onGetDetail;onGetDetail(id);};_this.onChange=function(event){var target=event.target;var name=target.name;var value=target.value;_this.setState(_defineProperty({},name,value));};_this.state={queryParams:{},filter:{limit:8,page:0}};return _this;}_createClass(UserInstallmentPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props2=this.props,onGetList=_this$props2.onGetList,authInfo=_this$props2.authInfo,location=_this$props2.location;var filter=this.state.filter;if(authInfo){var filters=getFilterParams(location.search);var params=_objectSpread(_objectSpread(_objectSpread({},filter),filters),{},{user:authInfo&&authInfo.id});this.setState({queryParams:params});onGetList(params);}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(props){var authInfo=this.props.authInfo;document.title=\"[ApumStore] Trang bán hàng\";if(props.authInfo!==authInfo){var _this$props3=this.props,onGetList=_this$props3.onGetList,location=_this$props3.location;var filter=this.state.filter;var filters=getFilterParams(location.search);var params=_objectSpread(_objectSpread(_objectSpread({},filter),filters),{},{user:props.authInfo&&props.authInfo.id});this.setState({queryParams:params});if(props.authInfo)onGetList(params);}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var _this$props4=this.props,location=_this$props4.location,onGetList=_this$props4.onGetList,authInfo=_this$props4.authInfo;var filter=this.state.filter;var filters=getFilterParams(location.search);if(prevProps.location!==location){var params=_objectSpread(_objectSpread(_objectSpread({},filter),filters),{},{user:authInfo&&authInfo.id});this.setState({queryParams:params});onGetList(params);}}// phân trang\n},{key:\"render\",value:function render(){var _this2=this;var queryParams=this.state.queryParams;var _this$props5=this.props,installmentList=_this$props5.installmentList,installmentItem=_this$props5.installmentItem,location=_this$props5.location,history=_this$props5.history,total=_this$props5.total,t=_this$props5.t,language=_this$props5.language;var filter=getFilterParams(location.search);return/*#__PURE__*/React.createElement(\"div\",{className:\"bg-user-info py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container emp-profile p-0 mt-5 mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row mx-3\"},/*#__PURE__*/React.createElement(\"div\",{className:filter.type===\"0\"||filter.type===undefined?\"col-2 text-center pt-1 bg-selected font-weight-bold\":\"col-2 text-center pt-1 font-weight-bold text-secondary\",onClick:function onClick(){return _this2.onList(0,null);}},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(filter.type!==\"0\"&&filter.type!==undefined&&\"rounded directory\",\" py-3\")},t('common.all'))),statusList.map(function(status,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:filter.type===(index+1).toString()?\"col-2 text-center pt-1 bg-selected font-weight-bold\":\"col-2 text-center pt-1 font-weight-bold text-secondary\",onClick:function onClick(){return _this2.onList(index+1,status.state);}},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(filter.type!==(index+1).toString()&&\"rounded directory\",\" py-3\")},language===\"vn\"?status.name:status.name_en));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"container emp-profile py-3 mt-2 mb-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},installmentList&&installmentList.length>0?installmentList.map(function(installment,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 my-1\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"card shadow-sm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header bg-primary text-white\"},/*#__PURE__*/React.createElement(\"p\",{className:\"float-start mb-0\"},t('installment.card.header'),\" \",installment.id),/*#__PURE__*/React.createElement(\"p\",{className:\"float-end mb-0\"},\"| \",_this2.setStatus(installment.status,installment.active))),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 col-md-3 text-center  h-120\"},/*#__PURE__*/React.createElement(\"img\",{className:\"h-100\",src:installment.product.id.bigimage?installment.product.id.bigimage.publicUrl:INITIAL_IMAGE,alt:installment.product.id.name})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 col-md-3 align-self-center\"},/*#__PURE__*/React.createElement(\"p\",{className:\"font-weight-bold mb-0\"},installment.product.id.name),/*#__PURE__*/React.createElement(\"p\",{className:\"font-italic mb-0\"},t('common.color'),\" \",installment.product.color&&installment.product.color.nameVn),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0\"},t('cart.price.table'),\" \",numberWithCommas(installment.product.product_price),\" VND\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 col-md-3 align-self-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"rounded bg-danger py-3 px-2 form-inline\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-fit-content rounded-circle bg-white\",style:{padding:\"3px 8px\"}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-coins text-lg text-danger\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"ml-3\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"mb-0 font-weight-bold text-white \"},t('installment.debt.1.label')),/*#__PURE__*/React.createElement(\"p\",{className:\"text-white mb-0\"},installment.debt?numberWithCommas(installment.debt):0,\" VND\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 col-md-3 align-self-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"rounded bg-success py-3 px-2 form-inline\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-fit-content rounded-circle bg-white\",style:{padding:\"3px 6px\"}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-hand-holding-usd text-lg text-success\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"ml-3\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"mb-0 font-weight-bold text-white \"},t('installment.paid.label')),/*#__PURE__*/React.createElement(\"p\",{className:\"text-white mb-0\"},installment.paid?numberWithCommas(installment.paid):0,\" VND\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"card-footer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"float-start\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-success mr-2\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#myModal\",onClick:function onClick(){return _this2.getInfoInstallment(installment.id);}},t('common.detail.button')),_this2.setStatus(installment.status,installment.active)===\"Chờ duyệt\"&&/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-danger\",onClick:function onClick(){return _this2.onDeactivate(installment.id);}},t('common.destroy.button'))),/*#__PURE__*/React.createElement(\"div\",{className:\"float-end font-weight-bold\"},installment.startedAt&&installment.endedAt?/*#__PURE__*/React.createElement(\"p\",null,t('installment.from'),\" \",new Date(installment.startedAt).toLocaleDateString(\"vn-VN\"),\" \",t('installment.to'),\" \",new Date(installment.endedAt).toLocaleDateString(\"vn-VN\")):/*#__PURE__*/React.createElement(\"p\",null,t('installment.status.2'))))));}):/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 my-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center my-5 py-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"h-120\"},/*#__PURE__*/React.createElement(\"img\",{className:\"h-100\",src:\"https://deo.shopeemobile.com/shopee/shopee-pcmall-live-sg/assets/0e8c07c8449d8d509f72f5576f79a983.png\",alt:\"404 not found\"})),/*#__PURE__*/React.createElement(\"p\",null,t('installment.not-yet')))))),/*#__PURE__*/React.createElement(InstallmentDetail,{installmentItem:installmentItem,history:history,queryParams:queryParams}),/*#__PURE__*/React.createElement(\"div\",{className:\"content-center\"},total&&total>8&&/*#__PURE__*/React.createElement(Pagination,{activePage:filter.page?parseInt(filter.page)+1:1,itemsCountPerPage:8,totalItemsCount:total?total:8,pageRangeDisplayed:3,linkClass:\"page-link\",itemClass:\"page-item\",prevPageText:t('shop.pagination.prev'),nextPageText:t('shop.pagination.next'),hideFirstLastPages:true,onChange:this.handlePageChange.bind(this)})));}}]);return UserInstallmentPage;}(Component);var mapStateToProps=function mapStateToProps(state){return{language:state.language,authInfo:state.auth.detail,installmentList:state.installment.list,installmentItem:state.installment.detail,total:state.installment.total};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onGetList:function onGetList(payload){dispatch(InstallmentActions.onGetList(payload));},onGetDetail:function onGetDetail(id){dispatch(InstallmentActions.onGetDetail(id));},onUpdate:function onUpdate(id,data,params){dispatch(InstallmentActions.onUpdate({id:id,data:data,params:params}));}};};var withConnect=connect(mapStateToProps,mapDispatchToProps);export default compose(withConnect,withTranslation())(UserInstallmentPage);","map":{"version":3,"sources":["/Users/vyduong/Desktop/client/Home-ApumStore/src/components/UserInstallmentPage/index.js"],"names":["React","Component","connect","compose","withTranslation","qs","Pagination","InstallmentDetail","confirmAlert","getFilterParams","numberWithCommas","INITIAL_IMAGE","InstallmentActions","statusList","name","name_en","state","status","active","UserInstallmentPage","props","handlePageChange","pageNumber","handleUpdateFilter","page","setStatus","t","onList","type","onUpdateInstallment","id","data","queryParams","onUpdate","onDeactivate","title","message","buttons","label","onClick","location","history","pathname","search","push","stringify","getInfoInstallment","onGetDetail","onChange","event","target","value","setState","filter","limit","onGetList","authInfo","filters","params","user","document","prevProps","installmentList","installmentItem","total","language","undefined","map","index","toString","length","installment","product","bigimage","publicUrl","color","nameVn","product_price","padding","debt","paid","startedAt","endedAt","Date","toLocaleDateString","parseInt","bind","mapStateToProps","auth","detail","list","mapDispatchToProps","dispatch","payload","withConnect"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from \"react-redux\";\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next'\nimport qs from \"query-string\";\n// Components\nimport Pagination from \"react-js-pagination\";\nimport InstallmentDetail from '../../containers/InstallmentDetail'\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n// @Functions\nimport getFilterParams from \"../../utils/getFilterParams\";\nimport numberWithCommas from '../../utils/formatPrice'\nimport {INITIAL_IMAGE} from '../../constants';\n// @Actions\nimport InstallmentActions from \"../../redux/actions/installment\";\n\nconst statusList = [\n  { \n    name: \"Chờ duyệt\",\n    name_en: \"Pending\",\n    state: { status:-1, active:1 },\n  },{\n    name: \"Chưa hoàn tất\",\n    name_en: \"Unfinish\",\n    state: { status:0, active:1 }\n  },{\n    name: \"Đã hoàn tất\",\n    name_en: \"Finished\",\n    state: { status:1, active:1 }\n  },{\n    name: \"Qúa hạn\",\n    name_en: \"Overdue\",\n    state: { status:2, active:1 }\n  },{\n    name: \"Đã hủy\",\n    name_en: \"Canceled\",\n    state: { active:-1 }\n  }\n];\n\nclass UserInstallmentPage extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      queryParams: {},\n      filter: {\n        limit: 8,\n        page: 0,\n      },\n    }\n  }\n\n  componentDidMount(){\n    const {onGetList, authInfo, location} = this.props;\n    const { filter } = this.state;\n    if(authInfo){\n      const filters = getFilterParams(location.search);\n      var params = {\n        ...filter,\n        ...filters,\n        user: authInfo && authInfo.id\n      };\n      this.setState({queryParams: params})\n      onGetList(params);\n    }\n  }\n\n  componentWillReceiveProps(props){\n    const {authInfo} = this.props;\n    document.title = \"[ApumStore] Trang bán hàng\"\n    if(props.authInfo !== authInfo){\n      const { onGetList, location } = this.props;\n      const { filter } = this.state;\n      const filters = getFilterParams(location.search);\n      var params = {\n        ...filter,\n        ...filters,\n        user: props.authInfo && props.authInfo.id\n      };\n      this.setState({queryParams: params})\n      if(props.authInfo)onGetList(params);\n    }\n  }\n\n  componentDidUpdate(prevProps){\n    const {location, onGetList, authInfo} = this.props;\n    const { filter } = this.state;\n    const filters = getFilterParams(location.search);\n    if(prevProps.location !== location){\n      var params = {\n        ...filter,\n        ...filters,\n        user: authInfo && authInfo.id\n      };\n      this.setState({queryParams: params})\n      onGetList(params);\n    }\n  }\n\n  // phân trang\n  handlePageChange = (pageNumber) => {\n    this.handleUpdateFilter({ page: pageNumber-1 });\n  }\n\n  setStatus = (status, active) => {\n    const { t } = this.props;\n    if(active===false) return t(\"installment.status.1\")\n    else{\n      switch(status) {\n        case -1:\n          return t(\"installment.status.2\")\n        case 0:\n          return t(\"installment.status.3\")\n        case 1:\n          return t(\"installment.status.4\")\n        case 2:\n          return t(\"installment.status.5\")\n        default:\n          return t(\"installment.status.2\")\n      }\n    }\n  }\n\n  onList = (type, state) => {\n    this.handleUpdateFilter({ type, ...state });\n  }\n\n  onUpdateInstallment = (id, data) => {\n    const { queryParams } = this.props;\n    const { onUpdate } = this.props;\n    onUpdate(id, data, queryParams);\n  }\n\n  onDeactivate = (id) => {\n    const { t } = this.props;\n    confirmAlert({\n      title: t('order.popup.label'),\n      message: t('installment.delete.question'),\n      buttons: [\n        {\n          label: 'Yes',\n          onClick: () => this.onUpdateInstallment(id, {active: false})\n        },\n        {\n          label: 'No'\n        }\n      ]\n    });\n  };\n\n  handleUpdateFilter = (data) => {\n    const {location, history} = this.props;\n    const {pathname, search} = location;\n    let queryParams = getFilterParams(search);\n    queryParams = data;\n    history.push(`${pathname}?${qs.stringify(queryParams)}`);\n  };\n\n  getInfoInstallment = (id) => {\n    const {onGetDetail} = this.props;\n    onGetDetail(id);\n  }\n\n  onChange = (event) =>{\n    var target=event.target;\n    var name=target.name;\n    var value=target.value;\n    this.setState({\n      [name]:  value\n    })\n  }\n\n  render() {\n    const { queryParams } = this.state;\n    const { installmentList, installmentItem, location, history, total, t, language } = this.props;\n    const filter = getFilterParams(location.search);\n    return (\n      <div className=\"bg-user-info py-4\">\n        <div className=\"container emp-profile p-0 mt-5 mb-2\">\n          <div className=\"row mx-3\">\n            <div className={filter.type===\"0\" || filter.type===undefined ? \"col-2 text-center pt-1 bg-selected font-weight-bold\" : \"col-2 text-center pt-1 font-weight-bold text-secondary\"} \n            onClick={() => this.onList(0, null)}>\n              <div className={`${filter.type!==\"0\" && filter.type!==undefined && \"rounded directory\"} py-3`}>{t('common.all')}</div>\n            </div>\n            {statusList.map((status, index)=>{\n              return (\n                <div key={index} className={filter.type===(index+1).toString() ? \"col-2 text-center pt-1 bg-selected font-weight-bold\" : \"col-2 text-center pt-1 font-weight-bold text-secondary\"} \n                onClick={() => this.onList(index+1, status.state)}>\n                  <div className={`${filter.type!==(index+1).toString() && \"rounded directory\"} py-3`}>{language===\"vn\" ? status.name : status.name_en}</div>\n                </div>\n              )\n            })}\n          </div>\n        </div>\n        <div className=\"container emp-profile py-3 mt-2 mb-5\">\n          <div className=\"row\">\n            {installmentList && installmentList.length > 0 ? installmentList.map((installment, index) =>{\n              return (\n                <div className=\"col-12 my-1\" key={index}>\n                  <div className=\"card shadow-sm\">\n                    <div className=\"card-header bg-primary text-white\">\n                      <p className=\"float-start mb-0\">{t('installment.card.header')} {installment.id}</p>\n                      <p className=\"float-end mb-0\">| {this.setStatus(installment.status, installment.active)}</p>\n                    </div>\n                    <div className=\"card-body\">\n                      <div className=\"row\">\n                        <div className=\"col-6 col-md-3 text-center  h-120\">\n                          <img className=\"h-100\" src={installment.product.id.bigimage ? installment.product.id.bigimage.publicUrl : INITIAL_IMAGE} alt={installment.product.id.name}></img>\n                        </div>\n                        <div className=\"col-6 col-md-3 align-self-center\">\n                          <p className=\"font-weight-bold mb-0\">{installment.product.id.name}</p>\n                          <p className=\"font-italic mb-0\">{t('common.color')} {installment.product.color && installment.product.color.nameVn}</p>\n                          <p className=\"mb-0\">{t('cart.price.table')} {numberWithCommas(installment.product.product_price)} VND</p>\n                        </div>\n                        <div className=\"col-6 col-md-3 align-self-center\">\n                          <div className=\"rounded bg-danger py-3 px-2 form-inline\">\n                            <div className=\"w-fit-content rounded-circle bg-white\" style={{padding: \"3px 8px\"}}>\n                              <i className=\"fa fa-coins text-lg text-danger\"></i>\n                            </div>\n                            <div className=\"ml-3\">\n                              <h4 className=\"mb-0 font-weight-bold text-white \">{t('installment.debt.1.label')}</h4>\n                              <p className=\"text-white mb-0\">{installment.debt ? numberWithCommas(installment.debt) : 0} VND</p>\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"col-6 col-md-3 align-self-center\">\n                          <div className=\"rounded bg-success py-3 px-2 form-inline\">\n                            <div className=\"w-fit-content rounded-circle bg-white\" style={{padding: \"3px 6px\"}}>\n                              <i className=\"fa fa-hand-holding-usd text-lg text-success\"></i>\n                            </div>\n                            <div className=\"ml-3\">\n                              <h4 className=\"mb-0 font-weight-bold text-white \">{t('installment.paid.label')}</h4>\n                              <p className=\"text-white mb-0\">{installment.paid ? numberWithCommas(installment.paid): 0} VND</p>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"card-footer\">\n                      <div className=\"float-start\">\n                        <button type=\"button\" className=\"btn btn-success mr-2\" data-bs-toggle=\"modal\" data-bs-target=\"#myModal\" onClick={()=> this.getInfoInstallment(installment.id)}>{t('common.detail.button')}</button>\n                        {this.setStatus(installment.status, installment.active)===\"Chờ duyệt\" && <button type=\"button\" className=\"btn btn-danger\" onClick={()=> this.onDeactivate(installment.id)}>{t('common.destroy.button')}</button>}\n                      </div>\n                      <div className=\"float-end font-weight-bold\">\n                        {installment.startedAt && installment.endedAt \n                        ? <p>{t('installment.from')} {new Date(installment.startedAt).toLocaleDateString(\"vn-VN\")} {t('installment.to')} {new Date(installment.endedAt).toLocaleDateString(\"vn-VN\")}</p>\n                        : <p>{t('installment.status.2')}</p>}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )\n            })\n          : <div className=\"col-12 my-1\">\n              <div className=\"text-center my-5 py-5\">\n                <div className=\"h-120\">\n                  <img className=\"h-100\" src=\"https://deo.shopeemobile.com/shopee/shopee-pcmall-live-sg/assets/0e8c07c8449d8d509f72f5576f79a983.png\" alt=\"404 not found\"></img>\n                </div>\n                <p>{t('installment.not-yet')}</p>\n              </div>\n            </div>}\n          </div>\n        </div>\n        <InstallmentDetail installmentItem={installmentItem} history={history} queryParams={queryParams}/>\n        <div className=\"content-center\">\n          {total && total > 8 && <Pagination\n            activePage={filter.page ? parseInt(filter.page)+1 : 1}\n            itemsCountPerPage={8}\n            totalItemsCount={total ? total : 8}\n            pageRangeDisplayed={3}\n            linkClass=\"page-link\"\n            itemClass=\"page-item\"\n            prevPageText={t('shop.pagination.prev')}\n            nextPageText={t('shop.pagination.next')}\n            hideFirstLastPages={true}\n            onChange={this.handlePageChange.bind(this)}\n          />}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) =>{\n  return {\n    language: state.language,\n    authInfo: state.auth.detail,\n    installmentList: state.installment.list,\n    installmentItem: state.installment.detail,\n    total: state.installment.total\n  }\n}\n\nconst mapDispatchToProps =(dispatch)=> {\n\treturn {\n    onGetList: (payload) => {\n      dispatch(InstallmentActions.onGetList(payload))\n    },\n    onGetDetail: (id) => {\n      dispatch(InstallmentActions.onGetDetail(id))\n    },\n    onUpdate: (id, data, params) =>{\n      dispatch(InstallmentActions.onUpdate({id, data, params}))\n    }\n\t}\n};\n\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps)\n\nexport default compose(\n  withConnect,\n  withTranslation()\n)(UserInstallmentPage);"]},"metadata":{},"sourceType":"module"}